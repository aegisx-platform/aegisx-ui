"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[835],{20835:(y,C,l)=>{l.d(C,{i:()=>st});var g=l(71800),p=l(82025),c=l(43692),m=l(46897),_=l(13099),R=l(61869),h=l(61447),P=l(28555),M=l(54180),E=l(3155),F=l(36586),O=l(18560),T=l(17701),A=l(90020),f=l(67803),d=l(84524),t=l(75168),w=l(51945),k=l(71009),j=l(3274);const I=(i,s)=>s.id,L=(i,s)=>s.location.id;function $(i,s){if(1&i){const e=t.RV6();t.j41(0,"button",12),t.bIt("click",function(){c.eBV(e);const n=t.XpG(2);return c.Njj(n.clearSearch())}),t.j41(1,"mat-icon"),t.EFF(2,"close"),t.k0s()()}}function D(i,s){if(1&i){const e=t.RV6();t.j41(0,"mat-form-field",2)(1,"mat-label"),t.EFF(2,"Search Locations"),t.k0s(),t.j41(3,"input",9),t.mxI("ngModelChange",function(n){c.eBV(e);const a=t.XpG();return t.DH7(a.searchTerm,n)||(a.searchTerm=n),c.Njj(n)}),t.k0s(),t.j41(4,"mat-icon",10),t.EFF(5,"search"),t.k0s(),t.nVh(6,$,3,0,"button",11),t.k0s()}if(2&i){const e=t.XpG();t.R7$(3),t.R50("ngModel",e.searchTerm),t.R7$(3),t.vxM(e.searchTerm()?6:-1)}}function N(i,s){1&i&&(t.j41(0,"mat-icon",15),t.EFF(1,"chevron_right"),t.k0s())}function B(i,s){if(1&i){const e=t.RV6();t.j41(0,"button",14),t.bIt("click",function(){const n=c.eBV(e).$implicit,a=t.XpG(2);return c.Njj(a.navigateToBreadcrumb(n))}),t.EFF(1),t.k0s(),t.nVh(2,N,2,0,"mat-icon",15)}if(2&i){const e=s.$implicit;t.AVh("ax-location-picker__breadcrumb--last",e.isLast),t.R7$(),t.SpI(" ",e.code," "),t.R7$(),t.vxM(e.isLast?-1:2)}}function S(i,s){if(1&i&&(t.j41(0,"div",3)(1,"mat-icon",13),t.EFF(2,"location_on"),t.k0s(),t.Z7z(3,B,3,4,null,null,I),t.k0s()),2&i){const e=t.XpG();t.R7$(3),t.Dyx(e.breadcrumbs())}}function V(i,s){if(1&i&&(t.j41(0,"span",30),t.EFF(1),t.k0s()),2&i){const e=t.XpG(2).$implicit,o=t.XpG(2);t.HbH(o.getCapacityColorClass(e.utilization)),t.R7$(),t.SpI(" (",e.utilization,"%) ")}}function G(i,s){if(1&i&&(t.j41(0,"div",26)(1,"mat-icon",28),t.EFF(2," inventory_2 "),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s(),t.nVh(5,V,2,3,"span",29),t.k0s()),2&i){const e=t.XpG().$implicit,o=t.XpG(2);t.R7$(),t.HbH(o.getCapacityColorClass(e.utilization)),t.R7$(2),t.HbH(o.getCapacityColorClass(e.utilization)),t.R7$(),t.SpI(" ",o.formatCapacity(e.stockCount,e.capacity)," "),t.R7$(),t.vxM(void 0!==e.utilization?5:-1)}}function X(i,s){if(1&i){const e=t.RV6();t.j41(0,"mat-tree-node",18)(1,"button",19)(2,"mat-icon"),t.EFF(3,"chevron_right"),t.k0s()(),t.j41(4,"div",20),t.bIt("click",function(){const n=c.eBV(e).$implicit,a=t.XpG(2);return c.Njj(a.selectLocation(n))})("keyup.enter",function(){const n=c.eBV(e).$implicit,a=t.XpG(2);return c.Njj(a.selectLocation(n))})("keyup.space",function(){const n=c.eBV(e).$implicit,a=t.XpG(2);return c.Njj(a.selectLocation(n))}),t.j41(5,"mat-icon",21),t.EFF(6),t.k0s(),t.j41(7,"div",22)(8,"div",23)(9,"span",24),t.EFF(10),t.k0s(),t.j41(11,"span",25),t.EFF(12),t.k0s()(),t.nVh(13,G,6,6,"div",26),t.k0s(),t.j41(14,"button",27),t.bIt("click",function(n){const a=c.eBV(e).$implicit,r=t.XpG(2);return c.Njj(r.toggleFavorite(a,n))}),t.j41(15,"mat-icon"),t.EFF(16),t.k0s()()()()}if(2&i){const e=s.$implicit,o=t.XpG(2);t.AVh("ax-location-picker__tree-node--selected",o.isSelected(e))("ax-location-picker__tree-node--disabled",e.disabled||!o.isLocationAllowed(e)),t.R7$(5),t.HbH(o.getStatusColorClass(e.status)),t.R7$(),t.SpI(" ",o.getLocationIcon(e.type)," "),t.R7$(4),t.JRh(e.code),t.R7$(2),t.JRh(e.name),t.R7$(),t.vxM(o.showAvailability()&&void 0!==e.stockCount?13:-1),t.R7$(),t.AVh("ax-location-picker__favorite--active",o.isFavorite(e)),t.Y8G("matTooltip",o.isFavorite(e)?"Remove from favorites":"Add to favorites"),t.R7$(2),t.JRh(o.isFavorite(e)?"star":"star_border")}}function z(i,s){if(1&i&&(t.j41(0,"span",30),t.EFF(1),t.k0s()),2&i){const e=t.XpG(2).$implicit,o=t.XpG(2);t.HbH(o.getCapacityColorClass(e.utilization)),t.R7$(),t.SpI(" (",e.utilization,"%) ")}}function W(i,s){if(1&i&&(t.j41(0,"div",26)(1,"mat-icon",28),t.EFF(2," inventory_2 "),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s(),t.nVh(5,z,2,3,"span",29),t.k0s()),2&i){const e=t.XpG().$implicit,o=t.XpG(2);t.R7$(),t.HbH(o.getCapacityColorClass(e.utilization)),t.R7$(2),t.HbH(o.getCapacityColorClass(e.utilization)),t.R7$(),t.SpI(" ",o.formatCapacity(e.stockCount,e.capacity)," "),t.R7$(),t.vxM(void 0!==e.utilization?5:-1)}}function U(i,s){if(1&i){const e=t.RV6();t.j41(0,"mat-tree-node")(1,"button",31),t.bIt("click",function(){const n=c.eBV(e).$implicit,a=t.XpG(2);return c.Njj(a.toggleNode(n))}),t.j41(2,"mat-icon"),t.EFF(3),t.k0s()(),t.j41(4,"div",20),t.bIt("click",function(){const n=c.eBV(e).$implicit,a=t.XpG(2);return c.Njj(a.selectLocation(n))})("keyup.enter",function(){const n=c.eBV(e).$implicit,a=t.XpG(2);return c.Njj(a.selectLocation(n))})("keyup.space",function(){const n=c.eBV(e).$implicit,a=t.XpG(2);return c.Njj(a.selectLocation(n))}),t.j41(5,"mat-icon",21),t.EFF(6),t.k0s(),t.j41(7,"div",22)(8,"div",23)(9,"span",24),t.EFF(10),t.k0s(),t.j41(11,"span",25),t.EFF(12),t.k0s()(),t.nVh(13,W,6,6,"div",26),t.k0s(),t.j41(14,"button",27),t.bIt("click",function(n){const a=c.eBV(e).$implicit,r=t.XpG(2);return c.Njj(r.toggleFavorite(a,n))}),t.j41(15,"mat-icon"),t.EFF(16),t.k0s()()()()}if(2&i){const e=s.$implicit,o=t.XpG(2);t.AVh("ax-location-picker__tree-node--selected",o.isSelected(e))("ax-location-picker__tree-node--disabled",e.disabled||!o.isLocationAllowed(e)),t.R7$(3),t.SpI(" ",o.isExpanded(e)?"expand_more":"chevron_right"," "),t.R7$(2),t.HbH(o.getStatusColorClass(e.status)),t.R7$(),t.SpI(" ",o.getLocationIcon(e.type)," "),t.R7$(4),t.JRh(e.code),t.R7$(2),t.JRh(e.name),t.R7$(),t.vxM(o.showAvailability()&&void 0!==e.stockCount?13:-1),t.R7$(),t.AVh("ax-location-picker__favorite--active",o.isFavorite(e)),t.Y8G("matTooltip",o.isFavorite(e)?"Remove from favorites":"Add to favorites"),t.R7$(2),t.JRh(o.isFavorite(e)?"star":"star_border")}}function K(i,s){if(1&i&&(t.j41(0,"mat-tree",7),t.DNE(1,X,17,14,"mat-tree-node",16)(2,U,17,15,"mat-tree-node",17),t.k0s()),2&i){const e=t.XpG();t.Y8G("dataSource",e.dataSource)("treeControl",e.treeControl),t.R7$(2),t.Y8G("matTreeNodeDefWhen",e.hasChild)}}function H(i,s){1&i&&(t.j41(0,"div",8)(1,"mat-icon",32),t.EFF(2,"search_off"),t.k0s(),t.j41(3,"h3"),t.EFF(4,"No locations found"),t.k0s(),t.j41(5,"p"),t.EFF(6,"Try adjusting your search or filters"),t.k0s()())}function J(i,s){if(1&i&&(t.j41(0,"span",36),t.EFF(1),t.k0s()),2&i){const e=t.XpG(3);t.R7$(),t.JRh(e.sortedRecentLocations().length)}}function Y(i,s){if(1&i&&(t.j41(0,"mat-icon",35),t.EFF(1,"history"),t.k0s(),t.EFF(2," Recent "),t.nVh(3,J,2,1,"span",36)),2&i){const e=t.XpG(2);t.R7$(3),t.vxM(e.sortedRecentLocations().length>0?3:-1)}}function Z(i,s){if(1&i){const e=t.RV6();t.j41(0,"div",38),t.bIt("click",function(){const n=c.eBV(e).$implicit,a=t.XpG(3);return c.Njj(a.selectLocation(n.location))})("keyup.enter",function(){const n=c.eBV(e).$implicit,a=t.XpG(3);return c.Njj(a.selectLocation(n.location))})("keyup.space",function(){const n=c.eBV(e).$implicit,a=t.XpG(3);return c.Njj(a.selectLocation(n.location))}),t.j41(1,"mat-icon",39),t.EFF(2),t.k0s(),t.j41(3,"div",40)(4,"div",41)(5,"span",42),t.EFF(6),t.k0s(),t.j41(7,"span",43),t.EFF(8),t.k0s()(),t.j41(9,"div",44)(10,"span"),t.EFF(11),t.k0s(),t.j41(12,"span"),t.EFF(13),t.nI1(14,"date"),t.k0s()()(),t.j41(15,"button",45),t.bIt("click",function(n){const a=c.eBV(e).$implicit,r=t.XpG(3);return c.Njj(r.toggleFavorite(a.location,n))}),t.j41(16,"mat-icon"),t.EFF(17),t.k0s()()()}if(2&i){const e=s.$implicit,o=t.XpG(3);t.AVh("ax-location-picker__list-item--selected",o.isSelected(e.location)),t.R7$(2),t.SpI(" ",o.getLocationIcon(e.location.type)," "),t.R7$(4),t.JRh(e.location.code),t.R7$(2),t.JRh(e.location.name),t.R7$(3),t.SpI("Used ",e.accessCount," times"),t.R7$(2),t.SpI("Last: ",t.i5U(14,10,e.lastAccessed,"short")),t.R7$(2),t.AVh("ax-location-picker__favorite--active",o.isFavorite(e.location)),t.R7$(2),t.JRh(o.isFavorite(e.location)?"star":"star_border")}}function Q(i,s){if(1&i&&(t.j41(0,"div",34),t.Z7z(1,Z,18,13,"div",37,L),t.k0s()),2&i){const e=t.XpG(2);t.R7$(),t.Dyx(e.sortedRecentLocations())}}function q(i,s){1&i&&(t.j41(0,"div",8)(1,"mat-icon",32),t.EFF(2,"history"),t.k0s(),t.j41(3,"h3"),t.EFF(4,"No recent locations"),t.k0s(),t.j41(5,"p"),t.EFF(6,"Locations you select will appear here"),t.k0s()())}function tt(i,s){if(1&i&&(t.j41(0,"mat-tab"),t.DNE(1,Y,4,1,"ng-template",33),t.j41(2,"div",6),t.nVh(3,Q,3,0,"div",34)(4,q,7,0,"div",8),t.k0s()()),2&i){const e=t.XpG();t.R7$(3),t.vxM(e.sortedRecentLocations().length>0?3:4)}}function et(i,s){if(1&i&&(t.j41(0,"span",36),t.EFF(1),t.k0s()),2&i){const e=t.XpG(3);t.R7$(),t.JRh(e.sortedFavoriteLocations().length)}}function ot(i,s){if(1&i&&(t.j41(0,"mat-icon",35),t.EFF(1,"star"),t.k0s(),t.EFF(2," Favorites "),t.nVh(3,et,2,1,"span",36)),2&i){const e=t.XpG(2);t.R7$(3),t.vxM(e.sortedFavoriteLocations().length>0?3:-1)}}function nt(i,s){if(1&i&&(t.j41(0,"div",44)(1,"span"),t.EFF(2),t.k0s()()),2&i){const e=t.XpG().$implicit;t.R7$(2),t.JRh(e.label)}}function it(i,s){if(1&i){const e=t.RV6();t.j41(0,"div",38),t.bIt("click",function(){const n=c.eBV(e).$implicit,a=t.XpG(3);return c.Njj(a.selectLocation(n.location))})("keyup.enter",function(){const n=c.eBV(e).$implicit,a=t.XpG(3);return c.Njj(a.selectLocation(n.location))})("keyup.space",function(){const n=c.eBV(e).$implicit,a=t.XpG(3);return c.Njj(a.selectLocation(n.location))}),t.j41(1,"mat-icon",39),t.EFF(2),t.k0s(),t.j41(3,"div",40)(4,"div",41)(5,"span",42),t.EFF(6),t.k0s(),t.j41(7,"span",43),t.EFF(8),t.k0s()(),t.nVh(9,nt,3,1,"div",44),t.k0s(),t.j41(10,"button",46),t.bIt("click",function(n){const a=c.eBV(e).$implicit,r=t.XpG(3);return c.Njj(r.toggleFavorite(a.location,n))}),t.j41(11,"mat-icon"),t.EFF(12,"star"),t.k0s()()()}if(2&i){const e=s.$implicit,o=t.XpG(3);t.AVh("ax-location-picker__list-item--selected",o.isSelected(e.location)),t.R7$(2),t.SpI(" ",o.getLocationIcon(e.location.type)," "),t.R7$(4),t.JRh(e.location.code),t.R7$(2),t.JRh(e.location.name),t.R7$(),t.vxM(e.label?9:-1)}}function at(i,s){if(1&i&&(t.j41(0,"div",34),t.Z7z(1,it,13,6,"div",37,L),t.k0s()),2&i){const e=t.XpG(2);t.R7$(),t.Dyx(e.sortedFavoriteLocations())}}function ct(i,s){1&i&&(t.j41(0,"div",8)(1,"mat-icon",32),t.EFF(2,"star_border"),t.k0s(),t.j41(3,"h3"),t.EFF(4,"No favorite locations"),t.k0s(),t.j41(5,"p"),t.EFF(6,"Click the star icon to add favorites"),t.k0s()())}function rt(i,s){if(1&i&&(t.j41(0,"mat-tab"),t.DNE(1,ot,4,1,"ng-template",33),t.j41(2,"div",6),t.nVh(3,at,3,0,"div",34)(4,ct,7,0,"div",8),t.k0s()()),2&i){const e=t.XpG();t.R7$(3),t.vxM(e.sortedFavoriteLocations().length>0?3:4)}}let st=(()=>{class i{locations=p.hFB.required();currentLocation=(0,p.hFB)(void 0);showAvailability=(0,p.hFB)(d.Yg.showCapacity);allowedTypes=(0,p.hFB)(void 0);showRecent=(0,p.hFB)(d.Yg.showRecent);showFavorites=(0,p.hFB)(d.Yg.showFavorites);searchable=(0,p.hFB)(d.Yg.searchable);showBreadcrumbs=(0,p.hFB)(d.Yg.showBreadcrumbs);selectionMode=(0,p.hFB)(d.Yg.selectionMode);maxRecentLocations=(0,p.hFB)(d.Yg.maxRecentLocations);locationSelect=(0,p.CGW)();favoriteToggle=(0,p.CGW)();nodeExpand=(0,p.CGW)();searchTerm=(0,c.vPA)("");expandedNodeIds=(0,c.vPA)(new Set);selectedLocations=(0,c.vPA)([]);recentLocations=(0,c.vPA)([]);favoriteLocations=(0,c.vPA)([]);activeTab=(0,c.vPA)(0);filter=(0,c.vPA)({});treeControl=new R.XW(e=>e.level,e=>e.expandable);treeFlattener=new h.yj(this.transformer.bind(this),e=>e.level,e=>e.expandable,e=>e.children||[]);dataSource=new h.zw(this.treeControl,this.treeFlattener);filteredLocations=(0,m.EW)(()=>{const e=this.locations(),o=this.searchTerm().toLowerCase(),n=this.filter();return o||this.hasActiveFilter()?this.filterLocationTree(e,o,n):e});breadcrumbs=(0,m.EW)(()=>{const e=this.selectedLocations();if(0===e.length)return[];const n=this.getLocationPath(e[0]);return n.map((a,r)=>({id:a.id,code:a.code,name:a.name,type:a.type,isLast:r===n.length-1}))});hasSearchResults=(0,m.EW)(()=>this.filteredLocations().length>0);sortedRecentLocations=(0,m.EW)(()=>[...this.recentLocations()].sort((e,o)=>o.lastAccessed.getTime()-e.lastAccessed.getTime()));sortedFavoriteLocations=(0,m.EW)(()=>[...this.favoriteLocations()].sort((e,o)=>o.addedAt.getTime()-e.addedAt.getTime()));constructor(){(0,m.QZ)(()=>{const e=this.filteredLocations();this.dataSource.data=e}),(0,m.QZ)(()=>{const e=this.currentLocation();e&&this.expandToLocation(e)}),(0,m.QZ)(()=>{this.searchTerm()&&this.expandSearchResults()})}ngOnInit(){this.loadRecentLocations(),this.loadFavoriteLocations()}transformer(e,o){return{id:e.id,code:e.code,name:e.name,type:e.type,level:o,expandable:!!e.children&&e.children.length>0,expanded:this.expandedNodeIds().has(e.id),stockCount:e.stockCount,capacity:e.capacity,utilization:e.utilization,status:e.status,disabled:e.disabled}}hasChild=(e,o)=>o.expandable;isExpanded(e){return this.treeControl.isExpanded(e)}toggleNode(e){this.treeControl.toggle(e);const o=this.expandedNodeIds();this.treeControl.isExpanded(e)?o.add(e.id):o.delete(e.id),this.expandedNodeIds.set(new Set(o)),this.nodeExpand.emit({nodeId:e.id,isExpanded:this.treeControl.isExpanded(e),timestamp:new Date})}selectLocation(e){const o=this.allowedTypes();if(o&&o.length>0&&!o.includes(e.type)||e.disabled)return;if(this.selectionMode()===d.Qc.Single)this.selectedLocations.set([e]);else{const x=[...this.selectedLocations()],u=x.findIndex(v=>v.id===e.id);u>-1?x.splice(u,1):x.push(e),this.selectedLocations.set(x)}const a=this.getLocationPath(e),r={location:e,path:a,pathString:a.map(x=>x.code).join(" > ")};this.locationSelect.emit(r),this.addToRecent(e)}isSelected(e){return this.selectedLocations().some(o=>o.id===e.id)}isLocationAllowed(e){const o=this.allowedTypes();return!o||0===o.length||o.includes(e.type)}filterLocationTree(e,o,n){return e.reduce((a,r)=>{const x=!o||r.code.toLowerCase().includes(o)||r.name.toLowerCase().includes(o),u=!n.types||0===n.types.length||n.types.includes(r.type),v=!n.statuses||0===n.statuses.length||r.status&&n.statuses.includes(r.status),lt=void 0===n.minCapacity||void 0!==r.capacity&&r.capacity>=n.minCapacity,b=r.children?this.filterLocationTree(r.children,o,n):[];return(x&&u&&v&&lt||b.length>0)&&a.push({...r,children:b.length>0?b:r.children}),a},[])}hasActiveFilter(){const e=this.filter();return!!(e.types&&e.types.length>0||e.statuses&&e.statuses.length>0||void 0!==e.minCapacity)}expandSearchResults(){const e=this.searchTerm().toLowerCase();if(!e)return;const o=[];this.findMatchingNodes(this.locations(),e,o),o.forEach(n=>{this.expandToLocation(n)})}findMatchingNodes(e,o,n){e.forEach(a=>{(a.code.toLowerCase().includes(o)||a.name.toLowerCase().includes(o))&&n.push(a.id),a.children&&this.findMatchingNodes(a.children,o,n)})}clearSearch(){this.searchTerm.set("")}getLocationPath(e){const o=[e];let n=e;for(;n.parentId;){const a=this.findLocationById(n.parentId);if(!a)break;o.unshift(a),n=a}return o}findLocationById(e){const o=n=>{for(const a of n){if(a.id===e)return a;if(a.children){const r=o(a.children);if(r)return r}}return null};return o(this.locations())}expandToLocation(e){const o=this.findLocationById(e);if(!o)return;const n=this.getLocationPath(o),a=this.expandedNodeIds();n.forEach(r=>{a.add(r.id);const x=this.treeControl.dataNodes.find(u=>u.id===r.id);x&&!this.treeControl.isExpanded(x)&&this.treeControl.expand(x)}),this.expandedNodeIds.set(new Set(a))}navigateToBreadcrumb(e){const o=this.findLocationById(e.id);o&&this.selectLocation(o)}addToRecent(e){const o=[...this.recentLocations()],n=o.find(x=>x.location.id===e.id);n?(n.lastAccessed=new Date,n.accessCount++):o.push({location:e,lastAccessed:new Date,accessCount:1});const r=o.sort((x,u)=>u.lastAccessed.getTime()-x.lastAccessed.getTime()).slice(0,this.maxRecentLocations());this.recentLocations.set(r),this.saveRecentLocations()}toggleFavorite(e,o){o&&o.stopPropagation();const n=[...this.favoriteLocations()],a=n.findIndex(r=>r.location.id===e.id);a>-1?n.splice(a,1):n.push({location:e,addedAt:new Date}),this.favoriteLocations.set(n),this.saveFavoriteLocations(),this.favoriteToggle.emit({locationId:e.id,isFavorite:-1===a,timestamp:new Date})}isFavorite(e){return this.favoriteLocations().some(o=>o.location.id===e.id)}loadRecentLocations(){try{const e=localStorage.getItem("ax-location-picker-recent");if(e){const n=JSON.parse(e).map(a=>({...a,lastAccessed:new Date(a.lastAccessed)}));this.recentLocations.set(n)}}catch(e){console.error("Failed to load recent locations:",e)}}saveRecentLocations(){try{localStorage.setItem("ax-location-picker-recent",JSON.stringify(this.recentLocations()))}catch(e){console.error("Failed to save recent locations:",e)}}loadFavoriteLocations(){try{const e=localStorage.getItem("ax-location-picker-favorites");if(e){const n=JSON.parse(e).map(a=>({...a,addedAt:new Date(a.addedAt)}));this.favoriteLocations.set(n)}}catch(e){console.error("Failed to load favorite locations:",e)}}saveFavoriteLocations(){try{localStorage.setItem("ax-location-picker-favorites",JSON.stringify(this.favoriteLocations()))}catch(e){console.error("Failed to save favorite locations:",e)}}getLocationIcon(e){switch(e){case d.iF.Warehouse:return"warehouse";case d.iF.Zone:return"layers";case d.iF.Aisle:return"view_week";case d.iF.Shelf:return"shelves";case d.iF.Bin:return"inventory_2";default:return"place"}}getStatusColorClass(e){if(!e)return"";switch(e){case d.i.Active:return"text-success-700";case d.i.Inactive:return"text-neutral-500";case d.i.Maintenance:return"text-warning-700";case d.i.Full:return"text-error-700";default:return""}}getCapacityColorClass(e){return void 0===e?"":e>=90?"text-error-700":e>=70?"text-warning-700":"text-success-700"}formatCapacity(e,o){return void 0===e||void 0===o?"":`${e}/${o}`}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=t.VBU({type:i,selectors:[["ax-location-picker"]],inputs:{locations:[1,"locations"],currentLocation:[1,"currentLocation"],showAvailability:[1,"showAvailability"],allowedTypes:[1,"allowedTypes"],showRecent:[1,"showRecent"],showFavorites:[1,"showFavorites"],searchable:[1,"searchable"],showBreadcrumbs:[1,"showBreadcrumbs"],selectionMode:[1,"selectionMode"],maxRecentLocations:[1,"maxRecentLocations"]},outputs:{locationSelect:"locationSelect",favoriteToggle:"favoriteToggle",nodeExpand:"nodeExpand"},decls:11,vars:6,consts:[[1,"ax-location-picker"],[1,"ax-location-picker__header"],["appearance","outline",1,"ax-location-picker__search"],[1,"ax-location-picker__breadcrumbs"],[1,"ax-location-picker__tabs",3,"selectedIndexChange","selectedIndex"],["label","Locations"],[1,"ax-location-picker__content"],[1,"ax-location-picker__tree",3,"dataSource","treeControl"],[1,"ax-location-picker__empty"],["matInput","","placeholder","Search by code or name...","type","text",3,"ngModelChange","ngModel"],["matPrefix",""],["matSuffix","","mat-icon-button","","aria-label","Clear search"],["matSuffix","","mat-icon-button","","aria-label","Clear search",3,"click"],[1,"ax-location-picker__breadcrumbs-icon"],["mat-button","",1,"ax-location-picker__breadcrumb",3,"click"],[1,"ax-location-picker__breadcrumb-separator"],["matTreeNodeToggle","",3,"ax-location-picker__tree-node--selected","ax-location-picker__tree-node--disabled",4,"matTreeNodeDef"],[3,"ax-location-picker__tree-node--selected","ax-location-picker__tree-node--disabled",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle",""],["mat-icon-button","","disabled","","aria-label","Toggle node (disabled)",1,"ax-location-picker__tree-toggle"],["tabindex","0","role","button",1,"ax-location-picker__tree-content",3,"click","keyup.enter","keyup.space"],[1,"ax-location-picker__tree-icon"],[1,"ax-location-picker__tree-info"],[1,"ax-location-picker__tree-label"],[1,"ax-location-picker__tree-code"],[1,"ax-location-picker__tree-name"],[1,"ax-location-picker__tree-capacity"],["mat-icon-button","",1,"ax-location-picker__favorite",3,"click","matTooltip"],[1,"ax-location-picker__capacity-icon"],[1,"ax-location-picker__utilization",3,"class"],[1,"ax-location-picker__utilization"],["mat-icon-button","","matTreeNodeToggle","",1,"ax-location-picker__tree-toggle",3,"click"],[1,"ax-location-picker__empty-icon"],["mat-tab-label",""],[1,"ax-location-picker__list"],[1,"ax-location-picker__tab-icon"],[1,"ax-location-picker__tab-badge"],["tabindex","0","role","button",1,"ax-location-picker__list-item",3,"ax-location-picker__list-item--selected"],["tabindex","0","role","button",1,"ax-location-picker__list-item",3,"click","keyup.enter","keyup.space"],[1,"ax-location-picker__list-icon"],[1,"ax-location-picker__list-info"],[1,"ax-location-picker__list-label"],[1,"ax-location-picker__list-code"],[1,"ax-location-picker__list-name"],[1,"ax-location-picker__list-meta"],["mat-icon-button","",1,"ax-location-picker__favorite",3,"click"],["mat-icon-button","","matTooltip","Remove from favorites",1,"ax-location-picker__favorite","ax-location-picker__favorite--active",3,"click"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1),t.nVh(2,D,7,2,"mat-form-field",2),t.nVh(3,S,5,0,"div",3),t.k0s(),t.j41(4,"mat-tab-group",4),t.mxI("selectedIndexChange",function(r){return t.DH7(n.activeTab,r)||(n.activeTab=r),r}),t.j41(5,"mat-tab",5)(6,"div",6),t.nVh(7,K,3,3,"mat-tree",7)(8,H,7,0,"div",8),t.k0s()(),t.nVh(9,tt,5,1,"mat-tab"),t.nVh(10,rt,5,1,"mat-tab"),t.k0s()()),2&o&&(t.R7$(2),t.vxM(n.searchable()?2:-1),t.R7$(),t.vxM(n.showBreadcrumbs()&&n.breadcrumbs().length>0?3:-1),t.R7$(),t.R50("selectedIndex",n.activeTab),t.R7$(3),t.vxM(n.hasSearchResults()?7:8),t.R7$(2),t.vxM(n.showRecent()?9:-1),t.R7$(),t.vxM(n.showFavorites()?10:-1))},dependencies:[g.MD,_.YN,_.me,_.BC,_.vS,h.jH,h.yI,h.pO,h.lQ,h.d6,P.Hl,P.$z,w.iY,M.m_,M.An,E.R,k.rl,k.nJ,k.JW,k.yw,F.fS,F.fg,O.YN,T.u,j.oV,A.Y,f.RI,f.ES,f.mq,f.T8,g.vh],styles:['@charset "UTF-8";.ax-location-picker[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:600px;height:100%;background-color:var(--surface-color, #ffffff);border-radius:var(--border-radius, 8px);overflow:hidden}.ax-location-picker__header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:16px;border-bottom:1px solid var(--border-color, #e0e0e0);background-color:var(--surface-color, #ffffff)}.ax-location-picker__search[_ngcontent-%COMP%]{width:100%;margin:0}.ax-location-picker__breadcrumbs[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;flex-wrap:wrap;padding:8px 0}.ax-location-picker__breadcrumbs-icon[_ngcontent-%COMP%]{color:var(--text-secondary, #666);font-size:18px;width:18px;height:18px}.ax-location-picker__breadcrumb[_ngcontent-%COMP%]{font-size:13px;font-weight:500;padding:4px 8px;min-width:auto;line-height:20px}.ax-location-picker__breadcrumb--last[_ngcontent-%COMP%]{color:var(--primary-color, #1976d2);font-weight:600}.ax-location-picker__breadcrumb-separator[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:var(--text-subtle, #999)}.ax-location-picker__tabs[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.ax-location-picker__tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{flex:1;overflow:hidden}.ax-location-picker__tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-content{height:100%;overflow:auto}.ax-location-picker__tab-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:18px;width:18px;height:18px}.ax-location-picker__tab-badge[_ngcontent-%COMP%]{margin-left:8px;padding:2px 6px;background-color:var(--primary-color, #1976d2);color:#fff;border-radius:10px;font-size:11px;font-weight:600;min-width:20px;text-align:center}.ax-location-picker__content[_ngcontent-%COMP%]{flex:1;overflow:auto;padding:8px}.ax-location-picker__tree[_ngcontent-%COMP%]   .mat-tree[_ngcontent-%COMP%]{background:transparent}.ax-location-picker__tree[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]{min-height:48px;padding:0;background:transparent;border-bottom:1px solid var(--border-subtle, #f0f0f0)}.ax-location-picker__tree[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]:hover{background-color:var(--hover-background, #f5f5f5)}.ax-location-picker__tree[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]:last-child{border-bottom:none}.ax-location-picker__tree-node--selected[_ngcontent-%COMP%]{background-color:var(--selected-background, #e3f2fd)!important;border-left:3px solid var(--primary-color, #1976d2)}.ax-location-picker__tree-node--selected[_ngcontent-%COMP%]:hover{background-color:var(--selected-hover-background, #bbdefb)!important}.ax-location-picker__tree-node--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.ax-location-picker__tree-node--disabled[_ngcontent-%COMP%]   .ax-location-picker__tree-content[_ngcontent-%COMP%]{pointer-events:none}.ax-location-picker__tree-toggle[_ngcontent-%COMP%]{flex-shrink:0;width:40px;height:40px;padding:0;margin-right:4px}.ax-location-picker__tree-content[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:12px;padding:8px 12px 8px 8px;cursor:pointer;-webkit-user-select:none;user-select:none}.ax-location-picker__tree-icon[_ngcontent-%COMP%]{flex-shrink:0;font-size:20px;width:20px;height:20px;color:var(--icon-color, #666)}.ax-location-picker__tree-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px;min-width:0}.ax-location-picker__tree-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.ax-location-picker__tree-code[_ngcontent-%COMP%]{font-family:var(--mono-font, "Courier New", monospace);font-size:13px;font-weight:600;color:var(--text-primary, #333);padding:2px 6px;background-color:var(--code-background, #f5f5f5);border-radius:3px}.ax-location-picker__tree-name[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary, #666);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ax-location-picker__tree-capacity[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:12px}.ax-location-picker__capacity-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.ax-location-picker__utilization[_ngcontent-%COMP%]{font-weight:600}.ax-location-picker__favorite[_ngcontent-%COMP%]{flex-shrink:0;width:40px;height:40px}.ax-location-picker__favorite--active[_ngcontent-%COMP%]{color:var(--warning-color, #ff9800)}.ax-location-picker__list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.ax-location-picker__list-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background-color:var(--surface-color, #ffffff);border:1px solid var(--border-color, #e0e0e0);border-radius:6px;cursor:pointer;transition:all .2s ease}.ax-location-picker__list-item[_ngcontent-%COMP%]:hover{background-color:var(--hover-background, #f5f5f5);border-color:var(--border-hover, #bdbdbd);box-shadow:0 2px 4px #0000000d}.ax-location-picker__list-item--selected[_ngcontent-%COMP%]{background-color:var(--selected-background, #e3f2fd);border-color:var(--primary-color, #1976d2);border-width:2px}.ax-location-picker__list-item--selected[_ngcontent-%COMP%]:hover{background-color:var(--selected-hover-background, #bbdefb)}.ax-location-picker__list-icon[_ngcontent-%COMP%]{flex-shrink:0;font-size:24px;width:24px;height:24px;color:var(--icon-color, #666)}.ax-location-picker__list-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px;min-width:0}.ax-location-picker__list-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.ax-location-picker__list-code[_ngcontent-%COMP%]{font-family:var(--mono-font, "Courier New", monospace);font-size:13px;font-weight:600;color:var(--text-primary, #333);padding:2px 6px;background-color:var(--code-background, #f5f5f5);border-radius:3px}.ax-location-picker__list-name[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary, #666)}.ax-location-picker__list-meta[_ngcontent-%COMP%]{display:flex;gap:12px;font-size:12px;color:var(--text-subtle, #999)}.ax-location-picker__list-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:relative;padding-left:12px}.ax-location-picker__list-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]:before{content:"\\2022";position:absolute;left:0}.ax-location-picker__empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 24px;text-align:center;color:var(--text-subtle, #999)}.ax-location-picker__empty-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;margin-bottom:16px;color:var(--icon-subtle, #ccc)}.ax-location-picker__empty[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;font-weight:500;color:var(--text-secondary, #666)}.ax-location-picker__empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:var(--text-subtle, #999)}.text-success-700[_ngcontent-%COMP%]{color:var(--success-700, #2e7d32)}.text-warning-700[_ngcontent-%COMP%]{color:var(--warning-700, #f57c00)}.text-error-700[_ngcontent-%COMP%]{color:var(--error-700, #c62828)}.text-neutral-500[_ngcontent-%COMP%]{color:var(--neutral-500, #9e9e9e)}@media (max-width: 768px){.ax-location-picker[_ngcontent-%COMP%]{max-width:100%}.ax-location-picker__breadcrumb[_ngcontent-%COMP%]{font-size:12px;padding:4px 6px}.ax-location-picker__tree-code[_ngcontent-%COMP%], .ax-location-picker__list-code[_ngcontent-%COMP%]{font-size:11px;padding:2px 4px}.ax-location-picker__tree-name[_ngcontent-%COMP%], .ax-location-picker__list-name[_ngcontent-%COMP%]{font-size:13px}.ax-location-picker__list-item[_ngcontent-%COMP%]{padding:10px}}@media (prefers-color-scheme: dark){.ax-location-picker[_ngcontent-%COMP%]{--surface-color: #1e1e1e;--border-color: #404040;--border-subtle: #2a2a2a;--border-hover: #606060;--text-primary: #e0e0e0;--text-secondary: #b0b0b0;--text-subtle: #808080;--icon-color: #b0b0b0;--icon-subtle: #606060;--code-background: #2a2a2a;--hover-background: #2a2a2a;--selected-background: #1a3a52;--selected-hover-background: #244d66}}.ax-location-picker__tree-content[_ngcontent-%COMP%]:focus-visible, .ax-location-picker__list-item[_ngcontent-%COMP%]:focus-visible, .ax-location-picker__breadcrumb[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--primary-color, #1976d2);outline-offset:2px}.ax-location-picker[_ngcontent-%COMP%]   .sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}@media (prefers-contrast: high){.ax-location-picker__tree-node--selected[_ngcontent-%COMP%]{border-left-width:4px}.ax-location-picker__list-item--selected[_ngcontent-%COMP%]{border-width:3px}}']})}return i})()},84524:(y,C,l)=>{l.d(C,{Qc:()=>c,Yg:()=>m,i:()=>p,iF:()=>g});var g=function(_){return _.Warehouse="warehouse",_.Zone="zone",_.Aisle="aisle",_.Shelf="shelf",_.Bin="bin",_}(g||{}),p=function(_){return _.Active="active",_.Inactive="inactive",_.Maintenance="maintenance",_.Full="full",_}(p||{}),c=function(_){return _.Single="single",_.Multiple="multiple",_}(c||{});const m={searchable:!0,showBreadcrumbs:!0,showCapacity:!1,showRecent:!0,showFavorites:!0,maxRecentLocations:5,selectionMode:c.Single,autoExpand:!0,virtualScroll:!1}}}]);