/* ============================================================
   AegisX Dark Theme - Angular Material 20 (Material Design 3)
   Palette: Azure Blue (mat.$azure-palette)
   Standardized across light and dark themes for brand consistency
   ============================================================ */

@use '@angular/material' as mat;
@use './aegisx-tokens' as *;
@use './material-overrides' as *;
@use '../components/form-utilities' as *;

/* ============================================================
   Theme Configuration
   Using Material's built-in blue palette (closest to Tremor)
   ============================================================ */

// ===== Create Dark Theme (Material 3) =====
// Note: M3 only supports primary and tertiary in color config
// accent and warn buttons use Material's default color system
$aegisx-dark-theme: mat.define-theme(
  (
    color: (
      theme-type: dark,
      primary: mat.$azure-palette,
      // For color="primary" buttons (blue)
      tertiary: mat.$violet-palette,
      // For additional components (purple)
    ),
    typography: (
      plain-family:
        'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',
      brand-family:
        'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',
    ),
    density: (
      scale: -1,
    ),
  )
);

// ===== Apply Theme =====
:root {
  @include mat.all-component-themes($aegisx-dark-theme);

  // Enable backwards compatibility for Material 2 color variants (accent, warn)
  @include mat.color-variants-backwards-compatibility($aegisx-dark-theme);

  /* Fix: Filled buttons with color attributes using Material 3 mixins */
  .mat-mdc-raised-button.mat-primary {
    @include mat.button-color($aegisx-dark-theme, $color-variant: primary);
  }
  .mat-mdc-raised-button.mat-accent {
    @include mat.button-color($aegisx-dark-theme, $color-variant: tertiary);
  }
  .mat-mdc-raised-button.mat-warn {
    @include mat.button-color($aegisx-dark-theme, $color-variant: error);
  }

  /* Material Design 3 System Colors - Dark Mode */
  --md-sys-color-background: #111827;
  --md-sys-color-on-background: #f9fafb;
  --md-sys-color-surface: #1f2937;
  --md-sys-color-on-surface: #e5e7eb;
  --md-sys-color-surface-container-lowest: #111827;
  --md-sys-color-surface-container-low: #1c2536;
  --md-sys-color-surface-container: #1f2937;
  --md-sys-color-surface-container-high: #374151;
  --md-sys-color-surface-container-highest: #4b5563;
}

/* ============================================================
   AegisX Design Tokens (Custom Properties) - Dark Mode
   See _aegisx-tokens.scss for token definitions
   ============================================================ */

// Include AegisX dark theme tokens
@include aegisx-dark-theme;

/* ============================================================
   Dark Theme Specific Overrides
   (Add any dark-theme-only customizations here)
   ============================================================ */
