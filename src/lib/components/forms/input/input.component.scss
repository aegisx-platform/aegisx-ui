/**
 * AegisX UI - Input Component Styles
 *
 * Uses design tokens for consistent theming.
 * NEVER hardcode values - always reference CSS variables!
 */

// ============================================
// CONTAINER
// ============================================

.ax-input-container {
  display: flex;
  flex-direction: column;
  gap: var(--ax-spacing-xs);
  width: 100%;
}

// ============================================
// LABEL
// ============================================

.ax-input-label {
  font-family: var(--ax-font-sans);
  font-size: var(--ax-text-sm);
  font-weight: var(--ax-font-weight-medium);
  color: var(--ax-text-primary);
  line-height: var(--ax-leading-normal);
}

.ax-input-required {
  color: var(--ax-error);
  margin-left: var(--ax-spacing-xs);
}

// ============================================
// INPUT WRAPPER
// ============================================

.ax-input-wrapper {
  display: flex;
  align-items: center;
  gap: var(--ax-spacing-xs);
  position: relative;

  // Base styles
  background-color: var(--ax-input-bg, var(--ax-bg));
  border: 1px solid var(--ax-input-border, var(--ax-border));
  border-radius: var(--ax-radius-md);
  transition: all var(--ax-duration-fast) var(--ax-easing-easeInOut);

  // Default padding
  padding: 0 var(--ax-spacing-md);

  &:hover:not(.ax-input-disabled):not(.ax-input-readonly) {
    border-color: var(--ax-border-emphasis);
  }

  // Focus state
  &.ax-input-focused {
    border-color: var(--ax-primary);
    outline: 2px solid var(--ax-primary-faint);
    outline-offset: 0;
  }

  // Disabled state
  &.ax-input-disabled {
    background-color: var(--ax-background-muted);
    border-color: var(--ax-border-muted);
    cursor: not-allowed;
    opacity: 0.6;

    .ax-input-field {
      cursor: not-allowed;
    }
  }

  // Readonly state - Enhanced for display-oriented appearance
  &.ax-input-readonly {
    background-color: transparent;
    border-color: transparent;
    padding-left: 0;
    padding-right: 0;

    .ax-input-field {
      cursor: default;
      color: var(--ax-text-primary);
      font-weight: var(--ax-font-weight-medium);
    }

    // Remove any interactive visual feedback
    &:hover {
      border-color: transparent;
      background-color: transparent;
    }

    // No focus styles in readonly mode
    &.ax-input-focused {
      border-color: transparent;
      outline: none;
    }

    // Prefix/suffix in readonly mode
    .ax-input-prefix,
    .ax-input-suffix {
      color: var(--ax-text-secondary);
    }
  }
}

// ============================================
// SIZES
// ============================================

.ax-input-sm {
  height: 32px;
  min-height: 32px;

  .ax-input-field {
    font-size: var(--ax-text-sm);
  }
}

.ax-input-md {
  height: 40px;
  min-height: 40px;

  .ax-input-field {
    font-size: var(--ax-text-base);
  }
}

.ax-input-lg {
  height: 48px;
  min-height: 48px;

  .ax-input-field {
    font-size: var(--ax-text-lg);
  }
}

// ============================================
// VALIDATION STATES
// ============================================

.ax-input-state-default {
  // Default state (already styled above)
}

.ax-input-state-success {
  border-color: var(--ax-success);

  &.ax-input-focused {
    border-color: var(--ax-success-emphasis);
    outline-color: var(--ax-success-faint);
  }
}

.ax-input-state-warning {
  border-color: var(--ax-warning);

  &.ax-input-focused {
    border-color: var(--ax-warning-emphasis);
    outline-color: var(--ax-warning-faint);
  }
}

.ax-input-state-error {
  border-color: var(--ax-error);

  &.ax-input-focused {
    border-color: var(--ax-error-emphasis);
    outline-color: var(--ax-error-faint);
  }
}

// ============================================
// INPUT FIELD
// ============================================

.ax-input-field {
  flex: 1;
  width: 100%;
  border: none;
  outline: none;
  background: transparent;
  font-family: var(--ax-font-sans);
  color: var(--ax-text-primary);
  line-height: var(--ax-leading-normal);

  &::placeholder {
    color: var(--ax-text-subtle);
  }

  &:disabled {
    color: var(--ax-text-disabled);
  }

  // Remove default browser styles
  &::-webkit-search-decoration,
  &::-webkit-search-cancel-button {
    appearance: none;
  }

  // Number input arrows
  &[type='number'] {
    appearance: textfield;

    &::-webkit-inner-spin-button,
    &::-webkit-outer-spin-button {
      appearance: none;
      margin: 0;
    }
  }
}

// ============================================
// PREFIX & SUFFIX
// ============================================

.ax-input-prefix,
.ax-input-suffix {
  display: flex;
  align-items: center;
  gap: var(--ax-spacing-xs);
  color: var(--ax-text-secondary);
  font-size: var(--ax-text-sm);
  flex-shrink: 0;
}

.ax-input-prefix {
  margin-right: var(--ax-spacing-xs);
}

.ax-input-suffix {
  margin-left: var(--ax-spacing-xs);
}

// ============================================
// CLEAR BUTTON
// ============================================

.ax-input-clear {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  padding: 0;
  border: none;
  background: transparent;
  color: var(--ax-text-subtle);
  cursor: pointer;
  border-radius: var(--ax-radius-sm);
  transition: all var(--ax-duration-fast) var(--ax-easing-easeInOut);
  flex-shrink: 0;

  &:hover {
    color: var(--ax-text-primary);
    background-color: var(--ax-hover-bg);
  }

  &:active {
    background-color: var(--ax-active-bg);
  }

  svg {
    width: 14px;
    height: 14px;
  }
}

// ============================================
// MESSAGE (Helper Text / Error)
// ============================================

.ax-input-message {
  font-size: var(--ax-text-sm);
  line-height: var(--ax-leading-normal);
  color: var(--ax-text-secondary);

  .ax-input-state-success + & {
    color: var(--ax-success);
  }

  .ax-input-state-warning + & {
    color: var(--ax-warning);
  }

  .ax-input-state-error + & {
    color: var(--ax-error);
  }
}

// ============================================
// FULL WIDTH
// ============================================

.ax-input-full-width {
  width: 100%;

  .ax-input-wrapper {
    width: 100%;
  }
}

// ============================================
// ICON SUPPORT
// ============================================

.ax-input-prefix,
.ax-input-suffix {
  // Support for Material Icons or custom SVG icons
  ::ng-deep mat-icon,
  ::ng-deep svg {
    width: 20px;
    height: 20px;
    color: currentColor;
  }
}
