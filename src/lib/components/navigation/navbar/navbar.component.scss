// =============================================================================
// AX NAVBAR COMPONENT
// Enterprise-grade navigation bar inspired by PrimeBlocks
// =============================================================================

// CSS Custom Properties (Component-level)
:host {
  --ax-navbar-height: 56px;
  --ax-navbar-height-sm: 48px;
  --ax-navbar-height-lg: 64px;
  --ax-navbar-bg: var(--ax-background-default);
  --ax-navbar-bg-solid: var(--ax-primary);
  --ax-navbar-border-color: var(--ax-border);
  --ax-navbar-text-color: var(--ax-text-primary);
  --ax-navbar-text-muted: var(--ax-text-secondary);
  --ax-navbar-shadow-sm: var(--ax-shadow-sm);
  --ax-navbar-shadow-md: var(--ax-shadow-md);
  --ax-navbar-blur: blur(12px);
  --ax-navbar-transition: all var(--ax-duration-normal, 200ms)
    var(--ax-easing-standard, ease);
  --ax-navbar-z-index: 1000;
  --ax-navbar-mobile-z-index: 1050;

  display: block;
  position: relative;
}

// =============================================================================
// MAIN NAVBAR
// =============================================================================

.ax-navbar {
  display: flex;
  flex-direction: column;
  width: 100%;
  background-color: var(--ax-navbar-bg);
  color: var(--ax-navbar-text-color);
  transition: var(--ax-navbar-transition);

  // Position variants
  &--fixed {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: var(--ax-navbar-z-index);
  }

  &--sticky {
    position: sticky;
    top: 0;
    z-index: var(--ax-navbar-z-index);
  }

  // Visual variants
  &--transparent {
    background-color: transparent;
    --ax-navbar-border-color: transparent;
  }

  &--solid {
    background-color: var(--ax-navbar-bg-solid);
    --ax-navbar-text-color: var(--ax-primary-inverted);
    --ax-navbar-text-muted: rgba(255, 255, 255, 0.8);
    --ax-navbar-border-color: transparent;
    --ax-navbar-hover-bg: rgba(255, 255, 255, 0.15);
    --ax-navbar-active-bg: rgba(255, 255, 255, 0.25);
    --ax-navbar-active-color: var(--ax-primary-inverted);
  }

  &--bordered {
    border-bottom: 1px solid var(--ax-navbar-border-color);
  }

  // Height variants
  &--sm {
    --ax-navbar-height: var(--ax-navbar-height-sm);
  }

  &--lg {
    --ax-navbar-height: var(--ax-navbar-height-lg);
  }

  // Theme variants
  &--dark {
    --ax-navbar-bg: var(--ax-background-elevated);
    --ax-navbar-text-color: var(--ax-text-primary);
  }

  // Effects
  &--blur {
    background-color: rgba(255, 255, 255, 0.8);
    backdrop-filter: var(--ax-navbar-blur);
    -webkit-backdrop-filter: var(--ax-navbar-blur);

    @media (prefers-color-scheme: dark) {
      background-color: rgba(30, 30, 30, 0.8);
    }
  }

  &--shadow-sm {
    box-shadow: var(--ax-navbar-shadow-sm);
  }

  &--shadow-md {
    box-shadow: var(--ax-navbar-shadow-md);
  }

  // Hide on scroll
  &--hidden {
    transform: translateY(-100%);
  }
}

// =============================================================================
// CONTAINER (3-Zone Layout)
// =============================================================================

.ax-navbar__container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: var(--ax-navbar-height);
  padding: 0 var(--ax-spacing-lg, 1rem);
  max-width: var(--ax-container-max-width, 1400px);
  margin: 0 auto;
  width: 100%;
  gap: var(--ax-spacing-md, 0.75rem);
}

// =============================================================================
// ZONES
// =============================================================================

.ax-navbar__start {
  display: flex;
  align-items: center;
  gap: var(--ax-spacing-md, 0.75rem);
  flex-shrink: 0;
}

.ax-navbar__center {
  display: flex;
  align-items: center;
  justify-content: center;
  flex: 1;
  gap: var(--ax-spacing-sm, 0.5rem);

  // Hide on mobile
  @media (max-width: 1023px) {
    display: none;
  }
}

.ax-navbar__end {
  display: flex;
  align-items: center;
  gap: var(--ax-spacing-sm, 0.5rem);
  flex-shrink: 0;
}

// =============================================================================
// MOBILE TOGGLE (Hamburger)
// =============================================================================

.ax-navbar__mobile-toggle {
  display: none;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  padding: 0;
  border: none;
  background: transparent;
  cursor: pointer;
  border-radius: var(--ax-radius-md, 0.5rem);
  transition: background-color var(--ax-duration-fast, 150ms);

  @media (max-width: 1023px) {
    display: flex;
  }

  &:hover {
    background-color: var(--ax-background-subtle);
  }

  &:focus-visible {
    outline: 2px solid var(--ax-primary);
    outline-offset: 2px;
  }
}

.ax-navbar__hamburger {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 20px;
  height: 20px;
  gap: 4px;

  span {
    display: block;
    width: 100%;
    height: 2px;
    background-color: var(--ax-navbar-text-color);
    border-radius: 1px;
    transition: all var(--ax-duration-fast, 150ms) ease;
  }

  &--open {
    span:nth-child(1) {
      transform: translateY(6px) rotate(45deg);
    }

    span:nth-child(2) {
      opacity: 0;
      transform: scaleX(0);
    }

    span:nth-child(3) {
      transform: translateY(-6px) rotate(-45deg);
    }
  }
}

// =============================================================================
// MOBILE MENU
// =============================================================================

.ax-navbar__mobile-menu {
  position: fixed;
  top: var(--ax-navbar-height);
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--ax-navbar-bg);
  z-index: var(--ax-navbar-mobile-z-index);
  transform: translateX(100%);
  transition: transform var(--ax-duration-normal, 200ms)
    var(--ax-easing-standard, ease);
  overflow-y: auto;

  &--open {
    transform: translateX(0);
  }
}

.ax-navbar__mobile-menu-content {
  display: flex;
  flex-direction: column;
  padding: var(--ax-spacing-lg, 1rem);
  gap: var(--ax-spacing-sm, 0.5rem);
}

// =============================================================================
// OVERLAY
// =============================================================================

.ax-navbar__overlay {
  position: fixed;
  inset: 0;
  top: var(--ax-navbar-height);
  background-color: rgba(0, 0, 0, 0.5);
  z-index: calc(var(--ax-navbar-mobile-z-index) - 1);
  opacity: 0;
  visibility: hidden;
  transition: all var(--ax-duration-normal, 200ms);

  &--visible {
    opacity: 1;
    visibility: visible;
  }
}

// =============================================================================
// RESPONSIVE UTILITIES
// =============================================================================

@media (min-width: 1024px) {
  .ax-navbar__mobile-toggle,
  .ax-navbar__mobile-menu,
  .ax-navbar__overlay {
    display: none !important;
  }
}

// =============================================================================
// ANIMATION
// =============================================================================

@keyframes navbar-slide-down {
  from {
    transform: translateY(-100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.ax-navbar--fixed,
.ax-navbar--sticky {
  animation: navbar-slide-down var(--ax-duration-normal, 200ms) ease-out;
}

// =============================================================================
// COLOR VARIANTS (Clarity Design inspired)
// =============================================================================

// Shared mixin for solid color variants
@mixin navbar-solid-color($bg-color) {
  background-color: $bg-color;
  --ax-navbar-text-color: #ffffff;
  --ax-navbar-text-muted: rgba(255, 255, 255, 0.85);
  --ax-navbar-border-color: transparent;
  --ax-navbar-hover-bg: rgba(255, 255, 255, 0.15);
  --ax-navbar-active-bg: rgba(255, 255, 255, 0.25);
  --ax-navbar-active-color: #ffffff;
}

// =============================================================================
// COLOR VARIANTS - Semantic Color Palette
// Professional colors with semantic meaning for different use cases
// =============================================================================

// Primary color (uses theme brand color)
.ax-navbar--color-primary {
  @include navbar-solid-color(var(--ax-primary, #6366f1));
}

// Charcoal - Ultra dark, premium feel (Zinc 900)
.ax-navbar--color-charcoal {
  @include navbar-solid-color(#18181b);
}

// Slate Palette - Professional, neutral tones
.ax-navbar--color-slate {
  @include navbar-solid-color(#334155); // Slate 700 - Modern neutral
}

.ax-navbar--color-slate-dark {
  @include navbar-solid-color(#1e293b); // Slate 800 - Corporate dark
}

// Ocean Palette - Trust, reliability, corporate (Blue tones)
.ax-navbar--color-ocean {
  @include navbar-solid-color(#0369a1); // Sky 700 - Trust blue
}

.ax-navbar--color-ocean-dark {
  @include navbar-solid-color(#0c4a6e); // Sky 900 - Deep corporate blue
}

// Royal Palette - Creative, premium, modern (Purple tones)
.ax-navbar--color-royal {
  @include navbar-solid-color(#7c3aed); // Violet 600 - Creative purple
}

.ax-navbar--color-royal-dark {
  @include navbar-solid-color(#5b21b6); // Violet 800 - Premium dark purple
}

// Forest - Growth, success, eco-friendly (Green tones)
.ax-navbar--color-forest {
  @include navbar-solid-color(#15803d); // Green 700 - Success green
}

// Amber - Energy, attention, warmth (Orange tones)
.ax-navbar--color-amber {
  @include navbar-solid-color(#b45309); // Amber 700 - Warm attention
}
