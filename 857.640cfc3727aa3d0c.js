"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[857],{857:(S,f,a)=>{a.r(f),a.d(f,{ResetPasswordComponent:()=>A});var i=a(3692),p=a(1800),x=a(9230),C=a(1105),t=a(5168),c=a(3099),m=a(8957),_=a(3155),g=a(6586),h=a(8555),w=a(4180),b=a(5930),l=a(1009),F=a(1945);function k(e,d){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Password is required"),t.k0s())}function v(e,d){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Password must be at least 8 characters"),t.k0s())}function R(e,d){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Please confirm your password"),t.k0s())}function M(e,d){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Passwords do not match"),t.k0s())}function y(e,d){1&e&&(t.nrm(0,"mat-spinner",14),t.j41(1,"span"),t.EFF(2,"Resetting..."),t.k0s())}function j(e,d){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.k0s(),t.j41(2,"mat-icon"),t.EFF(3,"check"),t.k0s()),2&e){const o=t.XpG(2);t.R7$(),t.JRh(o.config.submitButtonText)}}function T(e,d){if(1&e){const o=t.RV6();t.j41(0,"mat-card-header",2)(1,"div",3)(2,"mat-icon"),t.EFF(3,"lock"),t.k0s()(),t.j41(4,"mat-card-title",4),t.EFF(5),t.k0s(),t.j41(6,"mat-card-subtitle",5),t.EFF(7),t.k0s()(),t.j41(8,"mat-card-content",6)(9,"form",7),t.bIt("ngSubmit",function(){i.eBV(o);const s=t.XpG();return i.Njj(s.onSubmit())}),t.j41(10,"mat-form-field",8)(11,"mat-label"),t.EFF(12,"New password"),t.k0s(),t.j41(13,"mat-icon",9),t.EFF(14,"lock"),t.k0s(),t.nrm(15,"input",10),t.j41(16,"button",11),t.bIt("click",function(){i.eBV(o);const s=t.XpG();return i.Njj(s.togglePasswordVisibility())}),t.j41(17,"mat-icon"),t.EFF(18),t.k0s()(),t.nVh(19,k,2,0,"mat-error"),t.nVh(20,v,2,0,"mat-error"),t.j41(21,"mat-hint"),t.EFF(22,"At least 8 characters"),t.k0s()(),t.j41(23,"mat-form-field",8)(24,"mat-label"),t.EFF(25,"Confirm new password"),t.k0s(),t.j41(26,"mat-icon",9),t.EFF(27,"lock_outline"),t.k0s(),t.nrm(28,"input",12),t.j41(29,"button",11),t.bIt("click",function(){i.eBV(o);const s=t.XpG();return i.Njj(s.toggleConfirmPasswordVisibility())}),t.j41(30,"mat-icon"),t.EFF(31),t.k0s()(),t.nVh(32,R,2,0,"mat-error"),t.nVh(33,M,2,0,"mat-error"),t.k0s(),t.j41(34,"button",13),t.nVh(35,y,3,0)(36,j,4,1),t.k0s()()()}if(2&e){let o,n,s,u;const r=t.XpG();t.R7$(5),t.JRh(r.config.title),t.R7$(2),t.SpI(" ",r.config.subtitle," "),t.R7$(2),t.Y8G("formGroup",r.resetPasswordForm),t.R7$(6),t.Y8G("type",r.hidePassword()?"password":"text"),t.R7$(3),t.JRh(r.hidePassword()?"visibility_off":"visibility"),t.R7$(),t.vxM(null!=(o=r.resetPasswordForm.get("password"))&&o.hasError("required")&&null!=(o=r.resetPasswordForm.get("password"))&&o.touched?19:-1),t.R7$(),t.vxM(null!=(n=r.resetPasswordForm.get("password"))&&n.hasError("minlength")&&null!=(n=r.resetPasswordForm.get("password"))&&n.touched?20:-1),t.R7$(8),t.Y8G("type",r.hideConfirmPassword()?"password":"text"),t.R7$(3),t.JRh(r.hideConfirmPassword()?"visibility_off":"visibility"),t.R7$(),t.vxM(null!=(s=r.resetPasswordForm.get("confirmPassword"))&&s.hasError("required")&&null!=(s=r.resetPasswordForm.get("confirmPassword"))&&s.touched?32:-1),t.R7$(),t.vxM(null!=(u=r.resetPasswordForm.get("confirmPassword"))&&u.hasError("passwordMismatch")&&null!=(u=r.resetPasswordForm.get("confirmPassword"))&&u.touched?33:-1),t.R7$(),t.Y8G("disabled",r.loading),t.R7$(),t.vxM(r.loading?35:36)}}function E(e,d){if(1&e){const o=t.RV6();t.j41(0,"mat-card-header",15)(1,"div",16)(2,"mat-icon"),t.EFF(3,"check_circle"),t.k0s()(),t.j41(4,"mat-card-title",4),t.EFF(5),t.k0s(),t.j41(6,"mat-card-subtitle",17),t.EFF(7),t.k0s()(),t.j41(8,"mat-card-content",6)(9,"button",18),t.bIt("click",function(){i.eBV(o);const s=t.XpG();return i.Njj(s.onBackToLoginClick())}),t.j41(10,"span"),t.EFF(11),t.k0s(),t.j41(12,"mat-icon"),t.EFF(13,"login"),t.k0s()()()}if(2&e){const o=t.XpG();t.R7$(5),t.JRh(o.config.successTitle),t.R7$(2),t.SpI(" ",o.config.successMessage," "),t.R7$(4),t.JRh(o.config.successButtonText)}}function O(e,d){if(1&e){const o=t.RV6();t.j41(0,"mat-card-footer",1)(1,"button",19),t.bIt("click",function(){i.eBV(o);const s=t.XpG();return i.Njj(s.onBackToLoginClick())}),t.j41(2,"mat-icon"),t.EFF(3,"arrow_back"),t.k0s(),t.j41(4,"span"),t.EFF(5),t.k0s()()()}if(2&e){const o=t.XpG();t.R7$(5),t.JRh(o.config.backToLoginText)}}let L=(()=>{class e{set config(o){this._config={...this.defaultConfig,...o}}get config(){return this._config}loading=!1;success=!1;formSubmit=new t.bkB;backToLogin=new t.bkB;resetPasswordForm;hidePassword=(0,i.vPA)(!0);hideConfirmPassword=(0,i.vPA)(!0);defaultConfig={title:"Set new password",subtitle:"Your new password must be different from previously used passwords.",submitButtonText:"Reset Password",backToLoginText:"Back to login",successTitle:"Password reset!",successMessage:"Your password has been successfully reset.",successButtonText:"Continue to login"};_config=this.defaultConfig;fb=(0,i.WQX)(c.ok);constructor(){this.resetPasswordForm=this.fb.group({password:["",[c.k0.required,c.k0.minLength(8)]],confirmPassword:["",[c.k0.required]]},{validators:this.passwordMatchValidator})}togglePasswordVisibility(){this.hidePassword.set(!this.hidePassword())}toggleConfirmPasswordVisibility(){this.hideConfirmPassword.set(!this.hideConfirmPassword())}onSubmit(){this.resetPasswordForm.valid?this.formSubmit.emit(this.resetPasswordForm.value):Object.keys(this.resetPasswordForm.controls).forEach(o=>{this.resetPasswordForm.get(o)?.markAsTouched()})}onBackToLoginClick(){this.backToLogin.emit()}passwordMatchValidator(o){const n=o.get("password"),s=o.get("confirmPassword");return n&&s&&n.value!==s.value?(s.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):null}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=t.VBU({type:e,selectors:[["ax-reset-password-form"]],inputs:{config:"config",loading:"loading",success:"success"},outputs:{formSubmit:"formSubmit",backToLogin:"backToLogin"},decls:4,vars:2,consts:[["appearance","outlined",1,"reset-password-card"],[1,"card-footer"],[1,"card-header"],[1,"header-icon"],[1,"card-title"],[1,"card-subtitle"],[1,"card-content"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matPrefix",""],["matInput","","formControlName","password","placeholder","Enter new password","autocomplete","new-password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["matInput","","formControlName","confirmPassword","placeholder","Confirm new password","autocomplete","new-password",3,"type"],["mat-raised-button","","color","primary","type","submit",1,"submit-button","full-width",3,"disabled"],["diameter","20",1,"button-spinner"],[1,"card-header","success-header"],[1,"header-icon","success-icon"],[1,"card-subtitle","success-message"],["mat-raised-button","","color","primary","type","button",1,"submit-button","full-width",3,"click"],["mat-button","","type","button",1,"back-button",3,"click"]],template:function(n,s){1&n&&(t.j41(0,"mat-card",0),t.nVh(1,T,37,13)(2,E,14,3),t.nVh(3,O,6,1,"mat-card-footer",1),t.k0s()),2&n&&(t.R7$(),t.vxM(s.success?2:1),t.R7$(2),t.vxM(s.success?-1:3))},dependencies:[p.MD,c.X1,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,m.Hu,m.RN,m.m2,m.WQ,m.MM,m.Lc,m.dh,_.R,l.rl,l.nJ,l.MV,l.TL,l.JW,l.yw,g.fS,g.fg,h.Hl,h.$z,F.iY,w.m_,w.An,b.D6,b.LG],styles:[".reset-password-card[_ngcontent-%COMP%]{width:100%;max-width:440px;box-shadow:var(--ax-shadow-sm)!important;animation:_ngcontent-%COMP%_fadeIn .4s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.card-header[_ngcontent-%COMP%]{padding:2rem 2rem 0!important;margin-bottom:0!important;display:flex;flex-direction:column;align-items:center;text-align:center}.header-icon[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%;background:linear-gradient(135deg,var(--ax-brand-default, #4f46e5) 0%,var(--ax-brand-emphasis, #6366f1) 100%);display:flex;align-items:center;justify-content:center;margin-bottom:1.5rem}.header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:#fff}.success-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--ax-success-default, #10b981) 0%,var(--ax-success-emphasis, #059669) 100%)}.card-title[_ngcontent-%COMP%]{font-size:1.5rem!important;font-weight:600!important;color:var(--ax-text-strong)!important;margin-bottom:.5rem!important}.card-subtitle[_ngcontent-%COMP%]{font-size:.875rem!important;color:var(--ax-text-subtle)!important;max-width:320px;line-height:1.5}.success-message[_ngcontent-%COMP%]{color:var(--ax-success-default)!important}.card-content[_ngcontent-%COMP%]{padding:2rem!important}@media (max-width: 960px){.card-content[_ngcontent-%COMP%]{padding:1.5rem!important}}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.full-width[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]   mat-icon[matPrefix][_ngcontent-%COMP%]{margin-right:.75rem;color:var(--ax-text-subtle)}.submit-button[_ngcontent-%COMP%]{height:48px!important;font-size:1rem!important;font-weight:500!important;margin-top:.5rem;display:flex;align-items:center;justify-content:center;gap:.5rem}.submit-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.button-spinner[_ngcontent-%COMP%]{margin-right:.5rem}.button-spinner[_ngcontent-%COMP%]     circle{stroke:currentColor!important}.card-footer[_ngcontent-%COMP%]{padding:1.5rem 2rem!important;border-top:1px solid var(--ax-border-default);display:flex;justify-content:center}.back-button[_ngcontent-%COMP%]{color:var(--ax-text-body)}.back-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;margin-right:.5rem}"]})}return e})();var P=a(4590);let A=(()=>{class e{router;route;isLoading=(0,i.vPA)(!1);isSuccess=(0,i.vPA)(!1);token=null;features=["Choose a strong, unique password","At least 8 characters recommended","Mix letters, numbers, and symbols"];resetPasswordConfig={passwordLabel:"New Password",confirmPasswordLabel:"Confirm Password",submitButtonText:"Reset Password",showPasswordStrength:!0,passwordMinLength:8,successMessage:"Password reset successfully! You can now log in."};constructor(o,n){this.router=o,this.route=n,this.route.queryParams.subscribe(s=>{this.token=s.token||null})}onSubmit(o){this.token?(this.isLoading.set(!0),this.isSuccess.set(!1),setTimeout(()=>{this.isLoading.set(!1),this.isSuccess.set(!0),setTimeout(()=>{this.router.navigate(["/examples/auth/login"])},2e3)},1500)):console.warn("Invalid or expired reset link")}onBackToLogin(){this.router.navigate(["/examples/auth/login"])}static \u0275fac=function(n){return new(n||e)(t.rXU(P.Ix),t.rXU(P.nX))};static \u0275cmp=t.VBU({type:e,selectors:[["app-reset-password"]],decls:3,vars:7,consts:[[3,"brandName","tagline","brandIcon","features"],[1,"auth-form-container"],[3,"formSubmit","backToLogin","config","loading","success"]],template:function(n,s){1&n&&(t.j41(0,"ax-auth-layout",0)(1,"div",1)(2,"ax-reset-password-form",2),t.bIt("formSubmit",function(r){return s.onSubmit(r)})("backToLogin",function(){return s.onBackToLogin()}),t.k0s()()()),2&n&&(t.Y8G("brandName","AegisX Platform")("tagline","Create new password")("brandIcon","lock")("features",s.features),t.R7$(2),t.Y8G("config",s.resetPasswordConfig)("loading",s.isLoading())("success",s.isSuccess()))},dependencies:[p.MD,x.iI,C.X,L],styles:["[_nghost-%COMP%]{display:block;min-height:100vh}.auth-form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}"]})}return e})()}}]);