<div class="logo-upload-section">
  <div class="upload-area">
    <input
      type="file"
      #fileInput
      accept="image/*"
      (change)="onLogoFileSelected($event)"
      class="file-input"
      aria-label="Upload logo file"
    />
    <button
      mat-flat-button
      color="accent"
      type="button"
      (click)="fileInput.click()"
      [disabled]="uploadingLogo()"
    >
      <mat-icon>cloud_upload</mat-icon>
      {{ uploadedLogo() ? 'Change Logo' : 'Upload Logo' }}
    </button>
    @if (uploadingLogo()) {
      <mat-spinner diameter="24" class="upload-spinner"></mat-spinner>
    }
  </div>

  @if (logoPreviewUrl()) {
    <div class="logo-preview-container">
      <div class="logo-preview">
        <img [src]="logoPreviewUrl()" alt="Logo preview" />
        <button
          mat-icon-button
          color="warn"
          type="button"
          (click)="removeLogo()"
          class="remove-logo-btn"
          matTooltip="Remove logo"
        >
          <mat-icon>close</mat-icon>
        </button>
      </div>
      @if (uploadedLogo()) {
        <div class="logo-info">
          <p><strong>File:</strong> {{ uploadedLogo()?.originalName }}</p>
          <p>
            <strong>Size:</strong>
            {{ formatFileSize(uploadedLogo()?.fileSize || 0) }}
          </p>
          <p><strong>Type:</strong> {{ uploadedLogo()?.mimeType }}</p>
        </div>
      }
    </div>
  }

  @if (logoError()) {
    <mat-error class="logo-error">{{ logoError() }}</mat-error>
  }

  <mat-hint class="logo-hint">
    {{ helperText }}
  </mat-hint>
</div>
