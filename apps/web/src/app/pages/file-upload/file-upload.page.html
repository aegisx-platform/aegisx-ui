<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <!-- Page Header -->
  <div class="mb-8">
    <h1 class="text-3xl font-bold">File Upload & Management</h1>
    <p class="mt-2 text-sm text-muted">
      Core file management system with context-aware uploads
    </p>
  </div>

  <!-- Material Tabs -->
  <mat-tab-group [(selectedIndex)]="selectedTabIndex" class="mb-6">
    <mat-tab>
      <ng-template mat-tab-label>
        <mat-icon class="mr-2">cloud_upload</mat-icon>
        Upload Files
      </ng-template>

      <div class="tremor-card mt-6">
        <!-- Header -->
        <div class="flex items-center justify-between px-6 py-4 border-b">
          <div class="flex items-center gap-3">
            <mat-icon class="text-brand icon-size-6">cloud_upload</mat-icon>
            <div>
              <h2 class="text-lg font-semibold">Upload Files</h2>
              <p class="text-sm text-muted mt-1">
                Upload files to the system storage
              </p>
            </div>
          </div>
        </div>

        <!-- Upload Widget -->
        <div class="p-6">
          <app-upload-widget
            mode="multiple"
            [maxFiles]="10"
            [maxFileSize]="100 * 1024 * 1024"
            accept="image/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"
            [enableDragDrop]="true"
            [enableCamera]="true"
            [enableCompression]="true"
            [useFileManager]="true"
            (onUploadComplete)="onUploadComplete($event)"
            (onUploadError)="onUploadError($event)"
          ></app-upload-widget>
        </div>
      </div>
    </mat-tab>

    <mat-tab>
      <ng-template mat-tab-label>
        <div class="flex items-center gap-2">
          <mat-icon>folder_open</mat-icon>
          <span>File Management</span>
          @if (fileStats()?.totalFiles && fileStats()!.totalFiles > 0) {
          <span
            class="inline-flex items-center justify-center px-2 py-0.5 text-xs font-medium rounded-full bg-primary text-white ml-2"
          >
            {{ fileStats()!.totalFiles }}
          </span>
          }
        </div>
      </ng-template>

      <div class="tremor-card mt-6">
        <div class="tremor-card-content">
          <app-file-management
            [allowBulkActions]="true"
            [showStats]="true"
            (filesDeleted)="onFilesDeleted($event)"
          >
          </app-file-management>
        </div>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
