<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <!-- Page Header -->
  <div class="mb-8">
    <h1 class="text-3xl font-bold text-gray-900 dark:text-gray-100">
      File Upload & Management
    </h1>
    <p class="mt-2 text-sm text-gray-600 dark:text-gray-400">
      Core file management system with context-aware uploads
    </p>
  </div>

  <!-- Tabs -->
  <div class="tremor-tabs">
    <div
      class="tremor-tab"
      [class.tremor-tab-active]="selectedTab === 'upload'"
      (click)="selectedTab = 'upload'"
    >
      <mat-icon class="icon-size-5 mr-2">cloud_upload</mat-icon>
      Upload Files
    </div>
    <div
      class="tremor-tab"
      [class.tremor-tab-active]="selectedTab === 'management'"
      (click)="selectedTab = 'management'"
    >
      <mat-icon class="icon-size-5 mr-2">folder_open</mat-icon>
      File Management @if (fileStats()?.totalFiles && fileStats()!.totalFiles >
      0) {
      <span class="tremor-badge tremor-badge-blue ml-2">
        {{ fileStats()!.totalFiles }}
      </span>
      }
    </div>
  </div>

  <!-- Tab Content: Upload -->
  @if (selectedTab === 'upload') {
  <div
    class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"
  >
    <!-- Header -->
    <div
      class="flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700"
    >
      <div class="flex items-center gap-3">
        <mat-icon class="text-blue-600 dark:text-blue-400 icon-size-6"
          >cloud_upload</mat-icon
        >
        <div>
          <h2 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
            Upload Files
          </h2>
          <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
            Upload files to the system storage
          </p>
        </div>
      </div>
    </div>

    <!-- Upload Widget -->
    <div class="p-6">
      <app-upload-widget
        mode="multiple"
        [maxFiles]="10"
        [maxFileSize]="100 * 1024 * 1024"
        accept="image/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"
        [enableDragDrop]="true"
        [enableCamera]="true"
        [enableCompression]="true"
        [useFileManager]="true"
        (onUploadComplete)="onUploadComplete($event)"
        (onUploadError)="onUploadError($event)"
      ></app-upload-widget>
    </div>
  </div>
  }

  <!-- Tab Content: File Management -->
  @if (selectedTab === 'management') {
  <div class="tremor-card">
    <div class="tremor-card-content">
      <app-file-management
        [allowBulkActions]="true"
        [showStats]="true"
        (filesDeleted)="onFilesDeleted($event)"
      >
      </app-file-management>
    </div>
  </div>
  }
</div>
