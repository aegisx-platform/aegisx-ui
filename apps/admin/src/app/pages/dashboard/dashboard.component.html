<!-- Dashboard Container (Tremor Style - Clean & Minimal) -->
<div class="docs-page">
  <!-- Page Header -->
  <div class="docs-header">
    <h1 class="docs-title">Dashboard</h1>
    <p class="docs-subtitle">Welcome back! Here's what's happening today.</p>

    <div class="docs-actions">
      <button matButton="filled" color="primary">
        <mat-icon>refresh</mat-icon>
        Refresh Data
      </button>
    </div>
  </div>

  <!-- Stats Cards Grid (Tremor Style - No Icons, Text Arrows) -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
    <mat-card
      *ngFor="let stat of stats"
      appearance="outlined"
      class="stat-card-tremor"
    >
      <mat-card-content>
        <p class="stat-label-tremor">{{ stat.title }}</p>
        <h3 class="stat-value-tremor">{{ stat.value }}</h3>
        <p
          class="stat-change-tremor"
          [class.stat-positive]="stat.changeType === 'increase'"
          [class.stat-negative]="stat.changeType === 'decrease'"
        >
          <span class="stat-arrow">{{
            stat.changeType === 'increase' ? '↑' : '↓'
          }}</span>
          <span>{{ stat.change }} from last month</span>
        </p>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Charts Section (ngx-charts) -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
    <!-- Line Chart -->
    <mat-card appearance="outlined">
      <mat-card-header>
        <mat-card-title class="chart-title-tremor">
          User Growth Trend
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <ngx-charts-line-chart
          [view]="view"
          [results]="lineChartData"
          [xAxis]="showXAxis"
          [yAxis]="showYAxis"
          [legend]="showLegend"
          [showXAxisLabel]="showXAxisLabel"
          [showYAxisLabel]="showYAxisLabel"
          [scheme]="colorScheme"
          [gradient]="gradient"
          [curve]="'monotoneX'"
        >
        </ngx-charts-line-chart>
      </mat-card-content>
    </mat-card>

    <!-- Bar Chart -->
    <mat-card appearance="outlined">
      <mat-card-header>
        <mat-card-title class="chart-title-tremor">
          Users by Department
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <ngx-charts-bar-vertical
          [view]="view"
          [results]="barChartData"
          [xAxis]="showXAxis"
          [yAxis]="showYAxis"
          [legend]="showLegend"
          [showXAxisLabel]="showXAxisLabel"
          [showYAxisLabel]="showYAxisLabel"
          [scheme]="colorScheme"
          [gradient]="gradient"
        >
        </ngx-charts-bar-vertical>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Main Content Grid -->
  <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
    <!-- Recent Activities (Tremor Style - Minimal) -->
    <mat-card appearance="outlined" class="lg:col-span-2">
      <mat-card-header>
        <div class="flex items-center justify-between w-full">
          <mat-card-title class="section-title-tremor">
            Recent Activities
          </mat-card-title>

          <button matButton color="primary" class="view-all-btn-tremor">
            View All
            <mat-icon>arrow_forward</mat-icon>
          </button>
        </div>
      </mat-card-header>

      <mat-card-content>
        <div class="activity-list-tremor">
          <div
            *ngFor="let activity of recentActivities; let last = last"
            class="activity-item-tremor"
            [class.last-item]="last"
          >
            <div class="activity-content-tremor">
              <div class="flex items-center justify-between mb-1">
                <span
                  class="activity-user-tremor"
                  style="color: var(--aegisx-text-strong)"
                >
                  {{ activity.user }}
                </span>
                <span
                  class="activity-time-tremor"
                  style="color: var(--aegisx-text-subtle)"
                >
                  {{ getRelativeTime(activity.timestamp) }}
                </span>
              </div>

              <p
                class="activity-action-tremor"
                style="color: var(--aegisx-text-body)"
              >
                {{ activity.action }}
              </p>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Quick Actions & System Status -->
    <div class="flex flex-col gap-4">
      <!-- Quick Actions (Tremor Style - Simple Cards) -->
      <mat-card appearance="outlined">
        <mat-card-header>
          <mat-card-title class="section-title-tremor">
            Quick Actions
          </mat-card-title>
        </mat-card-header>

        <mat-card-content>
          <div class="quick-actions-grid-tremor">
            <button
              *ngFor="let action of quickActions"
              matButton="outlined"
              class="action-button-tremor"
            >
              <span class="action-label-tremor">{{ action.label }}</span>
            </button>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- System Status (Tremor Style - Muted Colors) -->
      <mat-card appearance="outlined">
        <mat-card-header>
          <mat-card-title class="section-title-tremor">
            System Status
          </mat-card-title>
        </mat-card-header>

        <mat-card-content>
          <div class="space-y-4">
            <div
              *ngFor="let metric of systemMetrics"
              class="metric-item-tremor"
            >
              <div class="flex items-center justify-between mb-2">
                <span
                  class="metric-label-tremor"
                  style="color: var(--aegisx-text-body)"
                >
                  {{ metric.label }}
                </span>
                <span
                  class="metric-value-tremor"
                  style="color: var(--aegisx-text-strong)"
                >
                  {{ metric.value }}%
                </span>
              </div>

              <mat-progress-bar
                mode="determinate"
                [value]="metric.value"
                class="progress-bar-tremor"
              ></mat-progress-bar>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>

  <!-- Bottom Grid: Top Products & Team Performance -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
    <!-- Top Products (Tremor Style) -->
    <mat-card appearance="outlined">
      <mat-card-header>
        <mat-card-title class="section-title-tremor">
          Top Products
        </mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <div class="space-y-3">
          <div
            *ngFor="let product of topProducts; let i = index"
            class="product-item-tremor"
          >
            <div class="rank-badge-tremor">
              {{ i + 1 }}
            </div>

            <div class="flex-1">
              <p
                class="product-name-tremor"
                style="color: var(--aegisx-text-strong)"
              >
                {{ product.name }}
              </p>
              <p
                class="product-category-tremor"
                style="color: var(--aegisx-text-subtle)"
              >
                {{ product.category }}
              </p>
            </div>

            <div class="text-right">
              <p
                class="product-sales-tremor"
                style="color: var(--aegisx-text-strong)"
              >
                {{ product.sales }}
              </p>
              <p
                class="product-sales-label-tremor"
                style="color: var(--aegisx-text-subtle)"
              >
                sales
              </p>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Team Performance (Tremor Style) -->
    <mat-card appearance="outlined">
      <mat-card-header>
        <mat-card-title class="section-title-tremor">
          Team Performance
        </mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <div class="space-y-4">
          <div
            *ngFor="let member of teamMembers"
            class="team-member-item-tremor"
          >
            <div class="flex items-center gap-3 mb-2">
              <div
                class="avatar-tremor"
                [style.background-color]="member.avatarColor"
              >
                {{ member.initials }}
              </div>

              <div class="flex-1">
                <p
                  class="member-name-tremor"
                  style="color: var(--aegisx-text-strong)"
                >
                  {{ member.name }}
                </p>
                <p
                  class="member-role-tremor"
                  style="color: var(--aegisx-text-subtle)"
                >
                  {{ member.role }}
                </p>
              </div>

              <span class="performance-badge-tremor">
                {{ member.performance }}%
              </span>
            </div>

            <mat-progress-bar
              mode="determinate"
              [value]="member.performance"
              class="progress-bar-tremor"
            ></mat-progress-bar>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
