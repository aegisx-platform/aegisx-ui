<div class="docs-page">
  <!-- Page Header -->
  <div class="docs-header">
    <div class="docs-breadcrumb">
      <mat-icon>architecture</mat-icon>
      <span>Foundation</span>
    </div>
    <h1 class="docs-title">Design Tokens</h1>
    <p class="docs-subtitle">
      Complete design token library with {{ getTotalTokenCount() }} tokens for
      colors, spacing, typography, and more. Use these tokens to maintain
      consistency across your application.
    </p>

    <!-- Actions Row -->
    <div class="docs-actions">
      <button mat-raised-button color="primary" (click)="toggleTheme()">
        <mat-icon>{{
          themeService.themeId() === 'aegisx-dark' ? 'light_mode' : 'dark_mode'
        }}</mat-icon>
        Toggle Theme
      </button>
    </div>
  </div>

  <!-- Quick Summary -->
  <mat-card appearance="outlined" class="mb-6">
    <mat-card-content class="p-6">
      <!-- Search Box -->
      <div class="mb-6">
        <mat-form-field class="w-full" appearance="outline">
          <mat-label>Search tokens...</mat-label>
          <input
            matInput
            [(ngModel)]="searchQuery"
            placeholder="Try 'brand', 'spacing-md', or 'success'"
          />
          <mat-icon matPrefix>search</mat-icon>
          @if (searchQuery) {
            <button
              matSuffix
              mat-icon-button
              (click)="searchQuery = ''"
              aria-label="Clear search"
            >
              <mat-icon>close</mat-icon>
            </button>
          }
        </mat-form-field>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <!-- Best Practice -->
        <div class="flex items-start gap-4">
          <div
            class="w-12 h-12 rounded-lg bg-[var(--ax-success-faint)] flex items-center justify-center shrink-0"
          >
            <mat-icon class="text-[var(--ax-success-default)]"
              >thumb_up</mat-icon
            >
          </div>
          <div class="flex-1">
            <h3 class="heading-title-medium m-0 mb-2">แนวทางที่ดีที่สุด</h3>
            <p class="type-body-medium text-secondary m-0">
              ใช้ <strong>Tailwind classes</strong> เป็นหลัก
              สำหรับความรวดเร็วและ autocomplete
            </p>
          </div>
        </div>

        <!-- CSS Variables -->
        <div class="flex items-start gap-4">
          <div
            class="w-12 h-12 rounded-lg bg-[var(--ax-info-faint)] flex items-center justify-center shrink-0"
          >
            <mat-icon class="text-[var(--ax-info-default)]">code</mat-icon>
          </div>
          <div class="flex-1">
            <h3 class="heading-title-medium m-0 mb-2">CSS Variables</h3>
            <p class="type-body-medium text-secondary m-0">
              ใช้ <code class="type-body-small">var(--ax-*)</code> ใน inline
              styles หรือ SCSS เท่าที่จำเป็น
            </p>
          </div>
        </div>

        <!-- Dark Mode -->
        <div class="flex items-start gap-4">
          <div
            class="w-12 h-12 rounded-lg bg-[var(--ax-warning-faint)] flex items-center justify-center shrink-0"
          >
            <mat-icon class="text-[var(--ax-warning-default)]"
              >dark_mode</mat-icon
            >
          </div>
          <div class="flex-1">
            <h3 class="heading-title-medium m-0 mb-2">Dark Mode</h3>
            <p class="type-body-medium text-secondary m-0">
              ทุก token รองรับ <strong>dark mode อัตโนมัติ</strong> ไม่ต้อง
              config เพิ่ม
            </p>
          </div>
        </div>

        <!-- Material Integration -->
        <div class="flex items-start gap-4">
          <div
            class="w-12 h-12 rounded-lg bg-[var(--ax-brand-faint)] flex items-center justify-center shrink-0"
          >
            <mat-icon class="text-[var(--ax-brand-default)]">widgets</mat-icon>
          </div>
          <div class="flex-1">
            <h3 class="heading-title-medium m-0 mb-2">Material UI</h3>
            <p class="type-body-medium text-secondary m-0">
              ทำงานร่วมกับ <strong>Angular Material</strong> อย่างสมบูรณ์
            </p>
          </div>
        </div>
      </div>

      <!-- Quick Reference -->
      <div class="mt-6 p-4 bg-[var(--ax-background-subtle)] rounded-lg">
        <h4 class="heading-title-small mb-3">ตัวอย่างการใช้งานด่วน:</h4>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div class="flex flex-col gap-2">
            <span class="type-body-small text-subtle uppercase tracking-wide"
              >Colors</span
            >
            <code
              class="type-body-small bg-[var(--ax-background-default)] px-2 py-1 rounded"
              >class="text-brand bg-brand-faint"</code
            >
          </div>
          <div class="flex flex-col gap-2">
            <span class="type-body-small text-subtle uppercase tracking-wide"
              >Typography</span
            >
            <code
              class="type-body-small bg-[var(--ax-background-default)] px-2 py-1 rounded"
              >class="text-2xl font-semibold"</code
            >
          </div>
          <div class="flex flex-col gap-2">
            <span class="type-body-small text-subtle uppercase tracking-wide"
              >Spacing</span
            >
            <code
              class="type-body-small bg-[var(--ax-background-default)] px-2 py-1 rounded"
              >class="p-6 gap-4"</code
            >
          </div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Quick Navigation -->
  <div
    class="sticky top-0 z-40 bg-[var(--ax-background-default)] pb-4 mb-2 border-b border-[var(--ax-border-default)] shadow-sm"
  >
    <h2 class="heading-headline-small mb-4 pt-4">Quick Navigation</h2>
    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
      <button
        mat-stroked-button
        [color]="activeSection === 'color-palettes' ? 'primary' : ''"
        (click)="scrollToSection('color-palettes')"
      >
        <mat-icon>palette</mat-icon>
        Color Palettes (50-900)
      </button>
      <button
        mat-stroked-button
        [color]="activeSection === 'colors' ? 'primary' : ''"
        (click)="scrollToSection('colors')"
      >
        <mat-icon>palette</mat-icon>
        Colors
      </button>
      <button
        mat-stroked-button
        [color]="activeSection === 'typography' ? 'primary' : ''"
        (click)="scrollToSection('typography')"
      >
        <mat-icon>text_fields</mat-icon>
        Typography
      </button>
      <button
        mat-stroked-button
        [color]="activeSection === 'spacing' ? 'primary' : ''"
        (click)="scrollToSection('spacing')"
      >
        <mat-icon>space_bar</mat-icon>
        Spacing
      </button>
      <button
        mat-stroked-button
        [color]="activeSection === 'components' ? 'primary' : ''"
        (click)="scrollToSection('components')"
      >
        <mat-icon>widgets</mat-icon>
        Components
      </button>
      <button
        mat-stroked-button
        [color]="activeSection === 'layout' ? 'primary' : ''"
        (click)="scrollToSection('layout')"
      >
        <mat-icon>view_quilt</mat-icon>
        Layout
      </button>
      <button
        mat-stroked-button
        [color]="activeSection === 'effects' ? 'primary' : ''"
        (click)="scrollToSection('effects')"
      >
        <mat-icon>auto_awesome</mat-icon>
        Effects
      </button>
    </div>
  </div>

  <!-- Color Palettes with Levels (50-900) -->
  <div id="color-palettes" class="mb-8">
    <h2 class="heading-headline-medium mb-2">Color Palettes</h2>
    <p class="text-sm text-[var(--ax-text-secondary)] mb-6">
      Complete color scales with 10 levels (50-900) + semantic aliases for
      flexible and accessible color usage.
    </p>

    @for (category of colorPaletteCategories; track category.id) {
      <mat-card appearance="outlined" class="mb-6">
        <mat-card-header>
          <mat-card-title class="flex items-center gap-2">
            {{ category.title }}
            <mat-chip class="scale-75"
              >{{ category.colors.length }} colors</mat-chip
            >
          </mat-card-title>
          <mat-card-subtitle>{{ category.description }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content class="p-6">
          @for (colorPalette of category.colors; track colorPalette.colorName) {
            <div class="mb-8 last:mb-0">
              <!-- Color Palette Header -->
              <div class="flex items-center justify-between mb-4">
                <h3 class="heading-title-large m-0">
                  {{ colorPalette.name }}
                </h3>
                <button
                  mat-button
                  (click)="togglePaletteDetails(colorPalette.colorName)"
                  class="text-sm"
                >
                  <mat-icon>{{
                    isPaletteExpanded(colorPalette.colorName)
                      ? 'expand_less'
                      : 'expand_more'
                  }}</mat-icon>
                  {{
                    isPaletteExpanded(colorPalette.colorName)
                      ? 'Hide Details'
                      : 'Show All Levels'
                  }}
                </button>
              </div>

              <!-- Color Intensity Scale - Primary View -->
              <div class="mb-4">
                <div class="flex items-center justify-between mb-3">
                  <span
                    class="text-xs text-[var(--ax-text-subtle)] font-medium uppercase tracking-wide"
                    >Lightest</span
                  >
                  <span
                    class="text-xs text-[var(--ax-text-subtle)] font-medium uppercase tracking-wide"
                    >Darkest</span
                  >
                </div>

                <div class="grid grid-cols-2 md:grid-cols-6 gap-4">
                  @for (level of [50, 200, 300, 500, 700, 900]; track level) {
                    <div class="flex flex-col">
                      <!-- Color Swatch -->
                      <div
                        class="h-24 md:h-32 rounded-lg shadow-lg cursor-pointer transition-all hover:scale-105 hover:shadow-xl mb-3"
                        [class.ring-2]="level === 500"
                        [class.ring-offset-2]="level === 500"
                        [class.ring-[var(--ax-brand-default)]]="level === 500"
                        [style.backgroundColor]="
                          getColorValue(
                            '--ax-' + colorPalette.colorName + '-' + level
                          )
                        "
                        [matTooltip]="'Click to copy'"
                        (click)="
                          copyToClipboard(
                            '--ax-' + colorPalette.colorName + '-' + level
                          )
                        "
                      ></div>

                      <!-- Label -->
                      <div class="text-center mb-2">
                        <div
                          class="heading-title-small"
                          [class.font-bold]="level === 500"
                        >
                          {{
                            getSemanticName(level) ||
                              (level === 900 ? 'strong' : level)
                          }}
                        </div>
                        <div
                          class="text-xs text-[var(--ax-text-subtle)]"
                          [class.text-[var(--ax-brand-default)]]="level === 500"
                          [class.font-semibold]="level === 500"
                        >
                          {{ level }}
                        </div>
                      </div>

                      <!-- Copy Button -->
                      <button
                        mat-stroked-button
                        class="w-full text-xs py-1"
                        (click)="
                          copyToClipboard(
                            '--ax-' + colorPalette.colorName + '-' + level
                          )
                        "
                      >
                        @if (
                          copiedToken ===
                          '--ax-' + colorPalette.colorName + '-' + level
                        ) {
                          <mat-icon
                            class="text-[var(--ax-success-default)] !text-base !w-4 !h-4"
                            >check</mat-icon
                          >
                          <span class="text-[var(--ax-success-default)]"
                            >Copied!</span
                          >
                        } @else {
                          <mat-icon class="!text-base !w-4 !h-4"
                            >content_copy</mat-icon
                          >
                          Copy
                        }
                      </button>
                    </div>
                  }
                </div>
              </div>

              <!-- Expandable Details Section -->
              @if (isPaletteExpanded(colorPalette.colorName)) {
                <div
                  class="mt-6 border-t border-[var(--ax-border-default)] pt-6"
                >
                  <!-- All 10 Levels Grid -->
                  <div class="mb-6">
                    <h4 class="heading-title-small mb-3">
                      All Levels (50-900)
                    </h4>
                    <div class="grid grid-cols-5 md:grid-cols-10 gap-3">
                      @for (level of colorPalette.levels; track level.level) {
                        <div class="flex flex-col items-center">
                          <div
                            class="w-full aspect-square rounded-lg shadow-md cursor-pointer transition-transform hover:scale-110 mb-2"
                            [style.backgroundColor]="
                              getColorValue(level.cssVar)
                            "
                            (click)="copyToClipboard(level.cssVar)"
                            [matTooltip]="
                              level.cssVar +
                              ': ' +
                              (level.value || 'Loading...')
                            "
                          ></div>
                          <span
                            class="text-xs font-mono font-semibold text-[var(--ax-text-primary)]"
                          >
                            {{ level.level }}
                          </span>
                          @if (getSemanticName(level.level)) {
                            <span
                              class="text-[10px] text-[var(--ax-text-subtle)]"
                            >
                              {{ getSemanticName(level.level) }}
                            </span>
                          }
                        </div>
                      }
                    </div>
                  </div>

                  <!-- Detailed Information Table -->
                  <div class="overflow-x-auto">
                    <h4 class="heading-title-small mb-3">
                      Detailed Information
                    </h4>
                    <table class="w-full text-sm">
                      <thead class="bg-[var(--ax-background-subtle)]">
                        <tr>
                          <th class="text-left p-3 font-semibold">Level</th>
                          <th class="text-left p-3 font-semibold">
                            CSS Variable
                          </th>
                          <th class="text-left p-3 font-semibold">Hex Value</th>
                          <th class="text-left p-3 font-semibold">
                            Usage Guidelines
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        @for (level of colorPalette.levels; track level.level) {
                          <tr
                            class="border-t border-[var(--ax-border-default)] hover:bg-[var(--ax-background-subtle)] transition-colors"
                          >
                            <td class="p-3">
                              <div class="flex items-center gap-3">
                                <div
                                  class="w-8 h-8 rounded border border-[var(--ax-border-default)] shadow-sm shrink-0"
                                  [style.backgroundColor]="
                                    getColorValue(level.cssVar)
                                  "
                                ></div>
                                <span class="font-mono font-semibold">{{
                                  level.level
                                }}</span>
                                @if (getSemanticName(level.level)) {
                                  <mat-chip class="scale-75" highlighted>{{
                                    getSemanticName(level.level)
                                  }}</mat-chip>
                                }
                              </div>
                            </td>
                            <td class="p-3">
                              <code
                                class="text-xs bg-[var(--ax-background-default)] px-3 py-1.5 rounded cursor-pointer hover:bg-[var(--ax-info-faint)] transition-colors"
                                (click)="copyToClipboard(level.cssVar)"
                              >
                                {{ level.cssVar }}
                              </code>
                              @if (copiedToken === level.cssVar) {
                                <span
                                  class="ml-2 text-[var(--ax-success-default)] text-xs font-medium"
                                  >✓ Copied!</span
                                >
                              }
                            </td>
                            <td class="p-3">
                              <code
                                class="text-xs font-mono text-[var(--ax-text-secondary)] bg-[var(--ax-background-subtle)] px-2 py-1 rounded"
                              >
                                {{ level.value || 'Loading...' }}
                              </code>
                            </td>
                            <td
                              class="p-3 text-xs text-[var(--ax-text-subtle)]"
                            >
                              @if (level.level === 50) {
                                Lightest - Subtle backgrounds, hover states
                              } @else if (level.level === 100) {
                                Very light backgrounds, disabled states
                              } @else if (level.level === 200) {
                                Light backgrounds, muted states
                              } @else if (level.level === 300) {
                                Subtle borders, light text on dark backgrounds
                              } @else if (level.level === 400) {
                                Hover states, secondary buttons
                              } @else if (level.level === 500) {
                                Main color - Primary usage, default state
                              } @else if (level.level === 600) {
                                Darker hover states, pressed states
                              } @else if (level.level === 700) {
                                Active states, emphasis, focus rings
                              } @else if (level.level === 800) {
                                Strong emphasis, high contrast text
                              } @else if (level.level === 900) {
                                Darkest - Maximum contrast, headers
                              }
                            </td>
                          </tr>
                        }
                      </tbody>
                    </table>
                  </div>
                </div>
              }
            </div>
          }
        </mat-card-content>
      </mat-card>
    }
  </div>

  <!-- Naming Convention Guide -->
  <div class="naming-convention-section">
    <mat-card appearance="outlined" class="convention-card">
      <mat-card-header>
        <mat-icon mat-card-avatar color="primary">info</mat-icon>
        <mat-card-title>Color Token Naming Convention</mat-card-title>
        <mat-card-subtitle
          >Understanding the semantic naming system</mat-card-subtitle
        >
      </mat-card-header>

      <mat-card-content>
        <div class="flex flex-col gap-4 py-4">
          <div
            class="flex items-center gap-3 p-4 bg-[var(--ax-background-subtle)] rounded-lg border border-[var(--ax-border-default)]"
          >
            <mat-chip class="shrink-0">faint</mat-chip>
            <div class="flex-1 min-w-0">
              <strong
                class="block text-base text-[var(--ax-text-heading)] mb-0.5"
                >สีอ่อนที่สุด</strong
              >
              <span class="block text-sm text-[var(--ax-text-secondary)] mb-1"
                >ใช้กับพื้นหลัง</span
              >
              <code class="text-xs text-[var(--ax-text-subtle)]"
                >--ax-brand-faint</code
              >
            </div>
          </div>

          <div
            class="flex items-center gap-3 p-4 bg-[var(--ax-background-subtle)] rounded-lg border border-[var(--ax-border-default)]"
          >
            <mat-chip class="shrink-0">muted</mat-chip>
            <div class="flex-1 min-w-0">
              <strong
                class="block text-base text-[var(--ax-text-heading)] mb-0.5"
                >สีนุ่มนวล</strong
              >
              <span class="block text-sm text-[var(--ax-text-secondary)] mb-1"
                >ไม่โดดเด่น</span
              >
              <code class="text-xs text-[var(--ax-text-subtle)]"
                >--ax-success-muted</code
              >
            </div>
          </div>

          <div
            class="flex items-center gap-3 p-4 bg-[var(--ax-background-subtle)] rounded-lg border border-[var(--ax-border-default)]"
          >
            <mat-chip class="shrink-0">subtle</mat-chip>
            <div class="flex-1 min-w-0">
              <strong
                class="block text-base text-[var(--ax-text-heading)] mb-0.5"
                >สีที่สังเกตเห็นได้</strong
              >
              <span class="block text-sm text-[var(--ax-text-secondary)] mb-1"
                >แต่ไม่เด่น</span
              >
              <code class="text-xs text-[var(--ax-text-subtle)]"
                >--ax-warning-subtle</code
              >
            </div>
          </div>

          <div
            class="flex items-center gap-3 p-4 bg-[var(--ax-background-subtle)] rounded-lg border border-[var(--ax-border-default)]"
          >
            <mat-chip class="shrink-0" color="primary">DEFAULT</mat-chip>
            <div class="flex-1 min-w-0">
              <strong
                class="block text-base text-[var(--ax-text-heading)] mb-0.5"
                >สีหลัก</strong
              >
              <span class="block text-sm text-[var(--ax-text-secondary)] mb-1"
                >ไม่ต้องระบุ suffix</span
              >
              <code class="text-xs text-[var(--ax-text-subtle)]"
                >--ax-brand-default</code
              >
            </div>
          </div>

          <div
            class="flex items-center gap-3 p-4 bg-[var(--ax-background-subtle)] rounded-lg border border-[var(--ax-border-default)]"
          >
            <mat-chip class="shrink-0">emphasis</mat-chip>
            <div class="flex-1 min-w-0">
              <strong
                class="block text-base text-[var(--ax-text-heading)] mb-0.5"
                >สีเข้ม</strong
              >
              <span class="block text-sm text-[var(--ax-text-secondary)] mb-1"
                >เน้นๆ</span
              >
              <code class="text-xs text-[var(--ax-text-subtle)]"
                >--ax-info-emphasis</code
              >
            </div>
          </div>

          <div
            class="flex items-center gap-3 p-4 bg-[var(--ax-background-subtle)] rounded-lg border border-[var(--ax-border-default)]"
          >
            <mat-chip class="shrink-0">strong</mat-chip>
            <div class="flex-1 min-w-0">
              <strong
                class="block text-base text-[var(--ax-text-heading)] mb-0.5"
                >สีเข้มที่สุด</strong
              >
              <span class="block text-sm text-[var(--ax-text-secondary)] mb-1"
                >ใช้กับข้อความ</span
              >
              <code class="text-xs text-[var(--ax-text-subtle)]"
                >--ax-text-strong</code
              >
            </div>
          </div>

          <div
            class="flex items-center gap-3 p-4 bg-[var(--ax-background-subtle)] rounded-lg border border-[var(--ax-border-default)]"
          >
            <mat-chip class="shrink-0">inverted</mat-chip>
            <div class="flex-1 min-w-0">
              <strong
                class="block text-base text-[var(--ax-text-heading)] mb-0.5"
                >สีตรงข้าม</strong
              >
              <span class="block text-sm text-[var(--ax-text-secondary)] mb-1"
                >ขาว/ดำ</span
              >
              <code class="text-xs text-[var(--ax-text-subtle)]"
                >--ax-text-inverted</code
              >
            </div>
          </div>
        </div>

        <mat-divider class="my-8"></mat-divider>

        <div
          class="mt-6 p-6 bg-[var(--ax-background-subtle)] rounded-lg border border-[var(--ax-border-default)]"
        >
          <h4
            class="flex items-center gap-2 text-lg font-semibold text-[var(--ax-text-heading)] mb-6"
          >
            <mat-icon class="text-[var(--ax-brand-default)]">gradient</mat-icon>
            Color Intensity Scale
          </h4>
          <div class="flex flex-col gap-4">
            <div class="flex items-center justify-between">
              <span class="type-title-small text-secondary">Lightest</span>
              <span class="type-title-small text-secondary">Darkest</span>
            </div>
            <div class="grid grid-cols-6 gap-3">
              <div class="flex flex-col items-center gap-3">
                <div
                  class="w-full aspect-square rounded-lg border border-[var(--ax-border-default)] shadow-sm"
                  [style.backgroundColor]="getColorValue('--ax-brand-faint')"
                ></div>
                <div class="text-center">
                  <span
                    class="block text-sm font-medium text-[var(--ax-text-heading)] mb-1"
                    >faint</span
                  >
                  <code class="text-xs text-[var(--ax-text-subtle)]">50</code>
                </div>
              </div>
              <div class="flex flex-col items-center gap-3">
                <div
                  class="w-full aspect-square rounded-lg border border-[var(--ax-border-default)] shadow-sm"
                  [style.backgroundColor]="getColorValue('--ax-brand-muted')"
                ></div>
                <div class="text-center">
                  <span
                    class="block text-sm font-medium text-[var(--ax-text-heading)] mb-1"
                    >muted</span
                  >
                  <code class="text-xs text-[var(--ax-text-subtle)]">100</code>
                </div>
              </div>
              <div class="flex flex-col items-center gap-3">
                <div
                  class="w-full aspect-square rounded-lg border border-[var(--ax-border-default)] shadow-sm"
                  [style.backgroundColor]="getColorValue('--ax-brand-subtle')"
                ></div>
                <div class="text-center">
                  <span
                    class="block text-sm font-medium text-[var(--ax-text-heading)] mb-1"
                    >subtle</span
                  >
                  <code class="text-xs text-[var(--ax-text-subtle)]">200</code>
                </div>
              </div>
              <div class="flex flex-col items-center gap-3">
                <div
                  class="w-full aspect-square rounded-lg border-2 border-[var(--ax-brand-emphasis)] shadow-md"
                  [style.backgroundColor]="getColorValue('--ax-brand-default')"
                ></div>
                <div class="text-center">
                  <span
                    class="block text-sm font-bold text-[var(--ax-text-heading)] mb-1"
                    >DEFAULT</span
                  >
                  <code
                    class="text-xs font-semibold text-[var(--ax-brand-default)]"
                    >500</code
                  >
                </div>
              </div>
              <div class="flex flex-col items-center gap-3">
                <div
                  class="w-full aspect-square rounded-lg border border-[var(--ax-border-default)] shadow-sm"
                  [style.backgroundColor]="getColorValue('--ax-brand-emphasis')"
                ></div>
                <div class="text-center">
                  <span
                    class="block text-sm font-medium text-[var(--ax-text-heading)] mb-1"
                    >emphasis</span
                  >
                  <code class="text-xs text-[var(--ax-text-subtle)]">700</code>
                </div>
              </div>
              <div class="flex flex-col items-center gap-3">
                <div
                  class="w-full aspect-square rounded-lg border border-[var(--ax-border-default)] shadow-sm"
                  [style.backgroundColor]="getColorValue('--ax-brand-strong')"
                ></div>
                <div class="text-center">
                  <span
                    class="block text-sm font-medium text-[var(--ax-text-heading)] mb-1"
                    >strong</span
                  >
                  <code class="text-xs text-[var(--ax-text-subtle)]">900</code>
                </div>
              </div>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Button Color Examples -->
  <div class="my-8">
    <mat-card appearance="outlined" class="examples-card">
      <mat-card-header>
        <mat-icon mat-card-avatar color="primary">smart_button</mat-icon>
        <mat-card-title>Material Button Color Examples</mat-card-title>
        <mat-card-subtitle
          >Preview of button styles with semantic colors</mat-card-subtitle
        >
      </mat-card-header>

      <mat-card-content>
        <!-- Filled Buttons (Material 3) -->
        <div class="mb-8 last:mb-0">
          <h4
            class="flex items-center gap-2 text-base font-semibold text-[var(--ax-text-heading)] mb-5"
          >
            <mat-icon class="text-[var(--ax-brand-default)] text-xl"
              >crop_square</mat-icon
            >
            Filled Buttons (Material 3)
          </h4>
          <div
            class="flex flex-wrap gap-6 p-6 bg-[var(--ax-background-muted)] rounded-lg border border-[var(--ax-border-default)]"
          >
            <div class="flex flex-col items-center gap-3">
              <button matButton="filled">Basic</button>
              <span class="text-xs text-[var(--ax-text-secondary)] text-center"
                >Basic (No color)</span
              >
            </div>
            <div class="flex flex-col items-center gap-3">
              <button matButton="filled" color="primary">Primary</button>
              <span class="text-xs text-[var(--ax-text-secondary)] text-center"
                >Primary (Brand)</span
              >
            </div>
            <div class="flex flex-col items-center gap-3">
              <button matButton="filled" color="accent">Accent</button>
              <span class="text-xs text-[var(--ax-text-secondary)] text-center"
                >Accent</span
              >
            </div>
            <div class="flex flex-col items-center gap-3">
              <button matButton="filled" color="warn">Warn</button>
              <span class="text-xs text-[var(--ax-text-secondary)] text-center"
                >Warn (Danger)</span
              >
            </div>
            <div class="flex flex-col items-center gap-3">
              <button matButton="filled" disabled>Disabled</button>
              <span class="text-xs text-[var(--ax-text-secondary)] text-center"
                >Disabled State</span
              >
            </div>
          </div>
        </div>

        <mat-divider class="my-8"></mat-divider>

        <!-- Stroked/Outlined Buttons -->
        <div class="mb-8 last:mb-0">
          <h4
            class="flex items-center gap-2 text-base font-semibold text-[var(--ax-text-heading)] mb-5"
          >
            <mat-icon class="text-[var(--ax-brand-default)] text-xl"
              >check_box_outline_blank</mat-icon
            >
            Stroked Buttons (Outlined)
          </h4>
          <div
            class="flex flex-wrap gap-6 p-6 bg-[var(--ax-background-muted)] rounded-lg border border-[var(--ax-border-default)]"
          >
            <div class="flex flex-col items-center gap-3">
              <button mat-stroked-button>Basic</button>
              <span class="text-xs text-[var(--ax-text-secondary)] text-center"
                >Basic (No color)</span
              >
            </div>
            <div class="flex flex-col items-center gap-3">
              <button mat-stroked-button color="primary">Primary</button>
              <span class="text-xs text-[var(--ax-text-secondary)] text-center"
                >Primary (Brand)</span
              >
            </div>
            <div class="flex flex-col items-center gap-3">
              <button mat-stroked-button color="accent">Accent</button>
              <span class="text-xs text-[var(--ax-text-secondary)] text-center"
                >Accent</span
              >
            </div>
            <div class="flex flex-col items-center gap-3">
              <button mat-stroked-button color="warn">Warn</button>
              <span class="text-xs text-[var(--ax-text-secondary)] text-center"
                >Warn (Danger)</span
              >
            </div>
            <div class="flex flex-col items-center gap-3">
              <button mat-stroked-button disabled>Disabled</button>
              <span class="text-xs text-[var(--ax-text-secondary)] text-center"
                >Disabled State</span
              >
            </div>
          </div>
        </div>

        <mat-divider class="my-8"></mat-divider>

        <!-- Flat/Text Buttons -->
        <div class="mb-8 last:mb-0">
          <h4
            class="flex items-center gap-2 text-base font-semibold text-[var(--ax-text-heading)] mb-5"
          >
            <mat-icon class="text-[var(--ax-brand-default)] text-xl"
              >text_fields</mat-icon
            >
            Flat Buttons (Text Only)
          </h4>
          <div
            class="flex flex-wrap gap-6 p-6 bg-[var(--ax-background-muted)] rounded-lg border border-[var(--ax-border-default)]"
          >
            <div class="flex flex-col items-center gap-3">
              <button mat-button>Basic</button>
              <span class="text-xs text-[var(--ax-text-secondary)] text-center"
                >Basic (No color)</span
              >
            </div>
            <div class="flex flex-col items-center gap-3">
              <button mat-button color="primary">Primary</button>
              <span class="text-xs text-[var(--ax-text-secondary)] text-center"
                >Primary (Brand)</span
              >
            </div>
            <div class="flex flex-col items-center gap-3">
              <button mat-button color="accent">Accent</button>
              <span class="text-xs text-[var(--ax-text-secondary)] text-center"
                >Accent</span
              >
            </div>
            <div class="flex flex-col items-center gap-3">
              <button mat-button color="warn">Warn</button>
              <span class="text-xs text-[var(--ax-text-secondary)] text-center"
                >Warn (Danger)</span
              >
            </div>
            <div class="flex flex-col items-center gap-3">
              <button mat-button disabled>Disabled</button>
              <span class="text-xs text-[var(--ax-text-secondary)] text-center"
                >Disabled State</span
              >
            </div>
          </div>
        </div>

        <mat-divider class="my-8"></mat-divider>

        <!-- Color Mapping Info -->
        <div
          class="mt-8 p-6 bg-[var(--ax-background-subtle)] rounded-lg border border-[var(--ax-border-muted)]"
        >
          <h4
            class="flex items-center gap-2 text-base font-semibold text-[var(--ax-text-heading)] mb-5"
          >
            <mat-icon class="text-[var(--ax-brand-default)]">palette</mat-icon>
            Semantic Color Mapping
          </h4>
          <div class="flex flex-col gap-4">
            <div
              class="flex flex-col gap-2 p-4 bg-[var(--ax-background-default)] rounded-md border border-[var(--ax-border-default)]"
            >
              <mat-chip class="self-start">Basic</mat-chip>
              <span
                class="text-sm text-[var(--ax-text-secondary)] leading-relaxed"
                >Default theme colors (no custom color applied)</span
              >
              <code class="text-xs px-2 py-1 rounded"
                >--ax-background-*, --ax-text-*</code
              >
            </div>
            <div
              class="flex flex-col gap-2 p-4 bg-[var(--ax-background-default)] rounded-md border border-[var(--ax-border-default)]"
            >
              <mat-chip class="self-start" color="primary">Primary</mat-chip>
              <span
                class="text-sm text-[var(--ax-text-secondary)] leading-relaxed"
                >Brand colors for main actions</span
              >
              <code class="text-xs px-2 py-1 rounded">--ax-brand-default</code>
            </div>
            <div
              class="flex flex-col gap-2 p-4 bg-[var(--ax-background-default)] rounded-md border border-[var(--ax-border-default)]"
            >
              <mat-chip class="self-start" color="accent">Accent</mat-chip>
              <span
                class="text-sm text-[var(--ax-text-secondary)] leading-relaxed"
                >Secondary accent for highlights</span
              >
              <code class="text-xs px-2 py-1 rounded">--ax-info-default</code>
            </div>
            <div
              class="flex flex-col gap-2 p-4 bg-[var(--ax-background-default)] rounded-md border border-[var(--ax-border-default)]"
            >
              <mat-chip class="self-start">Warn</mat-chip>
              <span
                class="text-sm text-[var(--ax-text-secondary)] leading-relaxed"
                >Warning/danger for destructive actions</span
              >
              <code class="text-xs px-2 py-1 rounded">--ax-danger-default</code>
            </div>
            <div
              class="flex flex-col gap-2 p-4 bg-[var(--ax-background-default)] rounded-md border border-[var(--ax-border-default)]"
            >
              <mat-chip class="self-start" disabled>Disabled</mat-chip>
              <span
                class="text-sm text-[var(--ax-text-secondary)] leading-relaxed"
                >Inactive state for all buttons</span
              >
              <code class="text-xs px-2 py-1 rounded">--ax-text-disabled</code>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Token Categories -->
  <div class="flex flex-col gap-8 mt-8">
    @for (category of filteredCategories; track category.id) {
      <section class="scroll-mt-8" [id]="category.id">
        <mat-card
          appearance="outlined"
          class="category-card border border-[var(--ax-border-muted)] shadow-sm"
        >
          <mat-card-header>
            <mat-icon mat-card-avatar>{{ category.icon }}</mat-icon>
            <mat-card-title class="flex items-center gap-2">
              {{ category.title }}
              <mat-chip class="scale-75"
                >{{ category.tokens.length }} tokens</mat-chip
              >
            </mat-card-title>
            <mat-card-subtitle>{{ category.description }}</mat-card-subtitle>
          </mat-card-header>

          <mat-card-content>
            <!-- Colors Section -->
            @if (category.id === 'colors') {
              <!-- Color Usage Guide -->
              <div
                class="p-6 mb-6 bg-[var(--ax-background-subtle)] rounded-lg border-l-4 border-[var(--ax-brand-default)]"
              >
                <h3
                  class="flex items-center gap-2 text-lg font-semibold text-[var(--ax-text-heading)] mb-4"
                >
                  <mat-icon class="text-[var(--ax-brand-default)]"
                    >lightbulb</mat-icon
                  >
                  วิธีใช้งาน Colors (3 แบบ)
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                  <!-- Method 1: Tailwind Classes (Recommended!) -->
                  <div
                    class="flex flex-col gap-3 p-4 bg-[var(--ax-background-default)] rounded-md border-2 border-[var(--ax-success-default)]"
                  >
                    <div class="flex items-center gap-2">
                      <mat-icon
                        class="text-base text-[var(--ax-success-default)]"
                        >star</mat-icon
                      >
                      <span class="font-semibold text-[var(--ax-text-heading)]"
                        >1. Tailwind Classes ⭐</span
                      >
                    </div>
                    <p class="text-sm text-[var(--ax-text-secondary)] m-0">
                      แนะนำ! สั้น สะดวก autocomplete
                    </p>
                    <code
                      class="text-xs p-2 bg-[var(--ax-background-subtle)] rounded"
                      >class="text-brand bg-brand-faint"</code
                    >
                    <span class="text-xs text-[var(--ax-success-default)]"
                      >✓ รองรับ dark mode อัตโนมัติ</span
                    >
                  </div>

                  <!-- Method 2: CSS Variables -->
                  <div
                    class="flex flex-col gap-3 p-4 bg-[var(--ax-background-default)] rounded-md border border-[var(--ax-border-default)]"
                  >
                    <div class="flex items-center gap-2">
                      <mat-icon class="text-base text-[var(--ax-info-default)]"
                        >code</mat-icon
                      >
                      <span class="font-semibold text-[var(--ax-text-heading)]"
                        >2. CSS Variables</span
                      >
                    </div>
                    <p class="text-sm text-[var(--ax-text-secondary)] m-0">
                      ใช้ใน inline styles
                    </p>
                    <code
                      class="text-xs p-2 bg-[var(--ax-background-subtle)] rounded"
                      >style="color: var(--ax-brand-default)"</code
                    >
                    <span class="text-xs text-[var(--ax-text-subtle)]"
                      >ใช้เมื่อจำเป็นเท่านั้น</span
                    >
                  </div>

                  <!-- Method 3: SCSS -->
                  <div
                    class="flex flex-col gap-3 p-4 bg-[var(--ax-background-default)] rounded-md border border-[var(--ax-border-default)]"
                  >
                    <div class="flex items-center gap-2">
                      <mat-icon class="text-base text-[var(--ax-info-default)]"
                        >palette</mat-icon
                      >
                      <span class="font-semibold text-[var(--ax-text-heading)]"
                        >3. SCSS</span
                      >
                    </div>
                    <p class="text-sm text-[var(--ax-text-secondary)] m-0">
                      ใช้ใน component styles
                    </p>
                    <code
                      class="text-xs p-2 bg-[var(--ax-background-subtle)] rounded"
                      >color: var(--ax-brand-default);</code
                    >
                    <span class="text-xs text-[var(--ax-text-subtle)]"
                      >สำหรับ custom components</span
                    >
                  </div>
                </div>

                <!-- Tailwind Color Mapping -->
                <div
                  class="mt-6 p-4 bg-[var(--ax-background-default)] rounded-lg border border-[var(--ax-border-default)]"
                >
                  <h4 class="heading-title-small mb-3">
                    Tailwind Color Classes ที่ใช้ได้:
                  </h4>
                  <div class="grid grid-cols-2 md:grid-cols-4 gap-3 text-xs">
                    <div>
                      <code
                        class="bg-[var(--ax-background-subtle)] px-2 py-1 rounded"
                        >text-brand</code
                      >
                      → Primary
                    </div>
                    <div>
                      <code
                        class="bg-[var(--ax-background-subtle)] px-2 py-1 rounded"
                        >text-success</code
                      >
                      → Success
                    </div>
                    <div>
                      <code
                        class="bg-[var(--ax-background-subtle)] px-2 py-1 rounded"
                        >text-warning</code
                      >
                      → Warning
                    </div>
                    <div>
                      <code
                        class="bg-[var(--ax-background-subtle)] px-2 py-1 rounded"
                        >text-error</code
                      >
                      → Error
                    </div>
                    <div>
                      <code
                        class="bg-[var(--ax-background-subtle)] px-2 py-1 rounded"
                        >bg-brand-faint</code
                      >
                      → Light bg
                    </div>
                    <div>
                      <code
                        class="bg-[var(--ax-background-subtle)] px-2 py-1 rounded"
                        >border-brand-muted</code
                      >
                      → Border
                    </div>
                    <div>
                      <code
                        class="bg-[var(--ax-background-subtle)] px-2 py-1 rounded"
                        >bg-background-muted</code
                      >
                      → Subtle bg
                    </div>
                    <div>
                      <code
                        class="bg-[var(--ax-background-subtle)] px-2 py-1 rounded"
                        >text-text-secondary</code
                      >
                      → Gray text
                    </div>
                  </div>
                </div>
              </div>

              <div class="flex flex-col gap-4 mt-6">
                @for (token of category.tokens; track token.cssVar) {
                  <div
                    class="flex items-center gap-4 p-4 border border-[var(--ax-border-muted)] rounded-lg hover:bg-[var(--ax-background-subtle)] transition-colors"
                  >
                    <!-- Color Swatch -->
                    @if (category.id === 'colors') {
                      <div
                        class="w-16 h-16 rounded-lg border border-[var(--ax-border-default)] shrink-0 shadow-sm"
                        [style.backgroundColor]="getColorValue(token.cssVar)"
                      ></div>
                    }

                    <!-- Token Info -->
                    <div class="flex-1 min-w-0">
                      <div class="flex items-start justify-between gap-4 mb-2">
                        <h4
                          class="text-base font-semibold text-[var(--ax-text-heading)] m-0"
                        >
                          {{ token.name }}
                        </h4>
                        <mat-chip class="shrink-0 text-xs h-6">{{
                          token.category
                        }}</mat-chip>
                      </div>
                      <p
                        class="text-sm text-[var(--ax-text-secondary)] m-0 mb-3"
                      >
                        {{ token.description }}
                      </p>
                      <div class="flex items-center gap-3 flex-wrap">
                        <code
                          class="text-xs px-3 py-1.5 bg-[var(--ax-background-subtle)] rounded-md border border-[var(--ax-border-muted)]"
                        >
                          {{ token.cssVar }}
                        </code>
                        <code
                          class="text-xs px-3 py-1.5 bg-[var(--ax-background-default)] rounded-md font-mono text-[var(--ax-text-secondary)]"
                        >
                          {{ token.value || 'N/A' }}
                        </code>
                      </div>
                    </div>

                    <!-- Copy Button -->
                    <button
                      mat-icon-button
                      class="shrink-0"
                      (click)="copyToClipboard(token.cssVar)"
                      [matTooltip]="
                        copiedToken === token.cssVar
                          ? 'Copied!'
                          : 'Copy CSS variable'
                      "
                    >
                      <mat-icon class="text-[var(--ax-text-secondary)]">
                        {{
                          copiedToken === token.cssVar
                            ? 'check'
                            : 'content_copy'
                        }}
                      </mat-icon>
                    </button>
                  </div>
                }
              </div>

              <!-- Code Examples for Colors -->
              <div
                class="mt-8 p-6 bg-[var(--ax-background-subtle)] rounded-lg border border-[var(--ax-border-muted)]"
              >
                <h3
                  class="text-base font-semibold text-[var(--ax-text-heading)] mb-5"
                >
                  ตัวอย่างการใช้งานจริง
                </h3>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6">
                  <!-- Tailwind (Recommended) -->
                  <div class="example-code">
                    <h4
                      class="type-title-small text-secondary uppercase tracking-wide mb-3 flex items-center gap-2"
                    >
                      <mat-icon
                        class="text-base text-[var(--ax-success-default)]"
                        >star</mat-icon
                      >
                      Tailwind (แนะนำ)
                    </h4>
                    <pre
                      class="m-0 p-4 rounded-md overflow-x-auto"
                    ><code>&lt;!-- สั้น สะดวก! --&gt;
&lt;div class="
  text-brand
  bg-brand-faint
  border-brand-muted
"&gt;
  Content
&lt;/div&gt;</code></pre>
                  </div>

                  <!-- CSS Variables -->
                  <div class="example-code">
                    <h4
                      class="type-title-small text-secondary uppercase tracking-wide mb-3 flex items-center gap-2"
                    >
                      <mat-icon class="text-base">code</mat-icon>
                      CSS Variables
                    </h4>
                    <pre
                      class="m-0 p-4 rounded-md overflow-x-auto"
                    ><code>&lt;div style="
  color: var(--ax-brand-default);
  background: var(--ax-brand-faint);
"&gt;
  Content
&lt;/div&gt;</code></pre>
                  </div>

                  <!-- SCSS -->
                  <div class="example-code">
                    <h4
                      class="type-title-small text-secondary uppercase tracking-wide mb-3 flex items-center gap-2"
                    >
                      <mat-icon class="text-base">palette</mat-icon>
                      SCSS
                    </h4>
                    <pre
                      class="m-0 p-4 rounded-md overflow-x-auto"
                    ><code>.card &#123;
  color: var(--ax-brand-default);
  background: var(--ax-brand-faint);
  border: 1px solid var(--ax-brand-muted);
&#125;</code></pre>
                  </div>
                </div>

                <!-- Live Preview -->
                <div
                  class="p-6 bg-[var(--ax-background-default)] rounded-lg border border-[var(--ax-border-default)]"
                >
                  <h4
                    class="type-title-small text-secondary uppercase tracking-wide mb-4"
                  >
                    Live Preview
                  </h4>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Tailwind Example -->
                    <div
                      class="text-brand bg-brand-faint border border-brand-muted rounded-lg p-4"
                    >
                      <p class="font-semibold mb-2">Tailwind Classes</p>
                      <p class="text-sm text-text-secondary m-0">
                        Using
                        <code class="text-xs bg-background-muted px-1 rounded"
                          >text-brand bg-brand-faint</code
                        >
                      </p>
                    </div>
                    <!-- Success Example -->
                    <div
                      class="text-success bg-success-faint border border-success-muted rounded-lg p-4"
                    >
                      <p class="font-semibold mb-2">Success Colors</p>
                      <p class="text-sm text-text-secondary m-0">
                        Using
                        <code class="text-xs bg-background-muted px-1 rounded"
                          >text-success bg-success-faint</code
                        >
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            }

            <!-- Typography Section -->
            @if (category.id === 'typography') {
              <!-- Typography Usage Guide -->
              <div
                class="p-6 mb-6 bg-[var(--ax-background-subtle)] rounded-lg border-l-4 border-[var(--ax-brand-default)]"
              >
                <h3
                  class="flex items-center gap-2 text-lg font-semibold text-[var(--ax-text-heading)] mb-4"
                >
                  <mat-icon class="text-[var(--ax-brand-default)]"
                    >lightbulb</mat-icon
                  >
                  วิธีใช้งาน Typography (3 แบบ)
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                  <!-- Method 1: CSS Variables -->
                  <div
                    class="flex flex-col gap-3 p-4 bg-[var(--ax-background-default)] rounded-md border border-[var(--ax-border-default)]"
                  >
                    <div class="flex items-center gap-2">
                      <mat-icon
                        class="text-base text-[var(--ax-success-default)]"
                        >check_circle</mat-icon
                      >
                      <span class="font-semibold text-[var(--ax-text-heading)]"
                        >1. CSS Variables</span
                      >
                    </div>
                    <p class="text-sm text-[var(--ax-text-secondary)] m-0">
                      ใช้ token โดยตรง (ทำงานทุกที่)
                    </p>
                    <code
                      class="text-xs p-2 bg-[var(--ax-background-subtle)] rounded"
                      >style="font-size: var(--ax-text-lg)"</code
                    >
                  </div>

                  <!-- Method 2: Tailwind Utilities -->
                  <div
                    class="flex flex-col gap-3 p-4 bg-[var(--ax-background-default)] rounded-md border border-[var(--ax-border-default)]"
                  >
                    <div class="flex items-center gap-2">
                      <mat-icon
                        class="text-base text-[var(--ax-success-default)]"
                        >check_circle</mat-icon
                      >
                      <span class="font-semibold text-[var(--ax-text-heading)]"
                        >2. Tailwind Classes</span
                      >
                    </div>
                    <p class="text-sm text-[var(--ax-text-secondary)] m-0">
                      ใช้ utility classes (สะดวกที่สุด)
                    </p>
                    <code
                      class="text-xs p-2 bg-[var(--ax-background-subtle)] rounded"
                      >class="text-lg font-semibold"</code
                    >
                  </div>

                  <!-- Method 3: Material Typography -->
                  <div
                    class="flex flex-col gap-3 p-4 bg-[var(--ax-background-default)] rounded-md border border-[var(--ax-border-default)]"
                  >
                    <div class="flex items-center gap-2">
                      <mat-icon class="text-base text-[var(--ax-info-default)]"
                        >info</mat-icon
                      >
                      <span class="font-semibold text-[var(--ax-text-heading)]"
                        >3. Material Components</span
                      >
                    </div>
                    <p class="text-sm text-[var(--ax-text-secondary)] m-0">
                      ใช้อัตโนมัติใน Material UI
                    </p>
                    <code
                      class="text-xs p-2 bg-[var(--ax-background-subtle)] rounded"
                      >&lt;mat-card-title&gt;</code
                    >
                  </div>
                </div>

                <!-- Token & Tailwind Mapping -->
                <div
                  class="mt-6 p-6 bg-[var(--ax-background-default)] rounded-lg border border-[var(--ax-border-default)]"
                >
                  <h4
                    class="flex items-center gap-2 text-base font-semibold text-[var(--ax-text-heading)] mb-4"
                  >
                    <mat-icon class="text-[var(--ax-brand-default)]"
                      >compare_arrows</mat-icon
                    >
                    ตารางเปรียบเทียบ: AegisX Tokens ↔ Tailwind Classes
                  </h4>
                  <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                      <thead>
                        <tr class="border-b border-[var(--ax-border-default)]">
                          <th
                            class="text-left py-3 px-4 font-semibold text-[var(--ax-text-heading)]"
                          >
                            AegisX Token
                          </th>
                          <th
                            class="text-left py-3 px-4 font-semibold text-[var(--ax-text-heading)]"
                          >
                            Tailwind Class
                          </th>
                          <th
                            class="text-left py-3 px-4 font-semibold text-[var(--ax-text-heading)]"
                          >
                            ค่า
                          </th>
                          <th
                            class="text-left py-3 px-4 font-semibold text-[var(--ax-text-heading)]"
                          >
                            คำแนะนำ
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr class="border-b border-[var(--ax-border-muted)]">
                          <td class="py-3 px-4">
                            <code class="text-xs">--ax-text-xs</code>
                          </td>
                          <td class="py-3 px-4">
                            <code class="text-xs">text-xs</code>
                          </td>
                          <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                            0.75rem (12px)
                          </td>
                          <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                            Labels, captions
                          </td>
                        </tr>
                        <tr class="border-b border-[var(--ax-border-muted)]">
                          <td class="py-3 px-4">
                            <code class="text-xs">--ax-text-base</code>
                          </td>
                          <td class="py-3 px-4">
                            <code class="text-xs">text-base</code>
                          </td>
                          <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                            1rem (16px)
                          </td>
                          <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                            Body text
                          </td>
                        </tr>
                        <tr class="border-b border-[var(--ax-border-muted)]">
                          <td class="py-3 px-4">
                            <code class="text-xs">--ax-text-lg</code>
                          </td>
                          <td class="py-3 px-4">
                            <code class="text-xs">text-lg</code>
                          </td>
                          <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                            1.125rem (18px)
                          </td>
                          <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                            Large body, subtitles
                          </td>
                        </tr>
                        <tr class="border-b border-[var(--ax-border-muted)]">
                          <td class="py-3 px-4">
                            <code class="text-xs">--ax-text-2xl</code>
                          </td>
                          <td class="py-3 px-4">
                            <code class="text-xs">text-2xl</code>
                          </td>
                          <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                            1.5rem (24px)
                          </td>
                          <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                            Section headings
                          </td>
                        </tr>
                        <tr class="border-b border-[var(--ax-border-muted)]">
                          <td class="py-3 px-4">
                            <code class="text-xs">--ax-font-normal</code>
                          </td>
                          <td class="py-3 px-4">
                            <code class="text-xs">font-normal</code>
                          </td>
                          <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                            400
                          </td>
                          <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                            Regular text
                          </td>
                        </tr>
                        <tr class="border-b border-[var(--ax-border-muted)]">
                          <td class="py-3 px-4">
                            <code class="text-xs">--ax-font-semibold</code>
                          </td>
                          <td class="py-3 px-4">
                            <code class="text-xs">font-semibold</code>
                          </td>
                          <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                            600
                          </td>
                          <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                            Emphasized text
                          </td>
                        </tr>
                        <tr>
                          <td class="py-3 px-4">
                            <code class="text-xs">--ax-leading-relaxed</code>
                          </td>
                          <td class="py-3 px-4">
                            <code class="text-xs">leading-relaxed</code>
                          </td>
                          <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                            1.75
                          </td>
                          <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                            Readable paragraphs
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>

                <!-- Important Note -->
                <div
                  class="mt-4 p-4 bg-[var(--ax-warning-faint)] border border-[var(--ax-warning-muted)] rounded-md"
                >
                  <div class="flex items-start gap-2">
                    <mat-icon
                      class="text-[var(--ax-warning-default)] text-base mt-0.5"
                      >warning</mat-icon
                    >
                    <div class="flex-1">
                      <strong
                        class="block text-sm font-semibold text-[var(--ax-text-heading)] mb-1"
                        >หมายเหตุสำคัญ</strong
                      >
                      <p class="text-sm text-[var(--ax-text-secondary)] m-0">
                        เราไม่ใช้
                        <code class="text-xs px-1 bg-white rounded"
                          >&#64;tailwind base;</code
                        >
                        เพราะทำให้ Angular Material forms พัง → ใช้ Tailwind
                        utilities (<code class="text-xs px-1 bg-white rounded"
                          >text-*</code
                        >,
                        <code class="text-xs px-1 bg-white rounded">font-*</code
                        >) ได้ปกติ แต่ไม่มี base typography reset
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="flex flex-col gap-4 mt-6">
                @for (token of category.tokens; track token.cssVar) {
                  <div
                    class="flex items-center gap-6 p-6 border border-[var(--ax-border-muted)] rounded-lg bg-[var(--ax-background-default)] hover:shadow-md transition-shadow"
                  >
                    <div class="flex-1">
                      @if (token.category === 'font-size') {
                        <span
                          class="block text-[var(--ax-text-primary)]"
                          [style.fontSize]="getColorValue(token.cssVar)"
                          >The quick brown fox jumps</span
                        >
                      }
                      @if (token.category === 'font-weight') {
                        <span
                          class="block text-base text-[var(--ax-text-primary)]"
                          [style.fontWeight]="getColorValue(token.cssVar)"
                          >The quick brown fox jumps</span
                        >
                      }
                      @if (token.category === 'line-height') {
                        <span
                          class="block text-base text-[var(--ax-text-primary)]"
                          [style.lineHeight]="getColorValue(token.cssVar)"
                          >The quick brown fox jumps over the lazy dog. This is
                          a multi-line sample to demonstrate line height.</span
                        >
                      }
                    </div>
                    <div class="flex flex-col gap-2 min-w-[300px]">
                      <h4
                        class="text-base font-semibold text-[var(--ax-text-heading)] m-0"
                      >
                        {{ token.name }}
                      </h4>
                      <div class="flex items-center gap-2">
                        <code class="flex-1 text-sm px-3 py-2 rounded-md">{{
                          token.cssVar
                        }}</code>
                        <button
                          mat-icon-button
                          class="w-8 h-8 shrink-0"
                          (click)="copyToClipboard(token.cssVar)"
                          [matTooltip]="
                            copiedToken === token.cssVar
                              ? 'Copied!'
                              : 'Copy CSS variable'
                          "
                        >
                          <mat-icon
                            class="text-base text-[var(--ax-text-secondary)]"
                            >{{
                              copiedToken === token.cssVar
                                ? 'check'
                                : 'content_copy'
                            }}</mat-icon
                          >
                        </button>
                      </div>
                      <p class="text-sm text-[var(--ax-text-secondary)] m-0">
                        {{ token.description }}
                      </p>
                    </div>
                  </div>
                }
              </div>

              <!-- Code Examples for Typography -->
              <div
                class="mt-8 p-6 bg-[var(--ax-background-subtle)] rounded-lg border border-[var(--ax-border-muted)]"
              >
                <h3
                  class="text-base font-semibold text-[var(--ax-text-heading)] mb-5"
                >
                  ตัวอย่างการใช้งานจริง
                </h3>

                <!-- Example Tabs -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6">
                  <!-- Method 1: CSS Variables -->
                  <div class="example-code">
                    <h4
                      class="type-title-small text-secondary uppercase tracking-wide mb-3 flex items-center gap-2"
                    >
                      <mat-icon class="text-base">code</mat-icon>
                      CSS Variables
                    </h4>
                    <pre
                      class="m-0 p-4 rounded-md overflow-x-auto"
                    ><code>&lt;h1 style="
  font-size: var(--ax-text-4xl);
  font-weight: var(--ax-font-bold);
  line-height: var(--ax-leading-tight);
"&gt;
  Heading
&lt;/h1&gt;</code></pre>
                  </div>

                  <!-- Method 2: Tailwind Utilities -->
                  <div class="example-code">
                    <h4
                      class="type-title-small text-secondary uppercase tracking-wide mb-3 flex items-center gap-2"
                    >
                      <mat-icon class="text-base">code</mat-icon>
                      Tailwind Classes
                    </h4>
                    <pre
                      class="m-0 p-4 rounded-md overflow-x-auto"
                    ><code>&lt;h1 class="
  text-4xl
  font-bold
  leading-tight
"&gt;
  Heading
&lt;/h1&gt;</code></pre>
                  </div>

                  <!-- Method 3: SCSS -->
                  <div class="example-code">
                    <h4
                      class="type-title-small text-secondary uppercase tracking-wide mb-3 flex items-center gap-2"
                    >
                      <mat-icon class="text-base">code</mat-icon>
                      SCSS (Component)
                    </h4>
                    <pre
                      class="m-0 p-4 rounded-md overflow-x-auto"
                    ><code>.heading &#123;
  font-size: var(--ax-text-4xl);
  font-weight: var(--ax-font-bold);
  line-height: var(--ax-leading-tight);
&#125;</code></pre>
                  </div>
                </div>

                <!-- Real Usage Example -->
                <div
                  class="p-6 bg-[var(--ax-background-default)] rounded-lg border border-[var(--ax-border-default)]"
                >
                  <h4
                    class="type-title-small text-secondary uppercase tracking-wide mb-4"
                  >
                    Live Preview
                  </h4>
                  <div class="space-y-4">
                    <!-- CSS Variable Example -->
                    <div>
                      <span
                        class="text-xs text-[var(--ax-text-subtle)] block mb-2"
                        >CSS Variable:</span
                      >
                      <h2
                        style="
                          font-size: var(--ax-text-2xl);
                          font-weight: var(--ax-font-semibold);
                          line-height: var(--ax-leading-tight);
                        "
                        class="text-[var(--ax-text-heading)] m-0"
                      >
                        Modern Design System
                      </h2>
                    </div>
                    <!-- Tailwind Example -->
                    <div>
                      <span
                        class="text-xs text-[var(--ax-text-subtle)] block mb-2"
                        >Tailwind Classes:</span
                      >
                      <p
                        class="text-base font-normal leading-relaxed text-[var(--ax-text-primary)] m-0"
                      >
                        Build consistent, accessible user interfaces with our
                        typography system powered by Material Design 3 and
                        Tailwind CSS.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            }

            <!-- Spacing Section -->
            @if (category.id === 'spacing') {
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-6">
                @for (token of category.tokens; track token.cssVar) {
                  <div
                    class="flex flex-col gap-4 p-6 border border-[var(--ax-border-muted)] rounded-lg bg-[var(--ax-background-default)] hover:shadow-md transition-shadow"
                  >
                    <div class="flex items-center gap-4">
                      <div
                        class="flex-1 h-12 bg-[var(--ax-background-muted)] rounded flex items-center"
                      >
                        <div
                          class="h-full bg-[var(--ax-brand-default)] rounded"
                          [style.width]="getColorValue(token.cssVar)"
                        ></div>
                      </div>
                      <span
                        class="text-sm font-mono font-semibold text-[var(--ax-text-primary)] min-w-[60px] text-right"
                        >{{ getColorValue(token.cssVar) }}</span
                      >
                    </div>
                    <div class="flex flex-col gap-2">
                      <h4
                        class="text-base font-semibold text-[var(--ax-text-heading)] m-0"
                      >
                        {{ token.name }}
                      </h4>
                      <div class="flex items-center gap-2">
                        <code class="flex-1 text-sm px-3 py-2 rounded-md">{{
                          token.cssVar
                        }}</code>
                        <button
                          mat-icon-button
                          class="w-8 h-8 shrink-0"
                          (click)="copyToClipboard(token.cssVar)"
                          [matTooltip]="
                            copiedToken === token.cssVar
                              ? 'Copied!'
                              : 'Copy CSS variable'
                          "
                        >
                          <mat-icon
                            class="text-base text-[var(--ax-text-secondary)]"
                            >{{
                              copiedToken === token.cssVar
                                ? 'check'
                                : 'content_copy'
                            }}</mat-icon
                          >
                        </button>
                      </div>
                      <p class="text-sm text-[var(--ax-text-secondary)] m-0">
                        {{ token.description }}
                      </p>
                    </div>
                  </div>
                }
              </div>

              <!-- Code Examples for Spacing -->
              <div
                class="mt-8 p-6 bg-[var(--ax-background-subtle)] rounded-lg border border-[var(--ax-border-muted)]"
              >
                <h3
                  class="text-base font-semibold text-[var(--ax-text-heading)] mb-5"
                >
                  Usage Examples
                </h3>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                  <div class="example-code">
                    <h4
                      class="type-title-small text-secondary uppercase tracking-wide mb-3"
                    >
                      HTML
                    </h4>
                    <pre
                      class="m-0 p-4 rounded-md overflow-x-auto"
                    ><code>&lt;div style="padding: var(--ax-spacing-md); margin: var(--ax-spacing-lg)"&gt;
  Content
&lt;/div&gt;</code></pre>
                  </div>
                  <div class="example-code">
                    <h4
                      class="type-title-small text-secondary uppercase tracking-wide mb-3"
                    >
                      SCSS
                    </h4>
                    <pre
                      class="m-0 p-4 rounded-md overflow-x-auto"
                    ><code>.card &#123;
  padding: var(--ax-spacing-md);
  margin-bottom: var(--ax-spacing-lg);
&#125;</code></pre>
                  </div>
                </div>
              </div>
            }

            <!-- Components Section -->
            @if (category.id === 'components') {
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-6">
                @for (token of category.tokens; track token.cssVar) {
                  <div
                    class="flex flex-col gap-4 p-6 border border-[var(--ax-border-muted)] rounded-lg bg-[var(--ax-background-default)] hover:shadow-md transition-shadow"
                  >
                    <!-- Visual Demo based on token type -->
                    @if (token.category === 'radius') {
                      <div
                        class="flex items-center justify-center p-6 bg-[var(--ax-background-muted)] rounded"
                      >
                        <div
                          class="w-20 h-20 bg-[var(--ax-brand-default)]"
                          [style.borderRadius]="getColorValue(token.cssVar)"
                        ></div>
                      </div>
                    }
                    @if (token.category === 'shadow') {
                      <div
                        class="flex items-center justify-center p-6 bg-[var(--ax-background-muted)] rounded"
                      >
                        <div
                          class="w-20 h-20 bg-[var(--ax-background-default)]"
                          [style.boxShadow]="getColorValue(token.cssVar)"
                        ></div>
                      </div>
                    }
                    @if (token.category === 'border-width') {
                      <div
                        class="flex items-center justify-center p-6 bg-[var(--ax-background-muted)] rounded"
                      >
                        <div
                          class="w-20 h-20 bg-[var(--ax-background-default)] border-[var(--ax-border-default)]"
                          style="border-style: solid"
                          [style.borderWidth]="getColorValue(token.cssVar)"
                        ></div>
                      </div>
                    }
                    @if (token.category === 'transition') {
                      <div
                        class="flex items-center justify-center p-6 bg-[var(--ax-background-muted)] rounded"
                      >
                        <div
                          class="w-20 h-20 bg-[var(--ax-brand-default)] rounded-md hover:scale-110 cursor-pointer"
                          [style.transition]="
                            'all ' + getColorValue(token.cssVar) + ' ease'
                          "
                        ></div>
                      </div>
                    }

                    <div class="flex flex-col gap-2">
                      <h4
                        class="text-base font-semibold text-[var(--ax-text-heading)] m-0"
                      >
                        {{ token.name }}
                      </h4>
                      <div class="flex items-center gap-2">
                        <code class="flex-1 text-sm px-3 py-2 rounded-md">{{
                          token.cssVar
                        }}</code>
                        <button
                          mat-icon-button
                          class="w-8 h-8 shrink-0"
                          (click)="copyToClipboard(token.cssVar)"
                          [matTooltip]="
                            copiedToken === token.cssVar
                              ? 'Copied!'
                              : 'Copy CSS variable'
                          "
                        >
                          <mat-icon
                            class="text-base text-[var(--ax-text-secondary)]"
                            >{{
                              copiedToken === token.cssVar
                                ? 'check'
                                : 'content_copy'
                            }}</mat-icon
                          >
                        </button>
                      </div>
                      <p class="text-sm text-[var(--ax-text-secondary)] m-0">
                        {{ token.description }}
                      </p>
                      <mat-chip class="self-start text-xs h-6 border">{{
                        token.category
                      }}</mat-chip>
                    </div>
                  </div>
                }
              </div>

              <!-- Code Examples for Components -->
              <div
                class="mt-8 p-6 bg-[var(--ax-background-subtle)] rounded-lg border border-[var(--ax-border-muted)]"
              >
                <h3
                  class="text-base font-semibold text-[var(--ax-text-heading)] mb-5"
                >
                  Usage Examples
                </h3>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                  <div class="example-code">
                    <h4
                      class="type-title-small text-secondary uppercase tracking-wide mb-3"
                    >
                      HTML
                    </h4>
                    <pre
                      class="m-0 p-4 rounded-md overflow-x-auto"
                    ><code>&lt;button style="border-radius: var(--ax-radius-lg); box-shadow: var(--ax-shadow-md)"&gt;
  Button
&lt;/button&gt;</code></pre>
                  </div>
                  <div class="example-code">
                    <h4
                      class="type-title-small text-secondary uppercase tracking-wide mb-3"
                    >
                      SCSS
                    </h4>
                    <pre
                      class="m-0 p-4 rounded-md overflow-x-auto"
                    ><code>.button &#123;
  border-radius: var(--ax-radius-lg);
  box-shadow: var(--ax-shadow-md);
  transition: all var(--ax-transition-base);
&#125;</code></pre>
                  </div>
                </div>
              </div>
            }

            <!-- Layout Section -->
            @if (category.id === 'layout') {
              <div class="flex flex-col gap-4 mt-6">
                @for (token of category.tokens; track token.cssVar) {
                  <div
                    class="flex items-center gap-6 p-6 border border-[var(--ax-border-muted)] rounded-lg bg-[var(--ax-background-default)] hover:shadow-md transition-shadow"
                  >
                    <div class="flex-1 flex flex-col gap-2">
                      <h4
                        class="text-base font-semibold text-[var(--ax-text-heading)] m-0"
                      >
                        {{ token.name }}
                      </h4>
                      <div class="flex items-center gap-2">
                        <code class="flex-1 text-sm px-3 py-2 rounded-md">{{
                          token.cssVar
                        }}</code>
                        <button
                          mat-icon-button
                          class="w-8 h-8 shrink-0"
                          (click)="copyToClipboard(token.cssVar)"
                          [matTooltip]="
                            copiedToken === token.cssVar
                              ? 'Copied!'
                              : 'Copy CSS variable'
                          "
                        >
                          <mat-icon
                            class="text-base text-[var(--ax-text-secondary)]"
                            >{{
                              copiedToken === token.cssVar
                                ? 'check'
                                : 'content_copy'
                            }}</mat-icon
                          >
                        </button>
                      </div>
                      <p class="text-sm text-[var(--ax-text-secondary)] m-0">
                        {{ token.description }}
                      </p>
                    </div>
                    <div class="shrink-0">
                      <mat-chip class="text-xs h-6 border">{{
                        token.category
                      }}</mat-chip>
                    </div>
                  </div>
                }
              </div>

              <!-- Code Examples for Layout -->
              <div
                class="mt-8 p-6 bg-[var(--ax-background-subtle)] rounded-lg border border-[var(--ax-border-muted)]"
              >
                <h3
                  class="text-base font-semibold text-[var(--ax-text-heading)] mb-5"
                >
                  Usage Examples
                </h3>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                  <div class="example-code">
                    <h4
                      class="type-title-small text-secondary uppercase tracking-wide mb-3"
                    >
                      HTML
                    </h4>
                    <pre
                      class="m-0 p-4 rounded-md overflow-x-auto"
                    ><code>&lt;div class="container" style="max-width: var(--ax-container-lg)"&gt;
  Content
&lt;/div&gt;</code></pre>
                  </div>
                  <div class="example-code">
                    <h4
                      class="type-title-small text-secondary uppercase tracking-wide mb-3"
                    >
                      SCSS
                    </h4>
                    <pre
                      class="m-0 p-4 rounded-md overflow-x-auto"
                    ><code>.container &#123;
  max-width: var(--ax-container-lg);

  &#64;media (min-width: var(--ax-breakpoint-md)) &#123;
    padding: var(--ax-spacing-xl);
  &#125;
&#125;</code></pre>
                  </div>
                </div>
              </div>
            }

            <!-- Effects Section -->
            @if (category.id === 'effects') {
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-6">
                @for (token of category.tokens; track token.cssVar) {
                  <div
                    class="flex flex-col gap-4 p-6 border border-[var(--ax-border-muted)] rounded-lg bg-[var(--ax-background-default)] hover:shadow-md transition-shadow"
                  >
                    <!-- Visual Demo based on token type -->
                    @if (token.category === 'z-index') {
                      <div
                        class="flex items-center justify-center p-6 bg-[var(--ax-background-muted)] rounded relative h-32"
                      >
                        <div
                          class="absolute inset-0 flex items-center justify-center"
                        >
                          <div
                            class="w-16 h-16 bg-[var(--ax-background-subtle)] border border-[var(--ax-border-default)] rounded-md flex items-center justify-center"
                          >
                            <span class="text-xs text-[var(--ax-text-subtle)]"
                              >Base</span
                            >
                          </div>
                        </div>
                        <div
                          class="absolute flex items-center justify-center"
                          [style.z-index]="getColorValue(token.cssVar)"
                        >
                          <div
                            class="w-16 h-16 bg-[var(--ax-brand-default)] border border-[var(--ax-brand-emphasis)] rounded-md shadow-lg flex items-center justify-center"
                          >
                            <span class="text-xs text-white font-semibold"
                              >Layer</span
                            >
                          </div>
                        </div>
                      </div>
                    }
                    @if (token.category === 'opacity') {
                      <div
                        class="flex items-center justify-center p-6 bg-[var(--ax-background-muted)] rounded"
                      >
                        <div
                          class="w-20 h-20 bg-[var(--ax-brand-default)] rounded-md"
                          [style.opacity]="getColorValue(token.cssVar)"
                        ></div>
                      </div>
                    }
                    @if (token.category === 'focus-ring') {
                      <div
                        class="flex items-center justify-center p-6 bg-[var(--ax-background-muted)] rounded"
                      >
                        <button
                          class="px-6 py-3 bg-[var(--ax-brand-default)] text-white rounded-md hover:bg-[var(--ax-brand-emphasis)] transition-colors focus:outline focus:outline-2 focus:outline-[var(--ax-brand-default)] focus:outline-offset-2"
                        >
                          Focusable Button
                        </button>
                      </div>
                    }

                    <div class="flex flex-col gap-2">
                      <h4
                        class="text-base font-semibold text-[var(--ax-text-heading)] m-0"
                      >
                        {{ token.name }}
                      </h4>
                      <div class="flex items-center gap-2">
                        <code class="flex-1 text-sm px-3 py-2 rounded-md">{{
                          token.cssVar
                        }}</code>
                        <button
                          mat-icon-button
                          class="w-8 h-8 shrink-0"
                          (click)="copyToClipboard(token.cssVar)"
                          [matTooltip]="
                            copiedToken === token.cssVar
                              ? 'Copied!'
                              : 'Copy CSS variable'
                          "
                        >
                          <mat-icon
                            class="text-base text-[var(--ax-text-secondary)]"
                            >{{
                              copiedToken === token.cssVar
                                ? 'check'
                                : 'content_copy'
                            }}</mat-icon
                          >
                        </button>
                      </div>
                      <p class="text-sm text-[var(--ax-text-secondary)] m-0">
                        {{ token.description }}
                      </p>
                      <mat-chip class="self-start text-xs h-6 border">{{
                        token.category
                      }}</mat-chip>
                    </div>
                  </div>
                }
              </div>

              <!-- Code Examples for Effects -->
              <div
                class="mt-8 p-6 bg-[var(--ax-background-subtle)] rounded-lg border border-[var(--ax-border-muted)]"
              >
                <h3
                  class="text-base font-semibold text-[var(--ax-text-heading)] mb-5"
                >
                  Usage Examples
                </h3>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                  <div class="example-code">
                    <h4
                      class="type-title-small text-secondary uppercase tracking-wide mb-3"
                    >
                      HTML
                    </h4>
                    <pre
                      class="m-0 p-4 rounded-md overflow-x-auto"
                    ><code>&lt;div class="modal" style="z-index: var(--ax-z-modal)"&gt;
  Modal Content
&lt;/div&gt;</code></pre>
                  </div>
                  <div class="example-code">
                    <h4
                      class="type-title-small text-secondary uppercase tracking-wide mb-3"
                    >
                      SCSS
                    </h4>
                    <pre
                      class="m-0 p-4 rounded-md overflow-x-auto"
                    ><code>.button &#123;
  &:focus &#123;
    outline: var(--ax-focus-ring-width) solid var(--ax-focus-ring-color);
    outline-offset: var(--ax-focus-ring-offset);
    opacity: var(--ax-opacity-hover);
  &#125;
&#125;</code></pre>
                  </div>
                </div>
              </div>
            }
          </mat-card-content>
        </mat-card>
      </section>
    }

    @if (filteredCategories.length === 0) {
      <div class="no-results">
        <mat-icon class="no-results-icon">search_off</mat-icon>
        <h3>No tokens found</h3>
        <p>Try adjusting your search query</p>
      </div>
    }
  </div>

  <!-- Migration Guide -->
  <section id="migration" class="mt-12 scroll-mt-8">
    <div class="section-header mb-6">
      <h2 class="text-2xl font-semibold text-[var(--ax-text-heading)] mb-2">
        Migration from Legacy Names
      </h2>
      <p class="text-[var(--ax-text-secondary)]">
        Deprecated tokens that still work but should be migrated to new semantic
        names.
      </p>
    </div>

    <mat-card appearance="outlined">
      <mat-card-content>
        <div class="overflow-x-auto">
          <table class="w-full text-sm">
            <thead>
              <tr class="border-b-2 border-[var(--ax-border-default)]">
                <th
                  class="text-left py-3 px-4 font-semibold text-[var(--ax-text-heading)]"
                >
                  ❌ Old (Deprecated)
                </th>
                <th
                  class="text-left py-3 px-4 font-semibold text-[var(--ax-text-heading)]"
                >
                  ✅ New (Recommended)
                </th>
                <th
                  class="text-left py-3 px-4 font-semibold text-[var(--ax-text-heading)]"
                >
                  Usage
                </th>
              </tr>
            </thead>
            <tbody>
              <tr
                class="border-b border-[var(--ax-border-default)] hover:bg-[var(--ax-background-subtle)]"
              >
                <td class="py-3 px-4">
                  <code
                    class="text-xs bg-[var(--ax-warning-faint)] text-[var(--ax-warning-default)] px-2 py-1 rounded"
                    >--ax-text-strong</code
                  >
                </td>
                <td class="py-3 px-4">
                  <code
                    class="text-xs bg-[var(--ax-success-faint)] text-[var(--ax-success-default)] px-2 py-1 rounded"
                    >--ax-text-heading</code
                  >
                </td>
                <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                  Main headings (H1, H2)
                </td>
              </tr>
              <tr
                class="border-b border-[var(--ax-border-default)] hover:bg-[var(--ax-background-subtle)]"
              >
                <td class="py-3 px-4">
                  <code
                    class="text-xs bg-[var(--ax-warning-faint)] text-[var(--ax-warning-default)] px-2 py-1 rounded"
                    >--ax-text-body</code
                  >
                </td>
                <td class="py-3 px-4">
                  <code
                    class="text-xs bg-[var(--ax-success-faint)] text-[var(--ax-success-default)] px-2 py-1 rounded"
                    >--ax-text-primary</code
                  >
                </td>
                <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                  Body text, paragraphs
                </td>
              </tr>
              <tr
                class="border-b border-[var(--ax-border-default)] hover:bg-[var(--ax-background-subtle)]"
              >
                <td class="py-3 px-4">
                  <code
                    class="text-xs bg-[var(--ax-warning-faint)] text-[var(--ax-warning-default)] px-2 py-1 rounded"
                    >--ax-text-label</code
                  >
                </td>
                <td class="py-3 px-4">
                  <code
                    class="text-xs bg-[var(--ax-success-faint)] text-[var(--ax-success-default)] px-2 py-1 rounded"
                    >--ax-text-secondary</code
                  >
                </td>
                <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                  Labels, descriptions
                </td>
              </tr>
              <tr
                class="border-b border-[var(--ax-border-default)] hover:bg-[var(--ax-background-subtle)]"
              >
                <td class="py-3 px-4">
                  <code
                    class="text-xs bg-[var(--ax-warning-faint)] text-[var(--ax-warning-default)] px-2 py-1 rounded"
                    >--ax-text-hint</code
                  >
                </td>
                <td class="py-3 px-4">
                  <code
                    class="text-xs bg-[var(--ax-success-faint)] text-[var(--ax-success-default)] px-2 py-1 rounded"
                    >--ax-text-subtle</code
                  >
                </td>
                <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                  Hints, placeholders
                </td>
              </tr>
              <tr
                class="border-b border-[var(--ax-border-default)] hover:bg-[var(--ax-background-subtle)]"
              >
                <td class="py-3 px-4">
                  <code
                    class="text-xs bg-[var(--ax-warning-faint)] text-[var(--ax-warning-default)] px-2 py-1 rounded"
                    >--ax-background-default</code
                  >
                </td>
                <td class="py-3 px-4">
                  <code
                    class="text-xs bg-[var(--ax-success-faint)] text-[var(--ax-success-default)] px-2 py-1 rounded"
                    >--ax-background-subtle</code
                  >
                </td>
                <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                  Page background
                </td>
              </tr>
              <tr
                class="border-b border-[var(--ax-border-default)] hover:bg-[var(--ax-background-subtle)]"
              >
                <td class="py-3 px-4">
                  <code
                    class="text-xs bg-[var(--ax-warning-faint)] text-[var(--ax-warning-default)] px-2 py-1 rounded"
                    >--ax-background-emphasis</code
                  >
                </td>
                <td class="py-3 px-4">
                  <code
                    class="text-xs bg-[var(--ax-success-faint)] text-[var(--ax-success-default)] px-2 py-1 rounded"
                    >--ax-background-default</code
                  >
                </td>
                <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                  Card background
                </td>
              </tr>
              <tr
                class="border-b border-[var(--ax-border-default)] hover:bg-[var(--ax-background-subtle)]"
              >
                <td class="py-3 px-4">
                  <code
                    class="text-xs bg-[var(--ax-warning-faint)] text-[var(--ax-warning-default)] px-2 py-1 rounded"
                    >--ax-background-muted</code
                  >
                </td>
                <td class="py-3 px-4">
                  <code
                    class="text-xs bg-[var(--ax-success-faint)] text-[var(--ax-success-default)] px-2 py-1 rounded"
                    >--ax-background-default-hover</code
                  >
                </td>
                <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                  Card hover state
                </td>
              </tr>
              <tr
                class="border-b border-[var(--ax-border-default)] hover:bg-[var(--ax-background-subtle)]"
              >
                <td class="py-3 px-4">
                  <code
                    class="text-xs bg-[var(--ax-warning-faint)] text-[var(--ax-warning-default)] px-2 py-1 rounded"
                    >--ax-border-default</code
                  >
                </td>
                <td class="py-3 px-4">
                  <code
                    class="text-xs bg-[var(--ax-success-faint)] text-[var(--ax-success-default)] px-2 py-1 rounded"
                    >--ax-border-default</code
                  >
                </td>
                <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                  Default borders
                </td>
              </tr>
              <tr class="hover:bg-[var(--ax-background-subtle)]">
                <td class="py-3 px-4">
                  <code
                    class="text-xs bg-[var(--ax-warning-faint)] text-[var(--ax-warning-default)] px-2 py-1 rounded"
                    >--ax-border-emphasis</code
                  >
                </td>
                <td class="py-3 px-4">
                  <code
                    class="text-xs bg-[var(--ax-success-faint)] text-[var(--ax-success-default)] px-2 py-1 rounded"
                    >--ax-border-default</code
                  >
                </td>
                <td class="py-3 px-4 text-[var(--ax-text-secondary)]">
                  Emphasized borders
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div
          class="mt-6 p-4 bg-[var(--ax-info-faint)] border border-[var(--ax-info-muted)] rounded-lg"
        >
          <div class="flex items-start gap-3">
            <mat-icon class="text-[var(--ax-info-default)] text-xl mt-0.5"
              >info</mat-icon
            >
            <div class="flex-1">
              <h4 class="heading-title-small mb-2">Migration Strategy</h4>
              <ul
                class="text-sm text-[var(--ax-text-secondary)] space-y-1 m-0 pl-4"
              >
                <li>Old tokens still work but will be removed in v2.0</li>
                <li>Use find & replace to update all instances</li>
                <li>New names are more semantic and self-documenting</li>
                <li>Automated migration tool coming soon</li>
              </ul>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </section>

  <!-- Best Practices -->
  <section id="best-practices" class="mt-12 mb-8 scroll-mt-8">
    <div class="section-header mb-6">
      <h2 class="text-2xl font-semibold text-[var(--ax-text-heading)] mb-2">
        Best Practices
      </h2>
      <p class="text-[var(--ax-text-secondary)]">
        Guidelines for using design tokens effectively across your application.
      </p>
    </div>

    <div class="grid md:grid-cols-2 gap-6">
      <!-- DO Section -->
      <mat-card
        appearance="outlined"
        class="border-l-4 border-[var(--ax-success-default)]"
      >
        <mat-card-content class="p-6">
          <h3
            class="flex items-center gap-2 text-lg font-semibold text-[var(--ax-text-heading)] mb-4"
          >
            <mat-icon class="text-[var(--ax-success-default)]"
              >check_circle</mat-icon
            >
            DO - Best Practices
          </h3>
          <ul class="space-y-3 m-0 pl-0 list-none">
            <li class="flex items-start gap-3">
              <mat-icon class="text-[var(--ax-success-default)] text-xl mt-0.5"
                >check</mat-icon
              >
              <span class="text-sm text-[var(--ax-text-primary)]">
                Use <strong>semantic token names</strong> based on purpose
                (<code class="text-xs">--ax-text-heading</code>)
              </span>
            </li>
            <li class="flex items-start gap-3">
              <mat-icon class="text-[var(--ax-success-default)] text-xl mt-0.5"
                >check</mat-icon
              >
              <span class="text-sm text-[var(--ax-text-primary)]">
                Prefer <strong>Tailwind utility classes</strong> for faster
                development and autocomplete
              </span>
            </li>
            <li class="flex items-start gap-3">
              <mat-icon class="text-[var(--ax-success-default)] text-xl mt-0.5"
                >check</mat-icon
              >
              <span class="text-sm text-[var(--ax-text-primary)]">
                Use tokens for
                <strong>all colors, spacing, and typography</strong> for
                consistency
              </span>
            </li>
            <li class="flex items-start gap-3">
              <mat-icon class="text-[var(--ax-success-default)] text-xl mt-0.5"
                >check</mat-icon
              >
              <span class="text-sm text-[var(--ax-text-primary)]">
                Test components in both
                <strong>light and dark themes</strong> during development
              </span>
            </li>
            <li class="flex items-start gap-3">
              <mat-icon class="text-[var(--ax-success-default)] text-xl mt-0.5"
                >check</mat-icon
              >
              <span class="text-sm text-[var(--ax-text-primary)]">
                Use the <strong>search function above</strong> to quickly find
                the right token
              </span>
            </li>
            <li class="flex items-start gap-3">
              <mat-icon class="text-[var(--ax-success-default)] text-xl mt-0.5"
                >check</mat-icon
              >
              <span class="text-sm text-[var(--ax-text-primary)]">
                Follow the <strong>naming hierarchy</strong>: faint → muted →
                subtle → default → emphasis
              </span>
            </li>
          </ul>
        </mat-card-content>
      </mat-card>

      <!-- DON'T Section -->
      <mat-card
        appearance="outlined"
        class="border-l-4 border-[var(--ax-error-default)]"
      >
        <mat-card-content class="p-6">
          <h3
            class="flex items-center gap-2 text-lg font-semibold text-[var(--ax-text-heading)] mb-4"
          >
            <mat-icon class="text-[var(--ax-error-default)]">cancel</mat-icon>
            DON'T - Common Mistakes
          </h3>
          <ul class="space-y-3 m-0 pl-0 list-none">
            <li class="flex items-start gap-3">
              <mat-icon class="text-[var(--ax-error-default)] text-xl mt-0.5"
                >close</mat-icon
              >
              <span class="text-sm text-[var(--ax-text-primary)]">
                Don't use <strong>hardcoded colors</strong> (<code
                  class="text-xs"
                  >#3B82F6</code
                >) - they won't adapt to themes
              </span>
            </li>
            <li class="flex items-start gap-3">
              <mat-icon class="text-[var(--ax-error-default)] text-xl mt-0.5"
                >close</mat-icon
              >
              <span class="text-sm text-[var(--ax-text-primary)]">
                Don't use <strong>appearance-based names</strong> (<code
                  class="text-xs"
                  >--color-blue-500</code
                >) - use semantic names
              </span>
            </li>
            <li class="flex items-start gap-3">
              <mat-icon class="text-[var(--ax-error-default)] text-xl mt-0.5"
                >close</mat-icon
              >
              <span class="text-sm text-[var(--ax-text-primary)]">
                Don't mix <strong>deprecated and new tokens</strong> - migrate
                consistently
              </span>
            </li>
            <li class="flex items-start gap-3">
              <mat-icon class="text-[var(--ax-error-default)] text-xl mt-0.5"
                >close</mat-icon
              >
              <span class="text-sm text-[var(--ax-text-primary)]">
                Don't create <strong>custom CSS variables</strong> - use
                existing tokens first
              </span>
            </li>
            <li class="flex items-start gap-3">
              <mat-icon class="text-[var(--ax-error-default)] text-xl mt-0.5"
                >close</mat-icon
              >
              <span class="text-sm text-[var(--ax-text-primary)]">
                Don't use tokens for <strong>one-off values</strong> - they're
                meant for consistency
              </span>
            </li>
            <li class="flex items-start gap-3">
              <mat-icon class="text-[var(--ax-error-default)] text-xl mt-0.5"
                >close</mat-icon
              >
              <span class="text-sm text-[var(--ax-text-primary)]">
                Don't override token values in
                <strong>component styles</strong> - use different tokens instead
              </span>
            </li>
          </ul>
        </mat-card-content>
      </mat-card>
    </div>

    <!-- Additional Resources -->
    <mat-card appearance="outlined" class="mt-6">
      <mat-card-content class="p-6">
        <h3
          class="flex items-center gap-2 text-lg font-semibold text-[var(--ax-text-heading)] mb-4"
        >
          <mat-icon class="text-[var(--ax-brand-default)]">school</mat-icon>
          Additional Resources
        </h3>
        <div class="grid md:grid-cols-3 gap-4">
          <div
            class="flex flex-col gap-2 p-4 bg-[var(--ax-background-subtle)] rounded-lg"
          >
            <mat-icon class="text-[var(--ax-brand-default)] text-2xl"
              >code</mat-icon
            >
            <h4 class="heading-title-small m-0">Source Files</h4>
            <p class="text-xs text-[var(--ax-text-secondary)] m-0">
              Token definitions in SCSS files
            </p>
            <code
              class="text-xs bg-[var(--ax-background-default)] px-2 py-1 rounded mt-2"
            >
              libs/aegisx-ui/src/lib/styles/themes/
            </code>
          </div>
          <div
            class="flex flex-col gap-2 p-4 bg-[var(--ax-background-subtle)] rounded-lg"
          >
            <mat-icon class="text-[var(--ax-brand-default)] text-2xl"
              >palette</mat-icon
            >
            <h4 class="heading-title-small m-0">Tailwind Config</h4>
            <p class="text-xs text-[var(--ax-text-secondary)] m-0">
              Tailwind theme configuration
            </p>
            <code
              class="text-xs bg-[var(--ax-background-default)] px-2 py-1 rounded mt-2"
            >
              tailwind.config.js
            </code>
          </div>
          <div
            class="flex flex-col gap-2 p-4 bg-[var(--ax-background-subtle)] rounded-lg"
          >
            <mat-icon class="text-[var(--ax-brand-default)] text-2xl"
              >description</mat-icon
            >
            <h4 class="heading-title-small m-0">Documentation</h4>
            <p class="text-xs text-[var(--ax-text-secondary)] m-0">
              Complete design system guide
            </p>
            <code
              class="text-xs bg-[var(--ax-background-default)] px-2 py-1 rounded mt-2"
            >
              DESIGN_TOKENS_GUIDE.md
            </code>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </section>
</div>

<!-- Back to Top Button -->
@if (showBackToTop) {
  <button
    mat-fab
    color="primary"
    class="fixed bottom-6 right-6 z-50 shadow-lg"
    (click)="scrollToTop()"
    matTooltip="Back to top"
    aria-label="Back to top"
  >
    <mat-icon>arrow_upward</mat-icon>
  </button>
}
