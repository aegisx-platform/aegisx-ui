<div class="docs-page">
  <!-- Page Header -->
  <div class="docs-header">
    <div class="docs-breadcrumb">
      <a routerLink="/components" mat-button>
        <mat-icon>arrow_back</mat-icon>
        Components
      </a>
      <mat-icon>chevron_right</mat-icon>
      <span>Spark Charts</span>
    </div>

    <h1 class="docs-title">Spark Charts</h1>
    <p class="docs-subtitle">
      Micro visualizations for displaying trends in minimal space. Perfect for
      dashboards, KPIs, and financial displays. Inspired by Tremor Blocks and
      Edward Tufte's sparklines concept.
    </p>
  </div>

  <!-- Quick Navigation -->
  <div class="section-header">
    <h2>Jump to Section</h2>
  </div>

  <div class="grid grid-cols-2 md:grid-cols-4 gap-2 mb-8">
    <button mat-stroked-button (click)="scrollToSection('stock-tickers')">
      <mat-icon>show_chart</mat-icon>
      Stock Tickers
    </button>
    <button mat-stroked-button (click)="scrollToSection('kpi-metrics')">
      <mat-icon>dashboard</mat-icon>
      KPI Metrics
    </button>
    <button mat-stroked-button (click)="scrollToSection('company-performance')">
      <mat-icon>business</mat-icon>
      Companies
    </button>
    <button mat-stroked-button (click)="scrollToSection('chart-config')">
      <mat-icon>settings</mat-icon>
      Configuration
    </button>
  </div>

  <!-- ============================================
       Stock Ticker Cards
       ============================================ -->
  <div id="stock-tickers" class="section-header">
    <h2>Stock Ticker Cards</h2>
    <p>
      Individual stock cards with real-time price data and 7-day trend
      visualization. Perfect for portfolio tracking and financial dashboards.
    </p>
  </div>

  <section>
    <app-code-preview [code]="stockTickerCode">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        @for (stock of stockTickers; track stock.symbol) {
          <mat-card>
            <mat-card-content class="flex items-center justify-between gap-4">
              <div class="flex-1 min-w-0">
                <div class="flex items-baseline justify-between mb-2">
                  <span class="type-title-large">{{ stock.symbol }}</span>
                  <span class="type-title-large">{{
                    formatCurrency(stock.price)
                  }}</span>
                </div>
                <div class="flex items-center justify-between gap-2">
                  <span class="type-body-small text-secondary truncate">{{
                    stock.name
                  }}</span>
                  <span
                    class="type-label-large whitespace-nowrap"
                    [class.text-green-600]="stock.change >= 0"
                    [class.text-red-600]="stock.change < 0"
                  >
                    {{ stock.change >= 0 ? '+' : ''
                    }}{{ formatCurrency(stock.change) }} ({{
                      formatPercent(stock.changePercent)
                    }})
                  </span>
                </div>
              </div>
              <div class="w-20 h-10 flex-shrink-0">
                <canvas
                  baseChart
                  [data]="
                    getSparklineConfig(stock.data, getChangeColor(stock.change))
                      .data!
                  "
                  [options]="
                    getSparklineConfig(stock.data, getChangeColor(stock.change))
                      .options
                  "
                  [type]="'line'"
                ></canvas>
              </div>
            </mat-card-content>
          </mat-card>
        }
      </div>
    </app-code-preview>
  </section>

  <!-- ============================================
       KPI Dashboard Metrics
       ============================================ -->
  <div id="kpi-metrics" class="section-header">
    <h2>KPI Dashboard Metrics</h2>
    <p>
      Key performance indicators with monthly trend visualization. Ideal for
      SaaS dashboards, business metrics, and growth tracking.
    </p>
  </div>

  <section>
    <app-code-preview [code]="kpiMetricCode">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        @for (metric of kpiMetrics; track metric.label) {
          <mat-card>
            <mat-card-content class="flex items-start justify-between gap-4">
              <div class="flex-1 min-w-0">
                <div class="type-label-large text-secondary mb-2">
                  {{ metric.label }}
                </div>
                <div class="heading-display-small">{{ metric.value }}</div>
              </div>
              <div class="w-32 h-16 flex-shrink-0">
                <canvas
                  baseChart
                  [data]="getSparklineConfig(metric.data, '#3B82F6', 0.1).data!"
                  [options]="
                    getSparklineConfig(metric.data, '#3B82F6', 0.1).options
                  "
                  [type]="'line'"
                ></canvas>
              </div>
            </mat-card-content>
          </mat-card>
        }
      </div>
    </app-code-preview>
  </section>

  <!-- ============================================
       Company Performance Cards
       ============================================ -->
  <div id="company-performance" class="section-header">
    <h2>Company Performance Cards</h2>
    <p>
      Minimal company performance cards with trend visualization. Shows company
      name, percentage change, and sparkline with color-coded trends.
    </p>
  </div>

  <section>
    <app-code-preview [code]="companyPerformanceCode">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        @for (company of companyPerformance; track company.name) {
          <mat-card>
            <mat-card-content class="flex items-start justify-between gap-4">
              <div class="flex-1 min-w-0">
                <div class="type-title-medium mb-1">
                  {{ company.name }}
                </div>
                <div
                  class="type-label-large"
                  [class.text-green-600]="company.change >= 0"
                  [class.text-red-600]="company.change < 0"
                >
                  {{ company.change >= 0 ? '+' : '' }}{{ company.change }}%
                </div>
              </div>
              <div class="w-32 h-16 flex-shrink-0">
                <canvas
                  baseChart
                  [data]="
                    getSparklineConfig(
                      company.data,
                      getChangeColor(company.change),
                      0.2
                    ).data!
                  "
                  [options]="
                    getSparklineConfig(
                      company.data,
                      getChangeColor(company.change),
                      0.2
                    ).options
                  "
                  [type]="'line'"
                ></canvas>
              </div>
            </mat-card-content>
          </mat-card>
        }
      </div>
    </app-code-preview>
  </section>

  <!-- ============================================
       Chart Configuration
       ============================================ -->
  <div id="chart-config" class="section-header">
    <h2>Chart Configuration</h2>
    <p>
      Chart.js configuration for creating sparkline charts with minimal styling.
    </p>
  </div>

  <section>
    <app-code-preview [code]="chartConfigCode" language="typescript">
    </app-code-preview>
  </section>
</div>
