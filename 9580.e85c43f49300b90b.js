"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[9580],{27025:(I,h,s)=>{s.r(h),s.d(h,{FollowupDemoComponent:()=>ot});var i=s(43692),p=s(46897),_=s(71800),F=s(13099),d=s(78957),k=s(28555),g=s(54180),E=s(36586),f=s(3155),P=s(43714),v=s(18560),y=s(77599),t=s(75168),j=s(97683),b=s(90573),B=s(82730),M=s(2836),$=s(17701),x=s(58487),C=s(71009),T=s(91256),O=s(3274);const V=(a,u)=>u.days,w=(a,u)=>u.id,S=(a,u)=>u.timeSlotId;function N(a,u){if(1&a&&(t.j41(0,"span",35)(1,"mat-icon",36),t.EFF(2,"phone"),t.k0s(),t.EFF(3),t.k0s()),2&a){const e=t.XpG(2);t.R7$(3),t.SpI(" ",e.currentPatient().phone," ")}}function A(a,u){if(1&a){const e=t.RV6();t.j41(0,"div",4)(1,"div",32)(2,"div",33),t.EFF(3),t.k0s(),t.j41(4,"div",34)(5,"span",35)(6,"mat-icon",36),t.EFF(7,"badge"),t.k0s(),t.EFF(8),t.k0s(),t.j41(9,"span",35)(10,"mat-icon",36),t.EFF(11,"cake"),t.k0s(),t.EFF(12),t.k0s(),t.nVh(13,N,4,1,"span",35),t.k0s()(),t.j41(14,"button",37),t.bIt("click",function(){i.eBV(e);const o=t.XpG();return i.Njj(o.onChangePatient())}),t.j41(15,"mat-icon"),t.EFF(16,"swap_horiz"),t.k0s(),t.EFF(17," \u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19 "),t.k0s()()}if(2&a){const e=t.XpG();t.R7$(3),t.E5c(" ",e.currentPatient().title,"",e.currentPatient().firstName," ",e.currentPatient().lastName," "),t.R7$(5),t.SpI(" HN: ",e.currentPatient().hn," "),t.R7$(4),t.SpI(" \u0e2d\u0e32\u0e22\u0e38 ",e.calculateAge(e.currentPatient().birthDate)," \u0e1b\u0e35 "),t.R7$(),t.vxM(e.currentPatient().phone?13:-1)}}function G(a,u){if(1&a){const e=t.RV6();t.j41(0,"div",5)(1,"mat-icon",38),t.EFF(2,"person_search"),t.k0s(),t.j41(3,"span"),t.EFF(4,"\u0e01\u0e23\u0e38\u0e13\u0e32\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22"),t.k0s(),t.j41(5,"button",39),t.bIt("click",function(){i.eBV(e);const o=t.XpG();return i.Njj(o.onChangePatient())}),t.j41(6,"mat-icon"),t.EFF(7,"search"),t.k0s(),t.EFF(8," \u0e04\u0e49\u0e19\u0e2b\u0e32\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22 "),t.k0s()()}}function z(a,u){if(1&a){const e=t.RV6();t.j41(0,"button",40),t.bIt("click",function(){const o=i.eBV(e).$implicit,l=t.XpG();return i.Njj(l.selectDuration(o.days))}),t.EFF(1),t.k0s()}if(2&a){const e=u.$implicit,n=t.XpG();t.AVh("!bg-primary",n.selectedDuration()===e.days)("!text-white",n.selectedDuration()===e.days),t.R7$(),t.SpI(" ",e.label," ")}}function X(a,u){if(1&a&&(t.j41(0,"span",42),t.EFF(1),t.k0s()),2&a){const e=t.XpG(2);t.R7$(),t.SpI("(\u0e02\u0e49\u0e32\u0e21 ",e.dateValidation().skippedDays," \u0e27\u0e31\u0e19\u0e2b\u0e22\u0e38\u0e14)")}}function Y(a,u){if(1&a&&(t.j41(0,"mat-chip",44),t.EFF(1),t.k0s()),2&a){const e=u.$implicit;t.R7$(),t.JRh(e)}}function J(a,u){if(1&a&&(t.j41(0,"div",43),t.Z7z(1,Y,2,1,"mat-chip",44,t.fX1),t.k0s()),2&a){const e=t.XpG(2);t.R7$(),t.Dyx(e.dateValidation().warnings)}}function W(a,u){if(1&a&&(t.j41(0,"div",41)(1,"mat-icon"),t.EFF(2," event_available "),t.k0s(),t.j41(3,"div",32)(4,"div")(5,"strong"),t.EFF(6),t.k0s(),t.nVh(7,X,2,1,"span",42),t.k0s(),t.nVh(8,J,3,0,"div",43),t.k0s()()),2&a){let e,n,o,l,c,r,D;const m=t.XpG();t.AVh("bg-green-50",!(null!=(e=m.dateValidation().warnings)&&e.length))("border-green-500",!(null!=(n=m.dateValidation().warnings)&&n.length))("bg-red-50",null==(o=m.dateValidation().warnings)?null:o.length)("border-red-500",null==(l=m.dateValidation().warnings)?null:l.length),t.R7$(),t.AVh("text-green-600",!(null!=(c=m.dateValidation().warnings)&&c.length))("text-red-600",null==(r=m.dateValidation().warnings)?null:r.length),t.R7$(5),t.JRh(m.formatThaiDate(m.dateValidation().date)),t.R7$(),t.vxM(m.dateValidation().skippedDays&&m.dateValidation().skippedDays>0?7:-1),t.R7$(),t.vxM(null!=(D=m.dateValidation().warnings)&&D.length?8:-1)}}function H(a,u){if(1&a&&(t.j41(0,"mat-option",20),t.EFF(1),t.k0s()),2&a){const e=u.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function U(a,u){if(1&a&&(t.j41(0,"mat-option",20),t.EFF(1),t.k0s()),2&a){const e=u.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function L(a,u){if(1&a){const e=t.RV6();t.j41(0,"button",45),t.bIt("click",function(){const o=i.eBV(e).$implicit,l=t.XpG();return i.Njj(l.selectTimeSlot(o.timeSlotId))}),t.EFF(1),t.k0s()}if(2&a){const e=u.$implicit,n=t.XpG();t.AVh("!bg-primary",n.selectedTimeSlotId()===e.timeSlotId)("!text-white",n.selectedTimeSlotId()===e.timeSlotId)("opacity-40",!e.isAvailable)("line-through",!e.isAvailable),t.Y8G("disabled",!e.isAvailable)("matTooltip",e.isAvailable?"\u0e27\u0e48\u0e32\u0e07":"\u0e44\u0e21\u0e48\u0e27\u0e48\u0e32\u0e07"),t.R7$(),t.SpI(" ",e.startTime," ")}}function Z(a,u){1&a&&(t.j41(0,"div",26)(1,"mat-icon"),t.EFF(2,"info"),t.k0s(),t.j41(3,"span"),t.EFF(4,"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e27\u0e31\u0e19\u0e19\u0e31\u0e14\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e14\u0e39\u0e0a\u0e48\u0e27\u0e07\u0e40\u0e27\u0e25\u0e32\u0e27\u0e48\u0e32\u0e07"),t.k0s()())}let Q=(()=>{class a{service=(0,i.WQX)(x.o);set patient(e){this._patient.set(e)}set defaultRoom(e){e&&this.selectedRoomId.set(e.id)}set defaultDoctor(e){e&&this.selectedDoctorId.set(e.id)}set rooms(e){this._rooms.set(e)}set doctors(e){this._doctors.set(e)}set timeSlots(e){this._timeSlots.set(e)}appointmentCreated=new t.bkB;cancelled=new t.bkB;changePatient=new t.bkB;_patient=(0,i.vPA)(void 0);_rooms=(0,i.vPA)([]);_doctors=(0,i.vPA)([]);_timeSlots=(0,i.vPA)([]);selectedDuration=(0,i.vPA)(null);customDate=(0,i.vPA)(null);includeHolidays=(0,i.vPA)(!1);selectedRoomId=(0,i.vPA)("");selectedDoctorId=(0,i.vPA)("");selectedTimeSlotId=(0,i.vPA)("");notes=(0,i.vPA)("");quickDurations=[{label:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",days:7,shortLabel:"1w"},{label:"2 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",days:14,shortLabel:"2w"},{label:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",days:30,shortLabel:"1m"},{label:"2 \u0e40\u0e14\u0e37\u0e2d\u0e19",days:60,shortLabel:"2m"},{label:"3 \u0e40\u0e14\u0e37\u0e2d\u0e19",days:90,shortLabel:"3m"}];minDate=new Date;currentPatient=(0,p.EW)(()=>this._patient());currentRooms=(0,p.EW)(()=>this._rooms());currentDoctors=(0,p.EW)(()=>this._doctors());filteredDoctors=(0,p.EW)(()=>{const e=this.selectedRoomId();return e?this._doctors().filter(n=>n.roomIds.includes(e)):this._doctors()});dateValidation=(0,p.EW)(()=>{const e=this.selectedDuration(),n=this.customDate(),o=this.selectedRoomId(),l=this.selectedDoctorId(),c=this._patient()?.id;return c&&o&&l?n?this.service.validateDate(n,{patientId:c,roomId:o,doctorId:l,targetDays:0,includeHolidays:this.includeHolidays()}):e?this.service.findAvailableDate({patientId:c,roomId:o,doctorId:l,targetDays:e,includeHolidays:this.includeHolidays()}):null:null});availableSlots=(0,p.EW)(()=>{const e=this.dateValidation(),n=this.selectedRoomId(),o=this.selectedDoctorId();return e?.date&&n&&o?this.service.getAvailableTimeSlots(e.date,n,o):[]});canSubmit=(0,p.EW)(()=>!!(this._patient()&&this.dateValidation()?.isValid&&this.selectedRoomId()&&this.selectedDoctorId()&&this.selectedTimeSlotId()));constructor(){(0,p.QZ)(()=>{this.dateValidation(),this.selectedRoomId(),this.selectedDoctorId(),this.selectedTimeSlotId.set("")},{allowSignalWrites:!0})}selectDuration(e){this.selectedDuration.set(e),this.customDate.set(null)}onCustomDateChange(e){this.customDate.set(e),this.selectedDuration.set(null)}selectTimeSlot(e){this.selectedTimeSlotId.set(e)}onChangePatient(){this.changePatient.emit()}onCancel(){this.cancelled.emit()}onSubmit(){const e=this._patient(),n=this.dateValidation(),o=this.selectedRoomId(),l=this.selectedDoctorId(),c=this.selectedTimeSlotId();if(!(e&&n?.date&&o&&l&&c))return;const r=this.service.createAppointment({roomId:o,doctorId:l,patientId:e.id,date:n.date,timeSlotId:c,purposeId:"purpose-1",preparations:[],notes:this.notes(),contactPhone:e.phone||"",tags:["follow-up"],metadata:{},status:"scheduled"});this.appointmentCreated.emit(r),this.clearForm()}clearForm(){this.selectedDuration.set(null),this.customDate.set(null),this.selectedTimeSlotId.set(""),this.notes.set("")}calculateAge(e){const n=new Date,o=new Date(e);let l=n.getFullYear()-o.getFullYear();const c=n.getMonth()-o.getMonth();return(c<0||0===c&&n.getDate()<o.getDate())&&l--,l}formatThaiDate(e){const l=new Date(e);return`${["\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c","\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c","\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23","\u0e1e\u0e38\u0e18","\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35","\u0e28\u0e38\u0e01\u0e23\u0e4c","\u0e40\u0e2a\u0e32\u0e23\u0e4c"][l.getDay()]} ${l.getDate()} ${["\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21","\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c","\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21","\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19","\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21","\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19","\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21","\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21","\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19","\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21","\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19","\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21"][l.getMonth()]} ${l.getFullYear()+543}`}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=t.VBU({type:a,selectors:[["app-followup-booking"]],inputs:{patient:"patient",defaultRoom:"defaultRoom",defaultDoctor:"defaultDoctor",rooms:"rooms",doctors:"doctors",timeSlots:"timeSlots"},outputs:{appointmentCreated:"appointmentCreated",cancelled:"cancelled",changePatient:"changePatient"},decls:84,vars:12,consts:[["picker",""],[1,"flex","flex-col","gap-4","p-4"],[1,"flex","items-center","gap-3","text-xl","font-semibold","mb-2"],["appearance","outlined"],[1,"flex","items-center","justify-between","gap-4"],[1,"flex","flex-col","items-center","gap-3","py-6","text-gray-500"],[1,"flex","flex-col","gap-4"],[1,"text-sm","font-medium","text-gray-600"],[1,"flex","flex-wrap","gap-2"],["mat-stroked-button","",3,"!bg-primary","!text-white"],[1,"flex","items-center","gap-3","flex-wrap"],[1,"text-sm","text-gray-600"],["appearance","outline",1,"w-52"],["matInput","",3,"dateChange","matDatepicker","value","min"],["matIconSuffix","",3,"for"],[3,"change","checked"],[1,"border",3,"bg-green-50","border-green-500","bg-red-50","border-red-500"],[1,"flex","gap-4"],["appearance","outline",1,"flex-1"],[3,"selectionChange","value"],[3,"value"],["matPrefix",""],[1,"flex","items-center","gap-2","mb-3","font-medium","text-gray-600"],[1,"!text-xl","!w-5","!h-5"],[1,"grid","grid-cols-6","gap-2"],["mat-stroked-button","",3,"!bg-primary","!text-white","opacity-40","line-through","disabled","matTooltip"],[1,"col-span-6","flex","items-center","justify-center","gap-2","py-6","text-gray-500","bg-gray-50","rounded-lg","border","border-dashed","border-gray-300"],["appearance","outline",1,"w-full"],["matInput","","rows","2","placeholder","\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21 (\u0e16\u0e49\u0e32\u0e21\u0e35)",3,"input","value"],[1,"flex","justify-end","gap-3","pt-4","border-t","mt-2"],["mat-stroked-button","","color","warn",3,"click"],["mat-flat-button","","color","primary",3,"click","disabled"],[1,"flex-1"],[1,"text-lg","font-semibold","mb-2"],[1,"flex","flex-wrap","gap-4","text-sm","text-gray-600"],[1,"flex","items-center","gap-1"],[1,"!text-base","!w-4","!h-4"],["mat-stroked-button","","color","primary",3,"click"],[1,"!text-5xl","!w-12","!h-12"],["mat-flat-button","","color","primary",3,"click"],["mat-stroked-button","",3,"click"],[1,"border"],[1,"text-sm","text-gray-500","ml-2"],[1,"flex","flex-wrap","gap-1","mt-2"],["color","warn"],["mat-stroked-button","",3,"click","disabled","matTooltip"]],template:function(n,o){if(1&n){const l=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"mat-icon"),t.EFF(3,"event_repeat"),t.k0s(),t.j41(4,"span"),t.EFF(5,"\u0e19\u0e31\u0e14 Follow-up"),t.k0s()(),t.j41(6,"mat-card",3)(7,"mat-card-header")(8,"mat-card-title"),t.EFF(9,"\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22"),t.k0s()(),t.j41(10,"mat-card-content"),t.nVh(11,A,18,6,"div",4)(12,G,9,0,"div",5),t.k0s()(),t.j41(13,"mat-card",3)(14,"mat-card-header")(15,"mat-card-title"),t.EFF(16,"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e27\u0e31\u0e19\u0e19\u0e31\u0e14"),t.k0s()(),t.j41(17,"mat-card-content")(18,"div",6)(19,"div",7),t.EFF(20,"\u0e19\u0e31\u0e14\u0e2d\u0e35\u0e01:"),t.k0s(),t.j41(21,"div",8),t.Z7z(22,z,2,5,"button",9,V),t.k0s(),t.j41(24,"div",10)(25,"span",11),t.EFF(26,"\u0e2b\u0e23\u0e37\u0e2d\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48:"),t.k0s(),t.j41(27,"mat-form-field",12)(28,"mat-label"),t.EFF(29,"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e27\u0e31\u0e19"),t.k0s(),t.j41(30,"input",13),t.bIt("dateChange",function(r){return i.eBV(l),i.Njj(o.onCustomDateChange(r.value))}),t.k0s(),t.nrm(31,"mat-datepicker-toggle",14)(32,"mat-datepicker",null,0),t.k0s()(),t.j41(34,"mat-checkbox",15),t.bIt("change",function(r){return i.eBV(l),i.Njj(o.includeHolidays.set(r.checked))}),t.EFF(35," \u0e23\u0e27\u0e21\u0e27\u0e31\u0e19\u0e2b\u0e22\u0e38\u0e14\u0e14\u0e49\u0e27\u0e22 (\u0e40\u0e09\u0e1e\u0e32\u0e30\u0e01\u0e23\u0e13\u0e35\u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19) "),t.k0s(),t.nVh(36,W,9,15,"div",16),t.k0s()()(),t.j41(37,"mat-card",3)(38,"mat-card-header")(39,"mat-card-title"),t.EFF(40,"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e01\u0e32\u0e23\u0e19\u0e31\u0e14"),t.k0s()(),t.j41(41,"mat-card-content")(42,"div",6)(43,"div",17)(44,"mat-form-field",18)(45,"mat-label"),t.EFF(46,"\u0e2b\u0e49\u0e2d\u0e07\u0e15\u0e23\u0e27\u0e08"),t.k0s(),t.j41(47,"mat-select",19),t.bIt("selectionChange",function(r){return i.eBV(l),i.Njj(o.selectedRoomId.set(r.value))}),t.Z7z(48,H,2,2,"mat-option",20,w),t.k0s(),t.j41(50,"mat-icon",21),t.EFF(51,"meeting_room"),t.k0s()(),t.j41(52,"mat-form-field",18)(53,"mat-label"),t.EFF(54,"\u0e41\u0e1e\u0e17\u0e22\u0e4c"),t.k0s(),t.j41(55,"mat-select",19),t.bIt("selectionChange",function(r){return i.eBV(l),i.Njj(o.selectedDoctorId.set(r.value))}),t.Z7z(56,U,2,2,"mat-option",20,w),t.k0s(),t.j41(58,"mat-icon",21),t.EFF(59,"medical_services"),t.k0s()()(),t.j41(60,"div")(61,"div",22)(62,"mat-icon",23),t.EFF(63,"schedule"),t.k0s(),t.EFF(64," \u0e40\u0e27\u0e25\u0e32: "),t.k0s(),t.j41(65,"div",24),t.Z7z(66,L,2,11,"button",25,S,!1,Z,5,0,"div",26),t.k0s()(),t.j41(69,"mat-form-field",27)(70,"mat-label"),t.EFF(71,"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"),t.k0s(),t.j41(72,"mat-icon",21),t.EFF(73,"notes"),t.k0s(),t.j41(74,"textarea",28),t.bIt("input",function(r){return i.eBV(l),i.Njj(o.notes.set(r.target.value))}),t.k0s()()()()(),t.j41(75,"div",29)(76,"button",30),t.bIt("click",function(){return i.eBV(l),i.Njj(o.onCancel())}),t.j41(77,"mat-icon"),t.EFF(78,"close"),t.k0s(),t.EFF(79," \u0e22\u0e01\u0e40\u0e25\u0e34\u0e01 "),t.k0s(),t.j41(80,"button",31),t.bIt("click",function(){return i.eBV(l),i.Njj(o.onSubmit())}),t.j41(81,"mat-icon"),t.EFF(82,"check"),t.k0s(),t.EFF(83," \u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e19\u0e31\u0e14\u0e2b\u0e21\u0e32\u0e22 "),t.k0s()()()}if(2&n){const l=t.sdS(33);t.R7$(11),t.vxM(o.currentPatient()?11:12),t.R7$(11),t.Dyx(o.quickDurations),t.R7$(8),t.Y8G("matDatepicker",l)("value",o.customDate())("min",o.minDate),t.R7$(),t.Y8G("for",l),t.R7$(3),t.Y8G("checked",o.includeHolidays()),t.R7$(2),t.vxM(o.dateValidation()?36:-1),t.R7$(11),t.Y8G("value",o.selectedRoomId()),t.R7$(),t.Dyx(o.currentRooms()),t.R7$(7),t.Y8G("value",o.selectedDoctorId()),t.R7$(),t.Dyx(o.filteredDoctors()),t.R7$(10),t.Dyx(o.availableSlots()),t.R7$(8),t.Y8G("value",o.notes()),t.R7$(6),t.Y8G("disabled",!o.canSubmit())}},dependencies:[_.MD,F.YN,k.Hl,k.$z,g.m_,g.An,j.Ve,C.rl,C.nJ,C.JW,C.yw,j.VO,T.wT,E.fS,E.fg,f.R,b.X6,b.Vh,b.bZ,b.bU,B.WX,M.g7,M.So,d.Hu,d.RN,d.m2,d.MM,d.dh,$.u,O.oV,P.w,v.YN,v.Jl],encapsulation:2})}return a})();const R=(a,u)=>u.id;function K(a,u){1&a&&(t.j41(0,"div",9)(1,"mat-icon"),t.EFF(2,"event_busy"),t.k0s(),t.j41(3,"p"),t.EFF(4,"\u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e21\u0e35\u0e19\u0e31\u0e14\u0e2b\u0e21\u0e32\u0e22\u0e17\u0e35\u0e48\u0e2a\u0e23\u0e49\u0e32\u0e07"),t.k0s(),t.j41(5,"span"),t.EFF(6,"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\u0e41\u0e25\u0e30\u0e19\u0e31\u0e14\u0e2b\u0e21\u0e32\u0e22\u0e08\u0e32\u0e01\u0e14\u0e49\u0e32\u0e19\u0e0b\u0e49\u0e32\u0e22"),t.k0s()())}function q(a,u){if(1&a&&(t.j41(0,"div",20)(1,"mat-icon"),t.EFF(2,"notes"),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()()),2&a){const e=t.XpG().$implicit;t.R7$(4),t.JRh(e.notes)}}function tt(a,u){if(1&a&&(t.j41(0,"div",14)(1,"div",15)(2,"span",16),t.EFF(3),t.k0s(),t.j41(4,"mat-chip",17),t.EFF(5),t.k0s()(),t.j41(6,"div",18)(7,"div",19)(8,"mat-icon"),t.EFF(9,"person"),t.k0s(),t.j41(10,"span"),t.EFF(11),t.k0s()(),t.j41(12,"div",19)(13,"mat-icon"),t.EFF(14,"event"),t.k0s(),t.j41(15,"span"),t.EFF(16),t.k0s()(),t.j41(17,"div",19)(18,"mat-icon"),t.EFF(19,"schedule"),t.k0s(),t.j41(20,"span"),t.EFF(21),t.k0s()(),t.j41(22,"div",19)(23,"mat-icon"),t.EFF(24,"meeting_room"),t.k0s(),t.j41(25,"span"),t.EFF(26),t.k0s()(),t.j41(27,"div",19)(28,"mat-icon"),t.EFF(29,"medical_services"),t.k0s(),t.j41(30,"span"),t.EFF(31),t.k0s()(),t.nVh(32,q,5,1,"div",20),t.k0s()()),2&a){const e=u.$implicit,n=t.XpG(2);t.R7$(3),t.JRh(e.appointmentNumber),t.R7$(2),t.JRh(e.status),t.R7$(6),t.JRh(n.getPatientName(e.patientId)),t.R7$(5),t.JRh(n.formatDate(e.date)),t.R7$(5),t.JRh(n.getTimeSlotLabel(e.timeSlotId)),t.R7$(5),t.JRh(n.getRoomName(e.roomId)),t.R7$(5),t.JRh(n.getDoctorName(e.doctorId)),t.R7$(),t.vxM(e.notes?32:-1)}}function et(a,u){if(1&a&&(t.j41(0,"div",10),t.Z7z(1,tt,33,8,"div",14,R),t.k0s()),2&a){const e=t.XpG();t.R7$(),t.Dyx(e.createdAppointments())}}function nt(a,u){if(1&a){const e=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){const o=i.eBV(e).$implicit,l=t.XpG();return i.Njj(l.selectPatient(o))}),t.j41(1,"mat-icon"),t.EFF(2,"person"),t.k0s(),t.EFF(3),t.j41(4,"span",22),t.EFF(5),t.k0s()()}if(2&a){let e;const n=u.$implicit,o=t.XpG();t.AVh("selected",(null==(e=o.selectedPatient())?null:e.id)===n.id),t.R7$(3),t.Lme(" ",n.firstName," ",n.lastName," "),t.R7$(2),t.SpI("(",n.hn,")")}}let ot=(()=>{class a{service=(0,i.WQX)(x.o);snackBar=(0,i.WQX)(y.UG);selectedPatient=(0,i.vPA)(void 0);createdAppointments=(0,i.vPA)([]);mockPatients=(0,p.EW)(()=>this.service.patients().slice(0,5));selectPatient(e){this.selectedPatient.set(e)}openPatientSearch(){this.snackBar.open("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\u0e08\u0e32\u0e01\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e14\u0e49\u0e32\u0e19\u0e02\u0e27\u0e32","\u0e1b\u0e34\u0e14",{duration:3e3})}onAppointmentCreated(e){this.createdAppointments.update(n=>[e,...n]),this.snackBar.open("\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e19\u0e31\u0e14\u0e2b\u0e21\u0e32\u0e22\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08!","\u0e1b\u0e34\u0e14",{duration:3e3,panelClass:"success-snackbar"})}onCancelled(){this.selectedPatient.set(void 0),this.snackBar.open("\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e01\u0e32\u0e23\u0e19\u0e31\u0e14\u0e2b\u0e21\u0e32\u0e22","\u0e1b\u0e34\u0e14",{duration:2e3})}getPatientName(e){const n=this.service.getPatient(e);return n?`${n.title}${n.firstName} ${n.lastName}`:"Unknown"}getTimeSlotLabel(e){const n=this.service.getTimeSlot(e);return n?n.label:"Unknown"}getRoomName(e){const n=this.service.getRoom(e);return n?n.name:"Unknown"}getDoctorName(e){const n=this.service.getDoctor(e);return n?n.name:"Unknown"}formatDate(e){const o=new Date(e);return`${["\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c","\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c","\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23","\u0e1e\u0e38\u0e18","\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35","\u0e28\u0e38\u0e01\u0e23\u0e4c","\u0e40\u0e2a\u0e32\u0e23\u0e4c"][o.getDay()]} ${o.getDate()}/${o.getMonth()+1}/${o.getFullYear()+543}`}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=t.VBU({type:a,selectors:[["app-followup-demo"]],features:[t.Jv_([x.o])],decls:32,vars:8,consts:[[1,"followup-demo-page"],[1,"page-header"],[1,"page-title"],[1,"page-description"],[1,"demo-layout"],[1,"booking-section"],[3,"appointmentCreated","cancelled","changePatient","patient","defaultRoom","defaultDoctor","rooms","doctors","timeSlots"],[1,"appointments-section"],["appearance","outlined"],[1,"empty-state"],[1,"appointment-list"],["appearance","outlined",1,"quick-select-card"],[1,"patient-chips"],["mat-stroked-button","",3,"selected"],[1,"appointment-item"],[1,"apt-header"],[1,"apt-number"],["color","primary"],[1,"apt-details"],[1,"apt-row"],[1,"apt-row","notes"],["mat-stroked-button","",3,"click"],[1,"hn"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon"),t.EFF(4,"event_repeat"),t.k0s(),t.j41(5,"h1"),t.EFF(6,"Follow-up Booking Demo"),t.k0s()(),t.j41(7,"p",3),t.EFF(8," \u0e17\u0e14\u0e2a\u0e2d\u0e1a Component \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e19\u0e31\u0e14 Follow-up \u0e17\u0e35\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e1d\u0e31\u0e07\u0e43\u0e19\u0e2b\u0e19\u0e49\u0e32\u0e2d\u0e37\u0e48\u0e19\u0e46 \u0e44\u0e14\u0e49 "),t.k0s()(),t.j41(9,"div",4)(10,"div",5)(11,"app-followup-booking",6),t.bIt("appointmentCreated",function(c){return o.onAppointmentCreated(c)})("cancelled",function(){return o.onCancelled()})("changePatient",function(){return o.openPatientSearch()}),t.k0s()(),t.j41(12,"div",7)(13,"mat-card",8)(14,"mat-card-header")(15,"mat-card-title")(16,"mat-icon"),t.EFF(17,"list"),t.k0s(),t.EFF(18),t.k0s()(),t.j41(19,"mat-card-content"),t.nVh(20,K,7,0,"div",9)(21,et,3,0,"div",10),t.k0s()(),t.j41(22,"mat-card",11)(23,"mat-card-header")(24,"mat-card-title")(25,"mat-icon"),t.EFF(26,"person_search"),t.k0s(),t.EFF(27," \u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\u0e14\u0e48\u0e27\u0e19 "),t.k0s()(),t.j41(28,"mat-card-content")(29,"div",12),t.Z7z(30,nt,6,5,"button",13,R),t.k0s()()()()()()),2&n&&(t.R7$(11),t.Y8G("patient",o.selectedPatient())("defaultRoom",o.service.rooms()[0])("defaultDoctor",o.service.doctors()[0])("rooms",o.service.rooms())("doctors",o.service.doctors())("timeSlots",o.service.timeSlots()),t.R7$(7),t.SpI(" \u0e19\u0e31\u0e14\u0e2b\u0e21\u0e32\u0e22\u0e17\u0e35\u0e48\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e43\u0e2b\u0e21\u0e48 (",o.createdAppointments().length,") "),t.R7$(2),t.vxM(0===o.createdAppointments().length?20:21),t.R7$(10),t.Dyx(o.mockPatients()))},dependencies:[_.MD,F.YN,d.Hu,d.RN,d.m2,d.MM,d.dh,k.Hl,k.$z,g.m_,g.An,E.fS,f.R,P.w,v.YN,v.Jl,y._T,Q],styles:[".followup-demo-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px;padding:24px;max-width:1400px;margin:0 auto}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:var(--mat-sys-primary)}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:600}.page-header[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]{margin:8px 0 0;color:var(--mat-sys-outline)}.demo-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 400px;gap:24px}@media (max-width: 1024px){.demo-layout[_ngcontent-%COMP%]{grid-template-columns:1fr}}.booking-section[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container-lowest);border-radius:16px;padding:8px}.appointments-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.appointments-section[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:1rem}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;padding:32px;text-align:center;color:var(--mat-sys-outline)}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;opacity:.5}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:500}.empty-state[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem}.appointment-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.appointment-item[_ngcontent-%COMP%]{padding:12px;background:var(--mat-sys-surface-container);border-radius:8px}.appointment-item[_ngcontent-%COMP%]   .apt-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.appointment-item[_ngcontent-%COMP%]   .apt-header[_ngcontent-%COMP%]   .apt-number[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:var(--mat-sys-primary)}.appointment-item[_ngcontent-%COMP%]   .apt-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.appointment-item[_ngcontent-%COMP%]   .apt-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:.875rem}.appointment-item[_ngcontent-%COMP%]   .apt-row[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:var(--mat-sys-outline)}.appointment-item[_ngcontent-%COMP%]   .apt-row.notes[_ngcontent-%COMP%]{font-style:italic;color:var(--mat-sys-outline)}.quick-select-card[_ngcontent-%COMP%]   .patient-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.quick-select-card[_ngcontent-%COMP%]   .patient-chips[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem}.quick-select-card[_ngcontent-%COMP%]   .patient-chips[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.quick-select-card[_ngcontent-%COMP%]   .patient-chips[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .hn[_ngcontent-%COMP%]{font-size:.75rem;opacity:.7}.quick-select-card[_ngcontent-%COMP%]   .patient-chips[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{background:var(--mat-sys-primary-container);color:var(--mat-sys-on-primary-container)}"]})}return a})()},72748:(I,h,s)=>{s.d(h,{t:()=>F});var i=s(75168);const p=["mat-internal-form-field",""],_=["*"];let F=(()=>{class d{labelPosition;static \u0275fac=function(E){return new(E||d)};static \u0275cmp=i.VBU({type:d,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(E,f){2&E&&i.AVh("mdc-form-field--align-end","before"===f.labelPosition)},inputs:{labelPosition:"labelPosition"},attrs:p,ngContentSelectors:_,decls:1,vars:0,template:function(E,f){1&E&&(i.NAR(),i.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}\n"],encapsulation:2,changeDetection:0})}return d})()}}]);