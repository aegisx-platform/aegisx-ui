/**
 * Form Utilities - Material Design 3 Form Sizing
 * Simplified for AegisX Design System and Tremor Style
 *
 * Usage:
 * <div class="form-compact">
 *   <mat-form-field appearance="outline">
 *     <input matInput placeholder="Input" />
 *   </mat-form-field>
 *   <button mat-raised-button>Button</button>
 * </div>
 *
 * Available classes:
 * - .form-compact  - 40px height (compact) ‚Üê RECOMMENDED FOR TREMOR
 * - .form-standard - 48px height (Material 3 default)
 */

/* ==========================================================================
   Material 3 Form Utilities
   ========================================================================== */

/* Material 3 Custom Properties for Dynamic Sizing */
:root {
  --mat-form-field-container-height: 56px;
  --mat-form-field-filled-label-display: block;
  --mat-form-field-container-vertical-padding: 16px;
  --mat-form-field-filled-with-label-container-padding-top: 24px;
  --mat-form-field-filled-with-label-container-padding-bottom: 8px;
}

/* ==========================================================================
   Compact Size - 40px height (RECOMMENDED FOR TREMOR)
   Use Case: CRUD tables, search interfaces, dashboard widgets, filters
   ========================================================================== */
.form-compact {
  /* Form fields - Use density -2 (compact) */
  .mat-mdc-form-field {
    --mat-form-field-container-height: 40px;
    --mat-form-field-container-vertical-padding: 8px;
  }

  .mat-mdc-text-field-wrapper {
    height: 40px;
  }

  /* Input element */
  .mat-mdc-input-element {
    font-size: 0.875rem;
    line-height: 1.5;
  }

  /* Prefix/Suffix icons */
  .mat-mdc-form-field-icon-prefix,
  .mat-mdc-form-field-icon-suffix {
    .mat-icon {
      font-size: 18px;
      width: 18px;
      height: 18px;
    }
  }

  /* Buttons - Compact size */
  .mat-mdc-button,
  .mat-mdc-unelevated-button,
  .mat-mdc-raised-button,
  .mat-mdc-outlined-button {
    --mdc-text-button-container-height: 36px;
    --mdc-filled-button-container-height: 36px;
    --mdc-outlined-button-container-height: 36px;
    min-height: 36px;
    padding: 0 16px;
    font-size: 0.875rem;
  }

  .mat-mdc-icon-button {
    --mdc-icon-button-state-layer-size: 40px;
    width: 40px;
    height: 40px;
    padding: 8px;

    .mat-icon {
      font-size: 20px;
      width: 20px;
      height: 20px;
    }
  }
}

/* ==========================================================================
   Standard Size - 48px height (Material 3 default)
   Use Case: General forms, settings pages, account management
   ========================================================================== */
.form-standard {
  /* Form fields - Use density -1 (standard) */
  .mat-mdc-form-field {
    --mat-form-field-container-height: 48px;
    --mat-form-field-container-vertical-padding: 12px;
  }

  .mat-mdc-text-field-wrapper {
    height: 48px;
  }

  /* Input element */
  .mat-mdc-input-element {
    font-size: 1rem;
    line-height: 1.5;
  }

  /* Prefix/Suffix icons */
  .mat-mdc-form-field-icon-prefix,
  .mat-mdc-form-field-icon-suffix {
    .mat-icon {
      font-size: 20px;
      width: 20px;
      height: 20px;
    }
  }

  /* Buttons - Standard size */
  .mat-mdc-button,
  .mat-mdc-unelevated-button,
  .mat-mdc-raised-button,
  .mat-mdc-outlined-button {
    --mdc-text-button-container-height: 40px;
    --mdc-filled-button-container-height: 40px;
    --mdc-outlined-button-container-height: 40px;
    min-height: 40px;
    padding: 0 24px;
    font-size: 0.875rem;
  }

  .mat-mdc-icon-button {
    --mdc-icon-button-state-layer-size: 48px;
    width: 48px;
    height: 48px;
    padding: 12px;

    .mat-icon {
      font-size: 24px;
      width: 24px;
      height: 24px;
    }
  }
}

/* ==========================================================================
   Tremor-Style Interaction States
   ========================================================================== */

/* Subtle hover and focus states for Tremor aesthetic */
.form-compact,
.form-standard {
  .mat-mdc-outlined-button {
    --mdc-outlined-button-outline-color: var(--ax-border-default);

    &:hover:not([disabled]) {
      --mdc-outlined-button-outline-color: var(--ax-border-emphasis);
      background-color: var(--ax-background-subtle);
    }
  }
}

/* ==========================================================================
   Responsive Adjustments
   ========================================================================== */
@media (max-width: 768px) {
  /* Ensure minimum touch target size (44px) on mobile */
  .form-compact {
    .mat-mdc-button,
    .mat-mdc-unelevated-button,
    .mat-mdc-raised-button,
    .mat-mdc-outlined-button {
      min-height: 44px;
    }

    .mat-mdc-icon-button {
      --mdc-icon-button-state-layer-size: 44px;
      width: 44px;
      height: 44px;
    }
  }
}
