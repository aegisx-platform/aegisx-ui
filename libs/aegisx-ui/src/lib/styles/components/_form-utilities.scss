/**
 * Form Utilities - Consistent sizing for Material Design form fields and buttons
 * 
 * Usage:
 * <div class="form-compact">
 *   <mat-form-field appearance="outline">
 *     <input matInput placeholder="Input" />
 *   </mat-form-field>
 *   <button mat-raised-button>Button</button>
 * </div>
 * 
 * Available classes:
 * - .form-xs      - 40px form fields, 32px buttons (extra small)
 * - .form-compact - 48px form fields, 40px buttons (compact)
 * - .form-standard- 56px form fields, 48px buttons (Material standard)
 * - .form-lg      - 64px form fields, 56px buttons (large)
 */

/* ==========================================================================
   Form Field & Button Utility Classes
   ========================================================================== */

/* Form utilities - Fix floating label positioning for custom heights */
.form-xs,
.form-compact,
.form-standard,
.form-lg {
  .mat-mdc-form-field.mat-form-field-appearance-outline {
    .mat-mdc-floating-label {
      /* Ensure proper centering when not floating */
      &:not(.mdc-floating-label--float-above) {
        top: 50% !important;
        transform: translateY(-50%) !important;
      }

      /* Fix floating position when label is above */
      &.mdc-floating-label--float-above {
        top: 0px !important;
        transform: translateY(-50%) scale(0.75) !important;
      }
    }
  }
}

/* Extra Small - 40px form fields, 32px buttons */
.form-xs {
  /* Form fields */
  .mat-mdc-form-field.mat-form-field-appearance-outline {
    height: 40px !important;
  }

  .mat-mdc-form-field.mat-form-field-appearance-outline
    .mat-mdc-form-field-flex {
    min-height: 32px !important;
    height: 32px !important;
    align-items: center !important;
  }

  .mat-mdc-form-field.mat-form-field-appearance-outline
    .mat-mdc-form-field-infix {
    padding: 0.5rem 0 0.25rem 0 !important;
    display: flex !important;
    align-items: center !important;
  }

  .mat-mdc-form-field.mat-form-field-appearance-outline
    .mat-mdc-floating-label {
    font-size: 0.875rem !important;
  }

  .mat-mdc-input-element {
    line-height: 1.2 !important;
  }

  /* Fix prefix/suffix icon positioning for extra small */
  .mat-mdc-form-field.mat-form-field-appearance-outline {
    .mat-mdc-form-field-icon-prefix,
    .mat-mdc-form-field-icon-suffix {
      display: flex !important;
      align-items: center !important;
      height: 100% !important;

      .mat-icon {
        font-size: 16px !important;
        width: 16px !important;
        height: 16px !important;
      }
    }

    .mat-mdc-form-field-icon-prefix {
      margin-right: 6px !important;
      margin-left: 0 !important;
    }

    .mat-mdc-form-field-icon-suffix {
      margin-left: 6px !important;
      margin-right: 0 !important;
    }
  }

  /* Buttons */
  .mat-mdc-button,
  .mat-mdc-raised-button,
  .mat-mdc-outlined-button,
  .mat-mdc-stroked-button {
    height: 32px !important;
    min-height: 32px !important;
    padding: 0 0.75rem !important;
    font-size: 0.875rem !important;
  }

  .mat-mdc-icon-button {
    width: 32px !important;
    height: 32px !important;
    padding: 4px !important;

    .mat-icon {
      font-size: 20px !important;
      width: 20px !important;
      height: 20px !important;
    }
  }
}

/* Compact - 48px form fields, 40px buttons */
.form-compact {
  /* Form fields */
  .mat-mdc-form-field.mat-form-field-appearance-outline {
    height: 48px !important;
  }

  .mat-mdc-form-field.mat-form-field-appearance-outline
    .mat-mdc-form-field-flex {
    min-height: 40px !important;
    height: 40px !important;
    align-items: center !important;
  }

  .mat-mdc-form-field.mat-form-field-appearance-outline
    .mat-mdc-form-field-infix {
    padding: 0.75rem 0 0.375rem 0 !important;
    display: flex !important;
    align-items: center !important;
  }

  .mat-mdc-input-element {
    line-height: 1.2 !important;
  }

  /* Fix prefix/suffix icon positioning for compact */
  .mat-mdc-form-field.mat-form-field-appearance-outline {
    .mat-mdc-form-field-icon-prefix,
    .mat-mdc-form-field-icon-suffix {
      display: flex !important;
      align-items: center !important;
      height: 100% !important;

      .mat-icon {
        font-size: 18px !important;
        width: 18px !important;
        height: 18px !important;
      }
    }

    .mat-mdc-form-field-icon-prefix {
      margin-right: 8px !important;
      margin-left: 0 !important;
    }

    .mat-mdc-form-field-icon-suffix {
      margin-left: 8px !important;
      margin-right: 0 !important;
    }
  }

  /* Buttons */
  .mat-mdc-button,
  .mat-mdc-raised-button,
  .mat-mdc-outlined-button,
  .mat-mdc-stroked-button {
    height: 40px !important;
    min-height: 40px !important;
    padding: 0 1rem !important;
  }

  .mat-mdc-icon-button {
    width: 40px !important;
    height: 40px !important;
    padding: 6px !important;
  }
}

/* Standard - 56px form fields, 48px buttons (Material Design default) */
.form-standard {
  /* Form fields */
  .mat-mdc-form-field.mat-form-field-appearance-outline {
    height: 56px !important;
  }

  .mat-mdc-form-field.mat-form-field-appearance-outline
    .mat-mdc-form-field-flex {
    min-height: 48px !important;
    height: 48px !important;
    align-items: center !important;
  }

  .mat-mdc-form-field.mat-form-field-appearance-outline
    .mat-mdc-form-field-infix {
    padding: 1rem 0 0.5rem 0 !important;
    display: flex !important;
    align-items: center !important;
  }

  .mat-mdc-input-element {
    line-height: 1.2 !important;
  }

  /* Fix prefix/suffix icon positioning for standard */
  .mat-mdc-form-field.mat-form-field-appearance-outline {
    .mat-mdc-form-field-icon-prefix,
    .mat-mdc-form-field-icon-suffix {
      display: flex !important;
      align-items: center !important;
      height: 100% !important;

      .mat-icon {
        font-size: 20px !important;
        width: 20px !important;
        height: 20px !important;
      }
    }

    .mat-mdc-form-field-icon-prefix {
      margin-right: 10px !important;
      margin-left: 0 !important;
    }

    .mat-mdc-form-field-icon-suffix {
      margin-left: 10px !important;
      margin-right: 0 !important;
    }
  }

  /* Buttons - Material standard size */
  .mat-mdc-button,
  .mat-mdc-raised-button,
  .mat-mdc-outlined-button,
  .mat-mdc-stroked-button {
    height: 48px !important;
    min-height: 48px !important;
    padding: 0 1.5rem !important;
  }

  .mat-mdc-icon-button {
    width: 48px !important;
    height: 48px !important;
    padding: 8px !important;
  }
}

/* Large - 64px form fields, 56px buttons */
.form-lg {
  /* Form fields */
  .mat-mdc-form-field.mat-form-field-appearance-outline {
    height: 64px !important;
  }

  .mat-mdc-form-field.mat-form-field-appearance-outline
    .mat-mdc-form-field-flex {
    min-height: 56px !important;
    height: 56px !important;
    align-items: center !important;
  }

  .mat-mdc-form-field.mat-form-field-appearance-outline
    .mat-mdc-form-field-infix {
    padding: 1.25rem 0 0.75rem 0 !important;
    display: flex !important;
    align-items: center !important;
  }

  .mat-mdc-form-field.mat-form-field-appearance-outline
    .mat-mdc-floating-label {
    font-size: 1.125rem !important;
  }

  .mat-mdc-input-element {
    line-height: 1.2 !important;
    font-size: 1.125rem !important;
  }

  /* Fix prefix/suffix icon positioning for large */
  .mat-mdc-form-field.mat-form-field-appearance-outline {
    .mat-mdc-form-field-icon-prefix,
    .mat-mdc-form-field-icon-suffix {
      display: flex !important;
      align-items: center !important;
      height: 100% !important;

      .mat-icon {
        font-size: 24px !important;
        width: 24px !important;
        height: 24px !important;
      }
    }

    .mat-mdc-form-field-icon-prefix {
      margin-right: 12px !important;
      margin-left: 0 !important;
    }

    .mat-mdc-form-field-icon-suffix {
      margin-left: 12px !important;
      margin-right: 0 !important;
    }
  }

  /* Buttons */
  .mat-mdc-button,
  .mat-mdc-raised-button,
  .mat-mdc-outlined-button,
  .mat-mdc-stroked-button {
    height: 56px !important;
    min-height: 56px !important;
    padding: 0 2rem !important;
    font-size: 1.125rem !important;
  }

  .mat-mdc-icon-button {
    width: 56px !important;
    height: 56px !important;
    padding: 12px !important;

    .mat-icon {
      font-size: 28px !important;
      width: 28px !important;
      height: 28px !important;
    }
  }
}

/* ==========================================================================
   Layout Utilities for Forms
   ========================================================================== */

/* Form flex layouts */
.form-compact.flex,
.form-xs.flex,
.form-standard.flex,
.form-lg.flex {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.75rem;
}

.form-compact.flex-col,
.form-xs.flex-col,
.form-standard.flex-col,
.form-lg.flex-col {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

/* Form grid layouts */
.form-compact.grid,
.form-xs.grid,
.form-standard.grid,
.form-lg.grid {
  display: grid;
  gap: 1rem;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  align-items: start;
}

/* Responsive grid */
.form-compact.grid-responsive,
.form-xs.grid-responsive,
.form-standard.grid-responsive,
.form-lg.grid-responsive {
  display: grid;
  gap: 1rem;
  grid-template-columns: 1fr;

  @media (min-width: 640px) {
    grid-template-columns: repeat(2, 1fr);
  }

  @media (min-width: 768px) {
    grid-template-columns: repeat(3, 1fr);
  }

  @media (min-width: 1024px) {
    grid-template-columns: repeat(4, 1fr);
  }
}
