/**
 * AegisX Toast Styles
 *
 * Custom styles for ngx-toastr and MatSnackBar to match AegisX Design System.
 * Import this file in your global styles.scss
 */

// ============================================
// NGX-TOASTR OVERRIDES
// ============================================

// Base toast styles
.toast-container {
  .ngx-toastr {
    font-family: var(--ax-font-family-sans, 'Inter', system-ui, sans-serif);
    border-radius: var(--ax-radius-lg, 0.75rem);
    box-shadow: var(--ax-shadow-lg, 0 10px 15px -3px rgb(0 0 0 / 0.1));
    padding: 0.875rem 1rem;
    width: 360px;
    max-width: calc(100vw - 2rem);

    // Title
    .toast-title {
      font-weight: 600;
      font-size: 0.875rem;
      margin-bottom: 0.25rem;
    }

    // Message
    .toast-message {
      font-size: 0.875rem;
      line-height: 1.5;
    }

    // Close button
    .toast-close-button {
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      font-size: 1.25rem;
      font-weight: 400;
      opacity: 0.7;
      transition: opacity 150ms ease;

      &:hover {
        opacity: 1;
      }
    }

    // Progress bar
    .toast-progress {
      height: 3px;
      border-radius: 0 0 var(--ax-radius-lg, 0.75rem)
        var(--ax-radius-lg, 0.75rem);
      opacity: 0.7;
    }
  }

  // Success toast
  .toast-success {
    background-color: var(--ax-success-faint, #f0fdf4);
    border: 1px solid var(--ax-success-muted, #bbf7d0);
    color: var(--ax-success-emphasis, #166534);

    .toast-progress {
      background-color: var(--ax-success-default, #22c55e);
    }
  }

  // Error toast
  .toast-error {
    background-color: var(--ax-error-faint, #fef2f2);
    border: 1px solid var(--ax-error-muted, #fecaca);
    color: var(--ax-error-emphasis, #991b1b);

    .toast-progress {
      background-color: var(--ax-error-default, #ef4444);
    }
  }

  // Warning toast
  .toast-warning {
    background-color: var(--ax-warning-faint, #fffbeb);
    border: 1px solid var(--ax-warning-muted, #fde68a);
    color: var(--ax-warning-emphasis, #92400e);

    .toast-progress {
      background-color: var(--ax-warning-default, #f59e0b);
    }
  }

  // Info toast
  .toast-info {
    background-color: var(--ax-info-faint, #eff6ff);
    border: 1px solid var(--ax-info-muted, #bfdbfe);
    color: var(--ax-info-emphasis, #1e40af);

    .toast-progress {
      background-color: var(--ax-info-default, #3b82f6);
    }
  }
}

// ============================================
// MAT-SNACKBAR OVERRIDES
// ============================================

// Base snackbar styles
.ax-snackbar {
  &.mat-mdc-snack-bar-container {
    .mdc-snackbar__surface {
      font-family: var(--ax-font-family-sans, 'Inter', system-ui, sans-serif);
      border-radius: var(--ax-radius-lg, 0.75rem) !important;
      box-shadow: var(
        --ax-shadow-lg,
        0 10px 15px -3px rgb(0 0 0 / 0.1)
      ) !important;
      padding: 0 !important;
    }

    .mat-mdc-snack-bar-label {
      font-size: 0.875rem;
      padding: 0.875rem 1rem;
    }

    .mat-mdc-button.mat-mdc-snack-bar-action {
      font-weight: 600;
      font-size: 0.875rem;
      padding: 0 1rem;
      min-width: auto;
    }
  }
}

// Success snackbar
.ax-snackbar-success {
  &.mat-mdc-snack-bar-container {
    .mdc-snackbar__surface {
      background-color: var(--ax-success-faint, #f0fdf4) !important;
      border: 1px solid var(--ax-success-muted, #bbf7d0);
    }

    .mat-mdc-snack-bar-label {
      color: var(--ax-success-emphasis, #166534) !important;
    }

    .mat-mdc-snack-bar-action {
      color: var(--ax-success-default, #22c55e) !important;
    }
  }
}

// Error snackbar
.ax-snackbar-error {
  &.mat-mdc-snack-bar-container {
    .mdc-snackbar__surface {
      background-color: var(--ax-error-faint, #fef2f2) !important;
      border: 1px solid var(--ax-error-muted, #fecaca);
    }

    .mat-mdc-snack-bar-label {
      color: var(--ax-error-emphasis, #991b1b) !important;
    }

    .mat-mdc-snack-bar-action {
      color: var(--ax-error-default, #ef4444) !important;
    }
  }
}

// Warning snackbar
.ax-snackbar-warning {
  &.mat-mdc-snack-bar-container {
    .mdc-snackbar__surface {
      background-color: var(--ax-warning-faint, #fffbeb) !important;
      border: 1px solid var(--ax-warning-muted, #fde68a);
    }

    .mat-mdc-snack-bar-label {
      color: var(--ax-warning-emphasis, #92400e) !important;
    }

    .mat-mdc-snack-bar-action {
      color: var(--ax-warning-default, #f59e0b) !important;
    }
  }
}

// Info snackbar
.ax-snackbar-info {
  &.mat-mdc-snack-bar-container {
    .mdc-snackbar__surface {
      background-color: var(--ax-info-faint, #eff6ff) !important;
      border: 1px solid var(--ax-info-muted, #bfdbfe);
    }

    .mat-mdc-snack-bar-label {
      color: var(--ax-info-emphasis, #1e40af) !important;
    }

    .mat-mdc-snack-bar-action {
      color: var(--ax-info-default, #3b82f6) !important;
    }
  }
}

// ============================================
// DARK MODE SUPPORT
// ============================================

.dark,
[data-theme='dark'] {
  // ngx-toastr dark mode
  .toast-container {
    .toast-success {
      background-color: rgba(34, 197, 94, 0.15);
      border-color: rgba(34, 197, 94, 0.3);
      color: #86efac;
    }

    .toast-error {
      background-color: rgba(239, 68, 68, 0.15);
      border-color: rgba(239, 68, 68, 0.3);
      color: #fca5a5;
    }

    .toast-warning {
      background-color: rgba(245, 158, 11, 0.15);
      border-color: rgba(245, 158, 11, 0.3);
      color: #fcd34d;
    }

    .toast-info {
      background-color: rgba(59, 130, 246, 0.15);
      border-color: rgba(59, 130, 246, 0.3);
      color: #93c5fd;
    }
  }

  // MatSnackBar dark mode
  .ax-snackbar-success.mat-mdc-snack-bar-container {
    .mdc-snackbar__surface {
      background-color: rgba(34, 197, 94, 0.15) !important;
      border-color: rgba(34, 197, 94, 0.3);
    }
    .mat-mdc-snack-bar-label {
      color: #86efac !important;
    }
  }

  .ax-snackbar-error.mat-mdc-snack-bar-container {
    .mdc-snackbar__surface {
      background-color: rgba(239, 68, 68, 0.15) !important;
      border-color: rgba(239, 68, 68, 0.3);
    }
    .mat-mdc-snack-bar-label {
      color: #fca5a5 !important;
    }
  }

  .ax-snackbar-warning.mat-mdc-snack-bar-container {
    .mdc-snackbar__surface {
      background-color: rgba(245, 158, 11, 0.15) !important;
      border-color: rgba(245, 158, 11, 0.3);
    }
    .mat-mdc-snack-bar-label {
      color: #fcd34d !important;
    }
  }

  .ax-snackbar-info.mat-mdc-snack-bar-container {
    .mdc-snackbar__surface {
      background-color: rgba(59, 130, 246, 0.15) !important;
      border-color: rgba(59, 130, 246, 0.3);
    }
    .mat-mdc-snack-bar-label {
      color: #93c5fd !important;
    }
  }
}
