<div [class]="layoutClasses">
  <!-- Main Label -->
  @if (label) {
    <label class="ax-scheduler-label">
      {{ label }}
      @if (required) {
        <span class="ax-scheduler-required">*</span>
      }
    </label>
  }

  <!-- Content Container -->
  <div class="ax-scheduler-content">
    <!-- Date Picker Section -->
    <div class="ax-scheduler-date">
      @if (dateLabel) {
        <label class="ax-scheduler-section-label">{{ dateLabel }}</label>
      }
      <ax-date-picker
        displayMode="inline"
        [size]="datePickerSize"
        [locale]="datePickerLocale"
        [minDate]="minDate"
        [maxDate]="maxDate"
        [disabled]="disabled"
        [(ngModel)]="selectedDate"
        (ngModelChange)="onDateSelect($event)"
      ></ax-date-picker>
    </div>

    <!-- Time Slots Section -->
    <div class="ax-scheduler-time">
      @if (timeLabel) {
        <label class="ax-scheduler-section-label">{{ timeLabel }}</label>
      }
      @if (selectedDate) {
        <ax-time-slots
          [slots]="currentTimeSlots"
          [size]="timeSlotsSize"
          [layout]="timeSlotsLayout"
          [columns]="columns"
          [timeFormat]="timeFormat"
          [locale]="locale"
          [disabled]="disabled"
          [(ngModel)]="selectedTime"
          (ngModelChange)="onTimeSelect($event)"
        ></ax-time-slots>
      } @else {
        <div class="ax-scheduler-time-placeholder">
          {{
            locale === 'th'
              ? 'กรุณาเลือกวันที่ก่อน'
              : 'Please select a date first'
          }}
        </div>
      }
    </div>
  </div>

  <!-- Selection Summary -->
  @if (hasSelection) {
    <div class="ax-scheduler-summary">
      <svg
        class="ax-scheduler-summary-icon"
        width="16"
        height="16"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
      >
        <circle cx="12" cy="12" r="10" />
        <polyline points="12,6 12,12 16,14" />
      </svg>
      <span class="ax-scheduler-summary-text">{{ formattedSelection }}</span>
    </div>
  }

  <!-- Helper Text / Error Message -->
  @if (displayMessage) {
    <div
      class="ax-scheduler-message"
      [class.ax-scheduler-message-error]="errorMessage"
    >
      {{ displayMessage }}
    </div>
  }
</div>
