<div class="ax-time-slots">
  <!-- Label -->
  @if (label) {
    <label class="ax-time-slots-label">
      {{ label }}
      @if (required) {
        <span class="ax-time-slots-required">*</span>
      }
    </label>
  }

  <!-- Slots Grid/List -->
  <div
    [class]="containerClasses"
    [ngStyle]="gridStyle"
    role="listbox"
    [attr.aria-label]="label || 'Select time slot'"
    [attr.aria-multiselectable]="mode === 'multiple'"
  >
    @for (slot of generatedSlots; track slot.time) {
      <button
        type="button"
        [class]="getSlotClasses(slot)"
        [disabled]="disabled || slot.disabled"
        [attr.aria-selected]="isSelected(slot)"
        [attr.aria-disabled]="disabled || slot.disabled"
        role="option"
        (click)="selectSlot(slot)"
      >
        <span class="ax-time-slot-label">{{ slot.label }}</span>
        @if (slot.available === false) {
          <span class="ax-time-slot-badge ax-time-slot-badge-unavailable">
            {{ locale === 'th' ? 'ไม่ว่าง' : 'Booked' }}
          </span>
        }
      </button>
    }
  </div>

  <!-- Helper Text / Error Message -->
  @if (displayMessage) {
    <div
      class="ax-time-slots-message"
      [class.ax-time-slots-message-error]="errorMessage"
    >
      {{ displayMessage }}
    </div>
  }
</div>
