<div [class]="containerClasses">
  <!-- Checkbox Control -->
  <label class="ax-checkbox-wrapper">
    <!-- Hidden Native Checkbox -->
    <input
      #checkboxInput
      type="checkbox"
      class="ax-checkbox-input"
      [checked]="checked"
      [disabled]="disabled"
      [required]="required"
      (change)="onCheckboxChange($event)"
    />

    <!-- Custom Checkbox Box -->
    <span class="ax-checkbox-box">
      <!-- Checked Icon -->
      @if (checked && !indeterminate) {
        <svg
          class="ax-checkbox-icon ax-checkbox-icon-check"
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
        >
          <path
            d="M3 8L6.5 11.5L13 5"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      }

      <!-- Indeterminate Icon -->
      @if (indeterminate) {
        <svg
          class="ax-checkbox-icon ax-checkbox-icon-indeterminate"
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
        >
          <path
            d="M4 8H12"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
          />
        </svg>
      }
    </span>

    <!-- Label Text -->
    @if (label) {
      <span class="ax-checkbox-label">
        {{ label }}
        @if (required) {
          <span class="ax-checkbox-required">*</span>
        }
      </span>
    }
  </label>

  <!-- Helper Text / Error Message -->
  @if (displayMessage) {
    <div class="ax-checkbox-message">
      {{ displayMessage }}
    </div>
  }
</div>
