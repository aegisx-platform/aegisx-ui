"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[2565],{12565:(B,h,s)=>{s.d(h,{M:()=>k});var f=s(71800),r=s(82025),l=s(43692),d=s(46897),_=s(13099),m=s(28555),g=s(54180),v=s(36586),y=s(3155),b=s(97683),t=s(75168),x=s(51945),C=s(71009),M=s(91256);const P=(a,u)=>u.code,O=(a,u)=>u.type;function D(a,u){if(1&a){const n=t.RV6();t.j41(0,"button",11),t.bIt("click",function(){l.eBV(n);const e=t.XpG();return l.Njj(e.decrement())}),t.j41(1,"mat-icon"),t.EFF(2,"remove"),t.k0s()()}if(2&a){const n=t.XpG();t.Y8G("disabled",!n.canDecrement())}}function U(a,u){if(1&a){const n=t.RV6();t.j41(0,"button",12),t.bIt("click",function(){l.eBV(n);const e=t.XpG();return l.Njj(e.increment())}),t.j41(1,"mat-icon"),t.EFF(2,"add"),t.k0s()()}if(2&a){const n=t.XpG();t.Y8G("disabled",!n.canIncrement())}}function E(a,u){if(1&a&&(t.j41(0,"span",13),t.EFF(1),t.k0s()),2&a){const n=t.XpG().$implicit;t.R7$(),t.SpI("(",n.symbol,")")}}function q(a,u){if(1&a&&(t.j41(0,"mat-option",7),t.EFF(1),t.nVh(2,E,2,1,"span",13),t.k0s()),2&a){const n=u.$implicit;t.Y8G("value",n.code),t.R7$(),t.SpI(" ",n.label," "),t.R7$(),t.vxM(n.symbol?2:-1)}}function I(a,u){if(1&a){const n=t.RV6();t.j41(0,"div",8)(1,"button",14),t.bIt("click",function(){l.eBV(n);const e=t.XpG();return l.Njj(e.multiplyValue(10))}),t.EFF(2," \xd710 "),t.k0s(),t.j41(3,"button",15),t.bIt("click",function(){l.eBV(n);const e=t.XpG();return l.Njj(e.multiplyValue(100))}),t.EFF(4," \xd7100 "),t.k0s()()}}function T(a,u){if(1&a&&(t.j41(0,"div",9),t.EFF(1),t.k0s()),2&a){const n=t.XpG();t.R7$(),t.SpI(" ",n.conversionHint()," ")}}function V(a,u){if(1&a&&(t.j41(0,"span",16),t.EFF(1),t.k0s()),2&a){const n=u.$implicit;t.R7$(),t.JRh(n.message)}}function R(a,u){if(1&a&&(t.j41(0,"div",10),t.Z7z(1,V,2,1,"span",16,O),t.k0s()),2&a){const n=t.XpG();t.R7$(),t.Dyx(n.validationErrors())}}let k=(()=>{class a{value=r.geq.required();baseUnit=r.hFB.required();availableUnits=r.hFB.required();min=(0,r.hFB)(0);max=(0,r.hFB)(1/0);step=(0,r.hFB)(1);showStepper=(0,r.hFB)(!0);showPresets=(0,r.hFB)(!1);decimalPlaces=(0,r.hFB)(0);disabled=(0,r.hFB)(!1);valueChange=(0,r.CGW)();unitChange=(0,r.CGW)();validation=(0,r.CGW)();selectedUnit=(0,l.vPA)("");isTouched=(0,l.vPA)(!1);inputValue=(0,l.vPA)("0");selectedUnitConfig=(0,d.EW)(()=>{const n=this.availableUnits(),i=this.selectedUnit();return n&&0!==n.length?n.find(e=>e.code===i)||n[0]:null});displayValue=(0,d.EW)(()=>{const n=this.value(),i=this.selectedUnitConfig();return i&&0!==i.conversionRate?n/i.conversionRate:n});conversionHint=(0,d.EW)(()=>{const n=this.value(),i=this.baseUnit(),e=this.selectedUnit();if(e===i||!e)return"";const o=this.selectedUnitConfig();return o?`= ${n} ${i}  (${o.conversionRate} ${i} per ${o.label})`:""});validationErrors=(0,d.EW)(()=>{const n=this.value(),i=[];n<this.min()&&i.push({type:"min",message:`Minimum value is ${this.min()}`}),n>this.max()&&i.push({type:"max",message:`Maximum value is ${this.max()}`});const e=this.decimalPlaces();return(n.toString().split(".")[1]||"").length>e&&i.push({type:"decimal",message:`Maximum ${e} decimal places allowed`}),0===this.availableUnits().find(p=>p.code===this.baseUnit())?.decimalPlaces&&!Number.isInteger(n)&&i.push({type:"integer",message:`${this.baseUnit()} must be a whole number`}),i});isValid=(0,d.EW)(()=>0===this.validationErrors().length);canIncrement=(0,d.EW)(()=>!this.disabled()&&this.value()<this.max());canDecrement=(0,d.EW)(()=>!this.disabled()&&this.value()>this.min());ngOnInit(){const n=this.baseUnit();n&&this.selectedUnit.set(n),this.updateInputDisplay()}increment(){if(!this.canIncrement())return;const n=this.displayValue(),i=this.step(),o=this.convertToBaseUnit(n+i,this.selectedUnit());this.updateValue(o)}decrement(){if(!this.canDecrement())return;const n=this.displayValue(),i=this.step(),e=this.convertFromBaseUnit(this.min(),this.selectedUnit()),o=Math.max(n-i,e),c=this.convertToBaseUnit(o,this.selectedUnit());this.updateValue(c)}multiplyValue(n){if(this.disabled())return;const i=this.value()*n;this.updateValue(i)}onUnitChange(n){this.selectedUnit.set(n),this.unitChange.emit(n),this.updateInputDisplay()}onInputChange(n){const e=parseFloat(n.target.value)||0,o=this.convertToBaseUnit(e,this.selectedUnit());this.updateValue(o)}onBlur(){this.isTouched.set(!0),this.onTouched()}updateValue(n){const i=this.min(),e=this.max(),o=Math.max(i,Math.min(e,n)),c=this.decimalPlaces(),p=Math.round(o*Math.pow(10,c))/Math.pow(10,c);this.value.set(p),this.valueChange.emit(p),this.onChange(p),this.updateInputDisplay(),this.validation.emit({valid:this.isValid(),errors:this.validationErrors()})}updateInputDisplay(){const n=this.displayValue(),e=this.selectedUnitConfig()?.decimalPlaces??0;this.inputValue.set(n.toFixed(e))}convertToBaseUnit(n,i){const e=this.availableUnits().find(o=>o.code===i);return e&&0!==e.conversionRate?n*e.conversionRate:n}convertFromBaseUnit(n,i){const e=this.availableUnits().find(o=>o.code===i);return e&&0!==e.conversionRate?n/e.conversionRate:n}onChange=()=>{};onTouched=()=>{};writeValue(n){null!=n&&(this.value.set(n),this.updateInputDisplay())}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=t.VBU({type:a,selectors:[["ax-quantity-input"]],inputs:{value:[1,"value"],baseUnit:[1,"baseUnit"],availableUnits:[1,"availableUnits"],min:[1,"min"],max:[1,"max"],step:[1,"step"],showStepper:[1,"showStepper"],showPresets:[1,"showPresets"],decimalPlaces:[1,"decimalPlaces"],disabled:[1,"disabled"]},outputs:{value:"valueChange",valueChange:"valueChange",unitChange:"unitChange",validation:"validation"},features:[t.Jv_([{provide:_.kq,useExisting:(0,l.Rfq)(()=>a),multi:!0}])],decls:12,vars:17,consts:[[1,"ax-quantity-input"],[1,"ax-quantity-input__controls"],["type","button","aria-label","Decrease quantity","mat-icon-button","",1,"ax-quantity-input__stepper","ax-quantity-input__stepper--decrement",3,"disabled"],["type","number",1,"ax-quantity-input__field",3,"input","blur","value","min","max","step","disabled"],["type","button","aria-label","Increase quantity","mat-icon-button","",1,"ax-quantity-input__stepper","ax-quantity-input__stepper--increment",3,"disabled"],["appearance","outline",1,"ax-quantity-input__unit-select"],["aria-label","Select unit",3,"selectionChange","value","disabled"],[3,"value"],[1,"ax-quantity-input__presets"],[1,"ax-quantity-input__hint"],[1,"ax-quantity-input__errors"],["type","button","aria-label","Decrease quantity","mat-icon-button","",1,"ax-quantity-input__stepper","ax-quantity-input__stepper--decrement",3,"click","disabled"],["type","button","aria-label","Increase quantity","mat-icon-button","",1,"ax-quantity-input__stepper","ax-quantity-input__stepper--increment",3,"click","disabled"],[1,"unit-symbol"],["type","button","mat-stroked-button","","aria-label","Multiply by 10",1,"ax-quantity-input__preset",3,"click"],["type","button","mat-stroked-button","","aria-label","Multiply by 100",1,"ax-quantity-input__preset",3,"click"],[1,"ax-quantity-input__error"]],template:function(i,e){1&i&&(t.j41(0,"div",0)(1,"div",1),t.nVh(2,D,3,1,"button",2),t.j41(3,"input",3),t.bIt("input",function(c){return e.onInputChange(c)})("blur",function(){return e.onBlur()}),t.k0s(),t.nVh(4,U,3,1,"button",4),t.j41(5,"mat-form-field",5)(6,"mat-select",6),t.bIt("selectionChange",function(c){return e.onUnitChange(c.value)}),t.Z7z(7,q,3,3,"mat-option",7,P),t.k0s()()(),t.nVh(9,I,5,0,"div",8),t.nVh(10,T,2,1,"div",9),t.nVh(11,R,3,0,"div",10),t.k0s()),2&i&&(t.AVh("ax-quantity-input--disabled",e.disabled())("ax-quantity-input--error",!e.isValid()&&e.isTouched()),t.R7$(2),t.vxM(e.showStepper()?2:-1),t.R7$(),t.Y8G("value",e.inputValue())("min",e.convertFromBaseUnit(e.min(),e.selectedUnit()))("max",e.convertFromBaseUnit(e.max(),e.selectedUnit()))("step",e.step())("disabled",e.disabled()),t.BMQ("aria-label","Quantity in "+e.selectedUnit()),t.R7$(),t.vxM(e.showStepper()?4:-1),t.R7$(2),t.Y8G("value",e.selectedUnit())("disabled",e.disabled()),t.R7$(),t.Dyx(e.availableUnits()),t.R7$(2),t.vxM(e.showPresets()&&!e.disabled()?9:-1),t.R7$(),t.vxM(e.conversionHint()?10:-1),t.R7$(),t.vxM(!e.isValid()&&e.isTouched()?11:-1))},dependencies:[f.MD,_.YN,_.X1,m.Hl,m.$z,x.iY,g.m_,g.An,v.fS,C.rl,y.R,b.Ve,b.VO,M.wT],styles:[".ax-quantity-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;width:100%}.ax-quantity-input__controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.ax-quantity-input__field[_ngcontent-%COMP%]{flex:1;min-width:0;padding:.75rem 1rem;font-size:1rem;font-weight:500;color:var(--text-primary, #1f2937);background-color:var(--background-default, #ffffff);border:1px solid var(--border-default, #d1d5db);border-radius:.375rem;transition:all .2s ease}.ax-quantity-input__field[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-500, #3b82f6);box-shadow:0 0 0 3px #3b82f61a}.ax-quantity-input__field[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background-color:var(--background-subtle, #f9fafb)}.ax-quantity-input__field[_ngcontent-%COMP%]::-webkit-outer-spin-button, .ax-quantity-input__field[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.ax-quantity-input__field[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.ax-quantity-input__stepper[_ngcontent-%COMP%]{flex-shrink:0;width:2.5rem;height:2.5rem;display:flex;align-items:center;justify-content:center;color:var(--text-primary, #1f2937);background-color:var(--background-subtle, #f3f4f6);border:1px solid var(--border-default, #d1d5db);border-radius:.375rem;cursor:pointer;transition:all .2s ease}.ax-quantity-input__stepper[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--primary-100, #dbeafe);border-color:var(--primary-500, #3b82f6);transform:scale(1.05)}.ax-quantity-input__stepper[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.95)}.ax-quantity-input__stepper[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.ax-quantity-input__stepper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.ax-quantity-input__unit-select[_ngcontent-%COMP%]{flex-shrink:0;width:auto;min-width:120px}.ax-quantity-input__unit-select[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{padding:.5rem 0;min-height:unset}.ax-quantity-input__unit-select[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{padding:0}.ax-quantity-input__unit-select[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.ax-quantity-input__unit-select[_ngcontent-%COMP%]   .unit-symbol[_ngcontent-%COMP%]{margin-left:.25rem;font-size:.875rem;color:var(--text-subtle, #6b7280)}.ax-quantity-input__presets[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.25rem}.ax-quantity-input__preset[_ngcontent-%COMP%]{padding:.375rem .75rem;font-size:.875rem;font-weight:600;color:var(--primary-600, #2563eb);background-color:transparent;border:1px solid var(--primary-300, #93c5fd);border-radius:.25rem;cursor:pointer;transition:all .2s ease}.ax-quantity-input__preset[_ngcontent-%COMP%]:hover{background-color:var(--primary-50, #eff6ff);border-color:var(--primary-500, #3b82f6)}.ax-quantity-input__preset[_ngcontent-%COMP%]:active{transform:scale(.95)}.ax-quantity-input__hint[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-subtle, #6b7280);padding-left:.5rem}.ax-quantity-input__errors[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.ax-quantity-input__error[_ngcontent-%COMP%]{font-size:.75rem;color:var(--error-600, #dc2626);padding-left:.5rem}.ax-quantity-input--disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.ax-quantity-input--disabled[_ngcontent-%COMP%]   .ax-quantity-input__field[_ngcontent-%COMP%]{cursor:not-allowed}.ax-quantity-input--error[_ngcontent-%COMP%]   .ax-quantity-input__field[_ngcontent-%COMP%]{border-color:var(--error-500, #ef4444)}.ax-quantity-input--error[_ngcontent-%COMP%]   .ax-quantity-input__field[_ngcontent-%COMP%]:focus{border-color:var(--error-600, #dc2626);box-shadow:0 0 0 3px #ef44441a}@media (max-width: 640px){.ax-quantity-input__controls[_ngcontent-%COMP%]{flex-wrap:wrap}.ax-quantity-input__unit-select[_ngcontent-%COMP%]{min-width:100px}.ax-quantity-input__presets[_ngcontent-%COMP%]{width:100%;justify-content:stretch}.ax-quantity-input__presets[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}}@media (prefers-reduced-motion: reduce){.ax-quantity-input[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .ax-quantity-input[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:before, .ax-quantity-input[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}@media (prefers-color-scheme: dark){.ax-quantity-input__field[_ngcontent-%COMP%]{background-color:var(--background-default, #1f2937);color:var(--text-primary, #f9fafb);border-color:var(--border-default, #374151)}.ax-quantity-input__stepper[_ngcontent-%COMP%]{background-color:var(--background-subtle, #374151);color:var(--text-primary, #f9fafb);border-color:var(--border-default, #4b5563)}}"]})}return a})()}}]);