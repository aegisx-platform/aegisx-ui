"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[7434],{7434:(A,c,p)=>{p.d(c,{s:()=>R});var e=p(5168),o=p(3692),_=p(1800),f=p(4180),m=p(8555),u=p(1990),g=p(3099),x=p(1945);const h=["fileInput"],v=(n,s)=>s.name;function C(n,s){if(1&n&&(e.j41(0,"span",9),e.EFF(1),e.k0s()),2&n){const a=e.XpG();e.R7$(),e.JRh(a.hint)}}function M(n,s){if(1&n&&e.nrm(0,"img",14),2&n){const a=e.XpG().$implicit;e.Y8G("src",a.preview,e.B4B)("alt",a.name)}}function O(n,s){if(1&n&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&n){const a=e.XpG().$implicit,t=e.XpG(2);e.R7$(),e.JRh(t.getFileIcon(a.type))}}function b(n,s){if(1&n&&e.nrm(0,"mat-progress-bar",18),2&n){const a=e.XpG().$implicit;e.Y8G("value",a.progress)}}function P(n,s){if(1&n&&(e.j41(0,"span",19),e.EFF(1),e.k0s()),2&n){const a=e.XpG().$implicit;e.R7$(),e.JRh(a.error)}}function F(n,s){1&n&&(e.j41(0,"mat-icon",21),e.EFF(1,"check_circle"),e.k0s())}function k(n,s){1&n&&(e.j41(0,"mat-icon",22),e.EFF(1,"error"),e.k0s())}function D(n,s){if(1&n){const a=e.RV6();e.j41(0,"div",12)(1,"div",13),e.nVh(2,M,1,2,"img",14)(3,O,2,1,"mat-icon"),e.k0s(),e.j41(4,"div",15)(5,"span",16),e.EFF(6),e.k0s(),e.j41(7,"span",17),e.EFF(8),e.k0s(),e.nVh(9,b,1,1,"mat-progress-bar",18),e.nVh(10,P,2,1,"span",19),e.k0s(),e.j41(11,"div",20),e.nVh(12,F,2,0,"mat-icon",21),e.nVh(13,k,2,0,"mat-icon",22),e.j41(14,"button",23),e.bIt("click",function(i){const l=o.eBV(a).$implicit;return e.XpG(2).removeFile(l),o.Njj(i.stopPropagation())}),e.j41(15,"mat-icon"),e.EFF(16,"close"),e.k0s()()()()}if(2&n){const a=s.$implicit,t=e.XpG(2);e.AVh("ax-file-upload-item-error","error"===a.status),e.R7$(2),e.vxM(a.preview&&t.isImage(a.type)?2:3),e.R7$(4),e.JRh(a.name),e.R7$(2),e.JRh(t.formatSize(a.size)),e.R7$(),e.vxM("uploading"===a.status?9:-1),e.R7$(),e.vxM(a.error?10:-1),e.R7$(2),e.vxM("success"===a.status?12:-1),e.R7$(),e.vxM("error"===a.status?13:-1),e.R7$(),e.Y8G("disabled",t.disabled)}}function E(n,s){if(1&n&&(e.j41(0,"div",10),e.Z7z(1,D,17,10,"div",11,v),e.k0s()),2&n){const a=e.XpG();e.R7$(),e.Dyx(a.files())}}let R=(()=>{class n{fileInput;accept="*";multiple=!1;maxFiles=10;maxSize=10485760;dragText;hint;label;disabled=!1;filesChange=new e.bkB;fileRemoved=new e.bkB;files=(0,o.vPA)([]);isDragOver=(0,o.vPA)(!1);onChange=()=>{};onTouched=()=>{};openFileDialog(){this.disabled||this.fileInput.nativeElement.click()}onFileInputChange(a){const t=a.target;t.files&&this.addFiles(Array.from(t.files)),t.value=""}onDragOver(a){a.preventDefault(),a.stopPropagation(),this.disabled||this.isDragOver.set(!0)}onDragLeave(a){a.preventDefault(),a.stopPropagation(),this.isDragOver.set(!1)}onDrop(a){a.preventDefault(),a.stopPropagation(),this.isDragOver.set(!1),!this.disabled&&a.dataTransfer?.files&&this.addFiles(Array.from(a.dataTransfer.files))}addFiles(a){const t=this.files();this.multiple||(a=a.slice(0,1));const i=this.maxFiles-t.length;if(i<=0)return;const l=(a=a.slice(0,i)).map(r=>{const d={file:r,name:r.name,size:r.size,type:r.type,progress:0,status:"pending"};return r.size>this.maxSize&&(d.status="error",d.error=`File exceeds ${this.formatSize(this.maxSize)} limit`),this.isImage(r.type)&&"error"!==d.status&&this.generatePreview(d),d});this.multiple?this.files.update(r=>[...r,...l]):this.files.set(l),this.emitChanges()}removeFile(a){this.files.update(t=>t.filter(i=>i!==a)),this.fileRemoved.emit(a),this.emitChanges()}generatePreview(a){const t=new FileReader;t.onload=()=>{a.preview=t.result},t.readAsDataURL(a.file)}emitChanges(){const a=this.files();this.filesChange.emit(a),this.onChange(a.map(t=>t.file)),this.onTouched()}isImage(a){return a.startsWith("image/")}getFileIcon(a){return a.startsWith("image/")?"image":a.startsWith("video/")?"videocam":a.startsWith("audio/")?"audiotrack":a.includes("pdf")?"picture_as_pdf":a.includes("word")||a.includes("document")?"description":a.includes("excel")||a.includes("spreadsheet")?"table_chart":a.includes("zip")||a.includes("archive")?"folder_zip":"insert_drive_file"}formatSize(a){if(0===a)return"0 B";const l=Math.floor(Math.log(a)/Math.log(1024));return parseFloat((a/Math.pow(1024,l)).toFixed(1))+" "+["B","KB","MB","GB"][l]}writeValue(a){if(a&&Array.isArray(a)){const t=a.map(i=>({file:i,name:i.name,size:i.size,type:i.type,progress:100,status:"success"}));this.files.set(t)}else this.files.set([])}registerOnChange(a){this.onChange=a}registerOnTouched(a){this.onTouched=a}setDisabledState(a){this.disabled=a}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=e.VBU({type:n,selectors:[["ax-file-upload"]],viewQuery:function(t,i){if(1&t&&e.GBs(h,5),2&t){let l;e.mGM(l=e.lsd())&&(i.fileInput=l.first)}},inputs:{accept:"accept",multiple:"multiple",maxFiles:"maxFiles",maxSize:"maxSize",dragText:"dragText",hint:"hint",label:"label",disabled:"disabled"},outputs:{filesChange:"filesChange",fileRemoved:"fileRemoved"},features:[e.Jv_([{provide:g.kq,useExisting:(0,o.Rfq)(()=>n),multi:!0}])],decls:15,vars:11,consts:[["fileInput",""],["role","button","tabindex","0",1,"ax-file-upload",3,"dragover","dragleave","drop","click","keydown.enter","keydown.space"],["type","file",1,"ax-file-upload-input",3,"change","accept","multiple","disabled"],[1,"ax-file-upload-dropzone"],[1,"ax-file-upload-icon"],[1,"ax-file-upload-text"],[1,"ax-file-upload-primary"],[1,"ax-file-upload-secondary"],[1,"ax-file-upload-link"],[1,"ax-file-upload-hint"],[1,"ax-file-upload-list"],[1,"ax-file-upload-item",3,"ax-file-upload-item-error"],[1,"ax-file-upload-item"],[1,"ax-file-upload-preview"],[3,"src","alt"],[1,"ax-file-upload-info"],[1,"ax-file-upload-name"],[1,"ax-file-upload-size"],["mode","determinate",3,"value"],[1,"ax-file-upload-error"],[1,"ax-file-upload-actions"],[1,"ax-file-upload-status","success"],[1,"ax-file-upload-status","error"],["mat-icon-button","","type","button",1,"ax-file-upload-remove",3,"click","disabled"]],template:function(t,i){if(1&t){const l=e.RV6();e.j41(0,"div",1),e.bIt("dragover",function(d){return o.eBV(l),o.Njj(i.onDragOver(d))})("dragleave",function(d){return o.eBV(l),o.Njj(i.onDragLeave(d))})("drop",function(d){return o.eBV(l),o.Njj(i.onDrop(d))})("click",function(){return o.eBV(l),o.Njj(i.openFileDialog())})("keydown.enter",function(){return o.eBV(l),o.Njj(i.openFileDialog())})("keydown.space",function(){return o.eBV(l),o.Njj(i.openFileDialog())}),e.j41(1,"input",2,0),e.bIt("change",function(d){return o.eBV(l),o.Njj(i.onFileInputChange(d))}),e.k0s(),e.j41(3,"div",3)(4,"mat-icon",4),e.EFF(5,"cloud_upload"),e.k0s(),e.j41(6,"div",5)(7,"span",6),e.EFF(8),e.k0s(),e.j41(9,"span",7),e.EFF(10," or "),e.j41(11,"span",8),e.EFF(12,"browse files"),e.k0s()()(),e.nVh(13,C,2,1,"span",9),e.k0s()(),e.nVh(14,E,3,0,"div",10)}2&t&&(e.AVh("ax-file-upload-drag-over",i.isDragOver())("ax-file-upload-disabled",i.disabled),e.BMQ("aria-label",i.label||"Upload files"),e.R7$(),e.Y8G("accept",i.accept)("multiple",i.multiple)("disabled",i.disabled),e.R7$(7),e.SpI(" ",i.dragText||"Drag and drop files here"," "),e.R7$(5),e.vxM(i.hint?13:-1),e.R7$(),e.vxM(i.files().length>0?14:-1))},dependencies:[_.MD,f.m_,f.An,m.Hl,x.iY,u.PO,u.HM],styles:["[_nghost-%COMP%]{display:block}.ax-file-upload[_ngcontent-%COMP%]{border:2px dashed var(--ax-border-default, #e4e4e7);border-radius:var(--ax-radius-lg, .75rem);padding:2rem;text-align:center;cursor:pointer;transition:all .2s ease;background:var(--ax-background-default, #ffffff)}.ax-file-upload[_ngcontent-%COMP%]:hover:not(.ax-file-upload-disabled){border-color:var(--ax-brand-default, #3b82f6);background:var(--ax-brand-faint, #eff6ff)}.ax-file-upload.ax-file-upload-drag-over[_ngcontent-%COMP%]{border-color:var(--ax-brand-default, #3b82f6);background:var(--ax-brand-faint, #eff6ff);border-style:solid}.ax-file-upload.ax-file-upload-disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.ax-file-upload-input[_ngcontent-%COMP%]{display:none}.ax-file-upload-dropzone[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.ax-file-upload-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:var(--ax-text-subtle, #a1a1aa)}.ax-file-upload-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.ax-file-upload-primary[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:var(--ax-text-primary, #3f3f46)}.ax-file-upload-secondary[_ngcontent-%COMP%]{font-size:.875rem;color:var(--ax-text-secondary, #71717a)}.ax-file-upload-link[_ngcontent-%COMP%]{color:var(--ax-brand-default, #3b82f6);font-weight:500;text-decoration:underline}.ax-file-upload-hint[_ngcontent-%COMP%]{font-size:.75rem;color:var(--ax-text-subtle, #a1a1aa);margin-top:.25rem}.ax-file-upload-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-top:1rem}.ax-file-upload-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem;background:var(--ax-background-subtle, #f4f4f5);border-radius:var(--ax-radius-md, .5rem);border:1px solid var(--ax-border-muted, #f4f4f5)}.ax-file-upload-item.ax-file-upload-item-error[_ngcontent-%COMP%]{background:var(--ax-error-faint, #fef2f2);border-color:var(--ax-error-muted, #fecaca)}.ax-file-upload-preview[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:var(--ax-radius-sm, .25rem);overflow:hidden;display:flex;align-items:center;justify-content:center;background:var(--ax-background-default, #ffffff);flex-shrink:0}.ax-file-upload-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.ax-file-upload-preview[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--ax-text-secondary, #71717a)}.ax-file-upload-info[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;gap:.25rem}.ax-file-upload-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--ax-text-primary, #3f3f46);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ax-file-upload-size[_ngcontent-%COMP%]{font-size:.75rem;color:var(--ax-text-secondary, #71717a)}.ax-file-upload-error[_ngcontent-%COMP%]{font-size:.75rem;color:var(--ax-error-default, #ef4444)}.ax-file-upload-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;flex-shrink:0}.ax-file-upload-status.success[_ngcontent-%COMP%]{color:var(--ax-success-default, #22c55e)}.ax-file-upload-status.error[_ngcontent-%COMP%]{color:var(--ax-error-default, #ef4444)}.ax-file-upload-remove[_ngcontent-%COMP%]{width:32px;height:32px}.dark[_nghost-%COMP%]   .ax-file-upload[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .ax-file-upload[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .ax-file-upload[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .ax-file-upload[_ngcontent-%COMP%]{background:var(--ax-background-default);border-color:var(--ax-border-default)}.dark[_nghost-%COMP%]   .ax-file-upload[_ngcontent-%COMP%]:hover:not(.ax-file-upload-disabled), .dark   [_nghost-%COMP%]   .ax-file-upload[_ngcontent-%COMP%]:hover:not(.ax-file-upload-disabled), [data-theme=dark][_nghost-%COMP%]   .ax-file-upload[_ngcontent-%COMP%]:hover:not(.ax-file-upload-disabled), [data-theme=dark]   [_nghost-%COMP%]   .ax-file-upload[_ngcontent-%COMP%]:hover:not(.ax-file-upload-disabled){background:#3b82f61a}.dark[_nghost-%COMP%]   .ax-file-upload.ax-file-upload-drag-over[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .ax-file-upload.ax-file-upload-drag-over[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .ax-file-upload.ax-file-upload-drag-over[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .ax-file-upload.ax-file-upload-drag-over[_ngcontent-%COMP%]{background:#3b82f61a}.dark[_nghost-%COMP%]   .ax-file-upload-item[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .ax-file-upload-item[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .ax-file-upload-item[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .ax-file-upload-item[_ngcontent-%COMP%]{background:var(--ax-background-subtle);border-color:var(--ax-border-default)}"],changeDetection:0})}return n})()}}]);